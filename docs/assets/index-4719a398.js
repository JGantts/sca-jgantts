var vp=Object.defineProperty;var mp=(e,t,n)=>t in e?vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gp=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Xr=(e,t,n)=>(mp(e,typeof t!="symbol"?t+"":t,n),n);var iC=gp((Yt,Gt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Da(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ot={},so=[],pn=()=>{},yp=()=>!1,bp=/^on[^a-z]/,qs=e=>bp.test(e),xa=e=>e.startsWith("onUpdate:"),yt=Object.assign,La=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_p=Object.prototype.hasOwnProperty,We=(e,t)=>_p.call(e,t),$e=Array.isArray,io=e=>ei(e)==="[object Map]",pd=e=>ei(e)==="[object Set]",Ae=e=>typeof e=="function",pt=e=>typeof e=="string",Ra=e=>typeof e=="symbol",lt=e=>e!==null&&typeof e=="object",vd=e=>lt(e)&&Ae(e.then)&&Ae(e.catch),md=Object.prototype.toString,ei=e=>md.call(e),wp=e=>ei(e).slice(8,-1),gd=e=>ei(e)==="[object Object]",Fa=e=>pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Cs=Da(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ti=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ep=/-(\w)/g,Sn=ti(e=>e.replace(Ep,(t,n)=>n?n.toUpperCase():"")),Sp=/\B([A-Z])/g,vo=ti(e=>e.replace(Sp,"-$1").toLowerCase()),ni=ti(e=>e.charAt(0).toUpperCase()+e.slice(1)),Os=ti(e=>e?`on${ni(e)}`:""),zo=(e,t)=>!Object.is(e,t),Is=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Qi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Pp=e=>{const t=pt(e)?Number(e):NaN;return isNaN(t)?e:t};let cc;const qi=()=>cc||(cc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bn(e){if($e(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=pt(r)?Op(r):Bn(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(pt(e))return e;if(lt(e))return e}}const $p=/;(?![^(]*\))/g,Tp=/:([^]+)/,Cp=/\/\*[^]*?\*\//g;function Op(e){const t={};return e.replace(Cp,"").split($p).forEach(n=>{if(n){const r=n.split(Tp);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function at(e){let t="";if(pt(e))t=e;else if($e(e))for(let n=0;n<e.length;n++){const r=at(e[n]);r&&(t+=r+" ")}else if(lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function jt(e){if(!e)return null;let{class:t,style:n}=e;return t&&!pt(t)&&(e.class=at(t)),n&&(e.style=Bn(n)),e}const Ip="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Np=Da(Ip);function yd(e){return!!e||e===""}const Et=e=>pt(e)?e:e==null?"":$e(e)||lt(e)&&(e.toString===md||!Ae(e.toString))?JSON.stringify(e,bd,2):String(e),bd=(e,t)=>t&&t.__v_isRef?bd(e,t.value):io(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:pd(t)?{[`Set(${t.size})`]:[...t.values()]}:lt(t)&&!$e(t)&&!gd(t)?String(t):t;let Zt;class _d{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zt,!t&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Zt;try{return Zt=this,t()}finally{Zt=n}}}on(){Zt=this}off(){Zt=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function wd(e){return new _d(e)}function Mp(e,t=Zt){t&&t.active&&t.effects.push(e)}function Ed(){return Zt}function Ap(e){Zt&&Zt.cleanups.push(e)}const ja=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Sd=e=>(e.w&pr)>0,Pd=e=>(e.n&pr)>0,kp=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=pr},Dp=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];Sd(o)&&!Pd(o)?o.delete(e):t[n++]=o,o.w&=~pr,o.n&=~pr}t.length=n}},Us=new WeakMap;let Ao=0,pr=1;const ea=30;let un;const xr=Symbol(""),ta=Symbol("");class Va{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Mp(this,r)}run(){if(!this.active)return this.fn();let t=un,n=cr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=un,un=this,cr=!0,pr=1<<++Ao,Ao<=ea?kp(this):uc(this),this.fn()}finally{Ao<=ea&&Dp(this),pr=1<<--Ao,un=this.parent,cr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){un===this?this.deferStop=!0:this.active&&(uc(this),this.onStop&&this.onStop(),this.active=!1)}}function uc(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let cr=!0;const $d=[];function mo(){$d.push(cr),cr=!1}function go(){const e=$d.pop();cr=e===void 0?!0:e}function Bt(e,t,n){if(cr&&un){let r=Us.get(e);r||Us.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=ja()),Td(o)}}function Td(e,t){let n=!1;Ao<=ea?Pd(e)||(e.n|=pr,n=!Sd(e)):n=!e.has(un),n&&(e.add(un),un.deps.push(e))}function Un(e,t,n,r,o,s){const i=Us.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&$e(e)){const l=Number(r);i.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":$e(e)?Fa(n)&&a.push(i.get("length")):(a.push(i.get(xr)),io(e)&&a.push(i.get(ta)));break;case"delete":$e(e)||(a.push(i.get(xr)),io(e)&&a.push(i.get(ta)));break;case"set":io(e)&&a.push(i.get(xr));break}if(a.length===1)a[0]&&na(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);na(ja(l))}}function na(e,t){const n=$e(e)?e:[...e];for(const r of n)r.computed&&dc(r);for(const r of n)r.computed||dc(r)}function dc(e,t){(e!==un||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function xp(e,t){var n;return(n=Us.get(e))==null?void 0:n.get(t)}const Lp=Da("__proto__,__v_isRef,__isVue"),Cd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ra)),Rp=Ua(),Fp=Ua(!1,!0),jp=Ua(!0),fc=Vp();function Vp(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Ze(this);for(let s=0,i=this.length;s<i;s++)Bt(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(Ze)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){mo();const r=Ze(this)[t].apply(this,n);return go(),r}}),e}function Up(e){const t=Ze(this);return Bt(t,"has",e),t.hasOwnProperty(e)}function Ua(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?rv:Ad:t?Md:Nd).get(r))return r;const i=$e(r);if(!e){if(i&&We(fc,o))return Reflect.get(fc,o,s);if(o==="hasOwnProperty")return Up}const a=Reflect.get(r,o,s);return(Ra(o)?Cd.has(o):Lp(o))||(e||Bt(r,"get",o),t)?a:ht(a)?i&&Fa(o)?a:a.value:lt(a)?e?Mr(a):Kt(a):a}}const zp=Od(),Bp=Od(!0);function Od(e=!1){return function(n,r,o,s){let i=n[r];if(ho(i)&&ht(i)&&!ht(o))return!1;if(!e&&(!zs(o)&&!ho(o)&&(i=Ze(i),o=Ze(o)),!$e(n)&&ht(i)&&!ht(o)))return i.value=o,!0;const a=$e(n)&&Fa(r)?Number(r)<n.length:We(n,r),l=Reflect.set(n,r,o,s);return n===Ze(s)&&(a?zo(o,i)&&Un(n,"set",r,o):Un(n,"add",r,o)),l}}function Kp(e,t){const n=We(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Un(e,"delete",t,void 0),r}function Hp(e,t){const n=Reflect.has(e,t);return(!Ra(t)||!Cd.has(t))&&Bt(e,"has",t),n}function Zp(e){return Bt(e,"iterate",$e(e)?"length":xr),Reflect.ownKeys(e)}const Id={get:Rp,set:zp,deleteProperty:Kp,has:Hp,ownKeys:Zp},Wp={get:jp,set(e,t){return!0},deleteProperty(e,t){return!0}},Yp=yt({},Id,{get:Fp,set:Bp}),za=e=>e,ri=e=>Reflect.getPrototypeOf(e);function hs(e,t,n=!1,r=!1){e=e.__v_raw;const o=Ze(e),s=Ze(t);n||(t!==s&&Bt(o,"get",t),Bt(o,"get",s));const{has:i}=ri(o),a=r?za:n?Ha:Bo;if(i.call(o,t))return a(e.get(t));if(i.call(o,s))return a(e.get(s));e!==o&&e.get(t)}function ps(e,t=!1){const n=this.__v_raw,r=Ze(n),o=Ze(e);return t||(e!==o&&Bt(r,"has",e),Bt(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function vs(e,t=!1){return e=e.__v_raw,!t&&Bt(Ze(e),"iterate",xr),Reflect.get(e,"size",e)}function hc(e){e=Ze(e);const t=Ze(this);return ri(t).has.call(t,e)||(t.add(e),Un(t,"add",e,e)),this}function pc(e,t){t=Ze(t);const n=Ze(this),{has:r,get:o}=ri(n);let s=r.call(n,e);s||(e=Ze(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,t),s?zo(t,i)&&Un(n,"set",e,t):Un(n,"add",e,t),this}function vc(e){const t=Ze(this),{has:n,get:r}=ri(t);let o=n.call(t,e);o||(e=Ze(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&Un(t,"delete",e,void 0),s}function mc(){const e=Ze(this),t=e.size!==0,n=e.clear();return t&&Un(e,"clear",void 0,void 0),n}function ms(e,t){return function(r,o){const s=this,i=s.__v_raw,a=Ze(i),l=t?za:e?Ha:Bo;return!e&&Bt(a,"iterate",xr),i.forEach((c,u)=>r.call(o,l(c),l(u),s))}}function gs(e,t,n){return function(...r){const o=this.__v_raw,s=Ze(o),i=io(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=o[e](...r),u=n?za:t?Ha:Bo;return!t&&Bt(s,"iterate",l?ta:xr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:this}}function Gp(){const e={get(s){return hs(this,s)},get size(){return vs(this)},has:ps,add:hc,set:pc,delete:vc,clear:mc,forEach:ms(!1,!1)},t={get(s){return hs(this,s,!1,!0)},get size(){return vs(this)},has:ps,add:hc,set:pc,delete:vc,clear:mc,forEach:ms(!1,!0)},n={get(s){return hs(this,s,!0)},get size(){return vs(this,!0)},has(s){return ps.call(this,s,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:ms(!0,!1)},r={get(s){return hs(this,s,!0,!0)},get size(){return vs(this,!0)},has(s){return ps.call(this,s,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:ms(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=gs(s,!1,!1),n[s]=gs(s,!0,!1),t[s]=gs(s,!1,!0),r[s]=gs(s,!0,!0)}),[e,n,t,r]}const[Jp,Xp,Qp,qp]=Gp();function Ba(e,t){const n=t?e?qp:Qp:e?Xp:Jp;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(We(n,o)&&o in r?n:r,o,s)}const ev={get:Ba(!1,!1)},tv={get:Ba(!1,!0)},nv={get:Ba(!0,!1)},Nd=new WeakMap,Md=new WeakMap,Ad=new WeakMap,rv=new WeakMap;function ov(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sv(e){return e.__v_skip||!Object.isExtensible(e)?0:ov(wp(e))}function Kt(e){return ho(e)?e:Ka(e,!1,Id,ev,Nd)}function iv(e){return Ka(e,!1,Yp,tv,Md)}function Mr(e){return Ka(e,!0,Wp,nv,Ad)}function Ka(e,t,n,r,o){if(!lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=sv(e);if(i===0)return e;const a=new Proxy(e,i===2?r:n);return o.set(e,a),a}function Rn(e){return ho(e)?Rn(e.__v_raw):!!(e&&e.__v_isReactive)}function ho(e){return!!(e&&e.__v_isReadonly)}function zs(e){return!!(e&&e.__v_isShallow)}function kd(e){return Rn(e)||ho(e)}function Ze(e){const t=e&&e.__v_raw;return t?Ze(t):e}function oi(e){return Vs(e,"__v_skip",!0),e}const Bo=e=>lt(e)?Kt(e):e,Ha=e=>lt(e)?Mr(e):e;function Dd(e){cr&&un&&(e=Ze(e),Td(e.dep||(e.dep=ja())))}function xd(e,t){e=Ze(e);const n=e.dep;n&&na(n)}function ht(e){return!!(e&&e.__v_isRef===!0)}function be(e){return av(e,!1)}function av(e,t){return ht(e)?e:new lv(e,t)}class lv{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ze(t),this._value=n?t:Bo(t)}get value(){return Dd(this),this._value}set value(t){const n=this.__v_isShallow||zs(t)||ho(t);t=n?t:Ze(t),zo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Bo(t),xd(this))}}function M(e){return ht(e)?e.value:e}const cv={get:(e,t,n)=>M(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ht(o)&&!ht(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Ld(e){return Rn(e)?e:new Proxy(e,cv)}function Rd(e){const t=$e(e)?new Array(e.length):{};for(const n in e)t[n]=Fd(e,n);return t}class uv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return xp(Ze(this._object),this._key)}}class dv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Dn(e,t,n){return ht(e)?e:Ae(e)?new dv(e):lt(e)&&arguments.length>1?Fd(e,t,n):be(e)}function Fd(e,t,n){const r=e[t];return ht(r)?r:new uv(e,t,n)}class fv{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Va(t,()=>{this._dirty||(this._dirty=!0,xd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=Ze(this);return Dd(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function hv(e,t,n=!1){let r,o;const s=Ae(e);return s?(r=e,o=pn):(r=e.get,o=e.set),new fv(r,o,s||!o,n)}function ur(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){si(s,t,n)}return o}function tn(e,t,n,r){if(Ae(e)){const s=ur(e,t,n,r);return s&&vd(s)&&s.catch(i=>{si(i,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(tn(e[s],t,n,r));return o}function si(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){ur(l,null,10,[e,i,a]);return}}pv(e,n,o,r)}function pv(e,t,n,r=!0){console.error(e)}let Ko=!1,ra=!1;const It=[];let En=0;const ao=[];let kn=null,Ar=0;const jd=Promise.resolve();let Za=null;function rs(e){const t=Za||jd;return e?t.then(this?e.bind(this):e):t}function vv(e){let t=En+1,n=It.length;for(;t<n;){const r=t+n>>>1;Ho(It[r])<e?t=r+1:n=r}return t}function Wa(e){(!It.length||!It.includes(e,Ko&&e.allowRecurse?En+1:En))&&(e.id==null?It.push(e):It.splice(vv(e.id),0,e),Vd())}function Vd(){!Ko&&!ra&&(ra=!0,Za=jd.then(zd))}function mv(e){const t=It.indexOf(e);t>En&&It.splice(t,1)}function gv(e){$e(e)?ao.push(...e):(!kn||!kn.includes(e,e.allowRecurse?Ar+1:Ar))&&ao.push(e),Vd()}function gc(e,t=Ko?En+1:0){for(;t<It.length;t++){const n=It[t];n&&n.pre&&(It.splice(t,1),t--,n())}}function Ud(e){if(ao.length){const t=[...new Set(ao)];if(ao.length=0,kn){kn.push(...t);return}for(kn=t,kn.sort((n,r)=>Ho(n)-Ho(r)),Ar=0;Ar<kn.length;Ar++)kn[Ar]();kn=null,Ar=0}}const Ho=e=>e.id==null?1/0:e.id,yv=(e,t)=>{const n=Ho(e)-Ho(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function zd(e){ra=!1,Ko=!0,It.sort(yv);const t=pn;try{for(En=0;En<It.length;En++){const n=It[En];n&&n.active!==!1&&ur(n,null,14)}}finally{En=0,It.length=0,Ud(),Ko=!1,Za=null,(It.length||ao.length)&&zd()}}function bv(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ot;let o=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in r){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:f}=r[u]||ot;f&&(o=n.map(h=>pt(h)?h.trim():h)),d&&(o=n.map(Qi))}let a,l=r[a=Os(t)]||r[a=Os(Sn(t))];!l&&s&&(l=r[a=Os(vo(t))]),l&&tn(l,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,tn(c,e,6,o)}}function Bd(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},a=!1;if(!Ae(e)){const l=c=>{const u=Bd(c,t,!0);u&&(a=!0,yt(i,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(lt(e)&&r.set(e,null),null):($e(s)?s.forEach(l=>i[l]=null):yt(i,s),lt(e)&&r.set(e,i),i)}function ii(e,t){return!e||!qs(t)?!1:(t=t.slice(2).replace(/Once$/,""),We(e,t[0].toLowerCase()+t.slice(1))||We(e,vo(t))||We(e,t))}let $t=null,ai=null;function Bs(e){const t=$t;return $t=e,ai=e&&e.type.__scopeId||null,t}function Ya(e){ai=e}function Ga(){ai=null}function Qe(e,t=$t,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Oc(-1);const s=Bs(t);let i;try{i=e(...o)}finally{Bs(s),r._d&&Oc(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function ki(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:y,inheritAttrs:E}=e;let w,p;const v=Bs(e);try{if(n.shapeFlag&4){const _=o||r;w=_n(u.call(_,_,d,s,h,f,y)),p=l}else{const _=t;w=_n(_.length>1?_(s,{attrs:l,slots:a,emit:c}):_(s,null)),p=t.props?l:_v(l)}}catch(_){Lo.length=0,si(_,e,1),w=Je(zn)}let b=w;if(p&&E!==!1){const _=Object.keys(p),{shapeFlag:S}=b;_.length&&S&7&&(i&&_.some(xa)&&(p=wv(p,i)),b=Rr(b,p))}return n.dirs&&(b=Rr(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),w=b,Bs(v),w}const _v=e=>{let t;for(const n in e)(n==="class"||n==="style"||qs(n))&&((t||(t={}))[n]=e[n]);return t},wv=(e,t)=>{const n={};for(const r in e)(!xa(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ev(e,t,n){const{props:r,children:o,component:s}=e,{props:i,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?yc(r,i,c):!!i;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(i[f]!==r[f]&&!ii(c,f))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?yc(r,i,c):!0:!!i;return!1}function yc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!ii(n,s))return!0}return!1}function Sv({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Pv=e=>e.__isSuspense;function $v(e,t){t&&t.pendingBranch?$e(e)?t.effects.push(...e):t.effects.push(e):gv(e)}function Jt(e,t){return li(e,null,t)}function Tv(e,t){return li(e,null,{flush:"post"})}const ys={};function De(e,t,n){return li(e,t,n)}function li(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:i}=ot){var a;const l=Ed()===((a=St)==null?void 0:a.scope)?St:null;let c,u=!1,d=!1;if(ht(e)?(c=()=>e.value,u=zs(e)):Rn(e)?(c=()=>e,r=!0):$e(e)?(d=!0,u=e.some(_=>Rn(_)||zs(_)),c=()=>e.map(_=>{if(ht(_))return _.value;if(Rn(_))return Dr(_);if(Ae(_))return ur(_,l,2)})):Ae(e)?t?c=()=>ur(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),tn(e,l,3,[h])}:c=pn,t&&r){const _=c;c=()=>Dr(_())}let f,h=_=>{f=v.onStop=()=>{ur(_,l,4)}},y;if(Yo)if(h=pn,t?n&&tn(t,l,3,[c(),d?[]:void 0,h]):c(),o==="sync"){const _=gm();y=_.__watcherHandles||(_.__watcherHandles=[])}else return pn;let E=d?new Array(e.length).fill(ys):ys;const w=()=>{if(v.active)if(t){const _=v.run();(r||u||(d?_.some((S,m)=>zo(S,E[m])):zo(_,E)))&&(f&&f(),tn(t,l,3,[_,E===ys?void 0:d&&E[0]===ys?[]:E,h]),E=_)}else v.run()};w.allowRecurse=!!t;let p;o==="sync"?p=w:o==="post"?p=()=>Rt(w,l&&l.suspense):(w.pre=!0,l&&(w.id=l.uid),p=()=>Wa(w));const v=new Va(c,p);t?n?w():E=v.run():o==="post"?Rt(v.run.bind(v),l&&l.suspense):v.run();const b=()=>{v.stop(),l&&l.scope&&La(l.scope.effects,v)};return y&&y.push(b),b}function Cv(e,t,n){const r=this.proxy,o=pt(e)?e.includes(".")?Kd(r,e):()=>r[e]:e.bind(r,r);let s;Ae(t)?s=t:(s=t.handler,n=t);const i=St;po(this);const a=li(o,s.bind(r),n);return i?po(i):Lr(),a}function Kd(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Dr(e,t){if(!lt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ht(e))Dr(e.value,t);else if($e(e))for(let n=0;n<e.length;n++)Dr(e[n],t);else if(pd(e)||io(e))e.forEach(n=>{Dr(n,t)});else if(gd(e))for(const n in e)Dr(e[n],t);return e}function Hd(e,t){const n=$t;if(n===null)return e;const r=hi(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,l,c=ot]=t[s];i&&(Ae(i)&&(i={mounted:i,updated:i}),i.deep&&Dr(a),o.push({dir:i,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Sr(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let i=0;i<o.length;i++){const a=o[i];s&&(a.oldValue=s[i].value);let l=a.dir[r];l&&(mo(),tn(l,n,8,[e.el,a,e,t]),go())}}function Ov(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Cn(()=>{e.isMounted=!0}),Ja(()=>{e.isUnmounting=!0}),e}const qt=[Function,Array],Iv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qt,onEnter:qt,onAfterEnter:qt,onEnterCancelled:qt,onBeforeLeave:qt,onLeave:qt,onAfterLeave:qt,onLeaveCancelled:qt,onBeforeAppear:qt,onAppear:qt,onAfterAppear:qt,onAppearCancelled:qt};function Nv(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function oa(e,t,n,r){const{appear:o,mode:s,persisted:i=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:y,onBeforeAppear:E,onAppear:w,onAfterAppear:p,onAppearCancelled:v}=t,b=String(e.key),_=Nv(n,e),S=(O,L)=>{O&&tn(O,r,9,L)},m=(O,L)=>{const V=L[1];S(O,L),$e(O)?O.every(W=>W.length<=1)&&V():O.length<=1&&V()},C={mode:s,persisted:i,beforeEnter(O){let L=a;if(!n.isMounted)if(o)L=E||a;else return;O._leaveCb&&O._leaveCb(!0);const V=_[b];V&&to(e,V)&&V.el._leaveCb&&V.el._leaveCb(),S(L,[O])},enter(O){let L=l,V=c,W=u;if(!n.isMounted)if(o)L=w||l,V=p||c,W=v||u;else return;let F=!1;const J=O._enterCb=te=>{F||(F=!0,te?S(W,[O]):S(V,[O]),C.delayedLeave&&C.delayedLeave(),O._enterCb=void 0)};L?m(L,[O,J]):J()},leave(O,L){const V=String(e.key);if(O._enterCb&&O._enterCb(!0),n.isUnmounting)return L();S(d,[O]);let W=!1;const F=O._leaveCb=J=>{W||(W=!0,L(),J?S(y,[O]):S(h,[O]),O._leaveCb=void 0,_[V]===e&&delete _[V])};_[V]=e,f?m(f,[O,F]):F()},clone(O){return oa(O,t,n,r)}};return C}function sa(e,t){e.shapeFlag&6&&e.component?sa(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zd(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let i=e[s];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:s);i.type===me?(i.patchFlag&128&&o++,r=r.concat(Zd(i.children,t,a))):(t||i.type!==zn)&&r.push(a!=null?Rr(i,{key:a}):i)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Me(e,t){return Ae(e)?(()=>yt({name:e.name},t,{setup:e}))():e}const Do=e=>!!e.type.__asyncLoader,Wd=e=>e.type.__isKeepAlive;function Mv(e,t){Yd(e,"a",t)}function Av(e,t){Yd(e,"da",t)}function Yd(e,t,n=St){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ci(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Wd(o.parent.vnode)&&kv(r,t,n,o),o=o.parent}}function kv(e,t,n,r){const o=ci(t,e,r,!0);gr(()=>{La(r[t],o)},n)}function ci(e,t,n=St,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;mo(),po(n);const a=tn(t,n,e,i);return Lr(),go(),a});return r?o.unshift(s):o.push(s),s}}const Kn=e=>(t,n=St)=>(!Yo||e==="sp")&&ci(e,(...r)=>t(...r),n),Gd=Kn("bm"),Cn=Kn("m"),Dv=Kn("bu"),Jd=Kn("u"),Ja=Kn("bum"),gr=Kn("um"),xv=Kn("sp"),Lv=Kn("rtg"),Rv=Kn("rtc");function Fv(e,t=St){ci("ec",e,t)}const Xa="components";function jv(e,t){return qd(Xa,e,!0,t)||e}const Xd=Symbol.for("v-ndc");function Qd(e){return pt(e)?qd(Xa,e,!1)||e:e||Xd}function qd(e,t,n=!0,r=!1){const o=$t||St;if(o){const s=o.type;if(e===Xa){const a=pm(s,!1);if(a&&(a===t||a===Sn(t)||a===ni(Sn(t))))return s}const i=bc(o[e]||s[e],t)||bc(o.appContext[e],t);return!i&&r?s:i}}function bc(e,t){return e&&(e[t]||e[Sn(t)]||e[ni(Sn(t))])}function xe(e,t,n,r){let o;const s=n&&n[r];if($e(e)||pt(e)){o=new Array(e.length);for(let i=0,a=e.length;i<a;i++)o[i]=t(e[i],i,void 0,s&&s[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,s&&s[i])}else if(lt(e))if(e[Symbol.iterator])o=Array.from(e,(i,a)=>t(i,a,void 0,s&&s[a]));else{const i=Object.keys(e);o=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const c=i[a];o[a]=t(e[c],c,a,s&&s[a])}}else o=[];return n&&(n[r]=o),o}function Qa(e,t){for(let n=0;n<t.length;n++){const r=t[n];if($e(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}function Xe(e,t,n={},r,o){if($t.isCE||$t.parent&&Do($t.parent)&&$t.parent.isCE)return t!=="default"&&(n.name=t),Je("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),z();const i=s&&ef(s(n)),a=ke(me,{key:n.key||i&&i.key||`_${t}`},i||(r?r():[]),i&&e._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function ef(e){return e.some(t=>ff(t)?!(t.type===zn||t.type===me&&!ef(t.children)):!0)?e:null}function Vv(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Os(r)]=e[r];return n}const ia=e=>e?pf(e)?hi(e)||e.proxy:ia(e.parent):null,xo=yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ia(e.parent),$root:e=>ia(e.root),$emit:e=>e.emit,$options:e=>qa(e),$forceUpdate:e=>e.f||(e.f=()=>Wa(e.update)),$nextTick:e=>e.n||(e.n=rs.bind(e.proxy)),$watch:e=>Cv.bind(e)}),Di=(e,t)=>e!==ot&&!e.__isScriptSetup&&We(e,t),Uv={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Di(r,t))return i[t]=1,r[t];if(o!==ot&&We(o,t))return i[t]=2,o[t];if((c=e.propsOptions[0])&&We(c,t))return i[t]=3,s[t];if(n!==ot&&We(n,t))return i[t]=4,n[t];aa&&(i[t]=0)}}const u=xo[t];let d,f;if(u)return t==="$attrs"&&Bt(e,"get",t),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==ot&&We(n,t))return i[t]=4,n[t];if(f=l.config.globalProperties,We(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Di(o,t)?(o[t]=n,!0):r!==ot&&We(r,t)?(r[t]=n,!0):We(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let a;return!!n[i]||e!==ot&&We(e,i)||Di(t,i)||(a=s[0])&&We(a,i)||We(r,i)||We(xo,i)||We(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:We(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ui(){return tf().slots}function zv(){return tf().attrs}function tf(){const e=nl();return e.setupContext||(e.setupContext=mf(e))}function _c(e){return $e(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aa=!0;function Bv(e){const t=qa(e),n=e.proxy,r=e.ctx;aa=!1,t.beforeCreate&&wc(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:y,activated:E,deactivated:w,beforeDestroy:p,beforeUnmount:v,destroyed:b,unmounted:_,render:S,renderTracked:m,renderTriggered:C,errorCaptured:O,serverPrefetch:L,expose:V,inheritAttrs:W,components:F,directives:J,filters:te}=t;if(c&&Kv(c,r,null),i)for(const pe in i){const ue=i[pe];Ae(ue)&&(r[pe]=ue.bind(n))}if(o){const pe=o.call(n,n);lt(pe)&&(e.data=Kt(pe))}if(aa=!0,s)for(const pe in s){const ue=s[pe],Ve=Ae(ue)?ue.bind(n,n):Ae(ue.get)?ue.get.bind(n,n):pn,re=!Ae(ue)&&Ae(ue.set)?ue.set.bind(n):pn,x=se({get:Ve,set:re});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>x.value,set:Y=>x.value=Y})}if(a)for(const pe in a)nf(a[pe],r,n,pe);if(l){const pe=Ae(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(ue=>{Wt(ue,pe[ue])})}u&&wc(u,e,"c");function ne(pe,ue){$e(ue)?ue.forEach(Ve=>pe(Ve.bind(n))):ue&&pe(ue.bind(n))}if(ne(Gd,d),ne(Cn,f),ne(Dv,h),ne(Jd,y),ne(Mv,E),ne(Av,w),ne(Fv,O),ne(Rv,m),ne(Lv,C),ne(Ja,v),ne(gr,_),ne(xv,L),$e(V))if(V.length){const pe=e.exposed||(e.exposed={});V.forEach(ue=>{Object.defineProperty(pe,ue,{get:()=>n[ue],set:Ve=>n[ue]=Ve})})}else e.exposed||(e.exposed={});S&&e.render===pn&&(e.render=S),W!=null&&(e.inheritAttrs=W),F&&(e.components=F),J&&(e.directives=J)}function Kv(e,t,n=pn){$e(e)&&(e=la(e));for(const r in e){const o=e[r];let s;lt(o)?"default"in o?s=zt(o.from||r,o.default,!0):s=zt(o.from||r):s=zt(o),ht(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[r]=s}}function wc(e,t,n){tn($e(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function nf(e,t,n,r){const o=r.includes(".")?Kd(n,r):()=>n[r];if(pt(e)){const s=t[e];Ae(s)&&De(o,s)}else if(Ae(e))De(o,e.bind(n));else if(lt(e))if($e(e))e.forEach(s=>nf(s,t,n,r));else{const s=Ae(e.handler)?e.handler.bind(n):t[e.handler];Ae(s)&&De(o,s,e)}}function qa(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(c=>Ks(l,c,i,!0)),Ks(l,t,i)),lt(t)&&s.set(t,l),l}function Ks(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Ks(e,s,n,!0),o&&o.forEach(i=>Ks(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=Hv[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Hv={data:Ec,props:Sc,emits:Sc,methods:ko,computed:ko,beforeCreate:Dt,created:Dt,beforeMount:Dt,mounted:Dt,beforeUpdate:Dt,updated:Dt,beforeDestroy:Dt,beforeUnmount:Dt,destroyed:Dt,unmounted:Dt,activated:Dt,deactivated:Dt,errorCaptured:Dt,serverPrefetch:Dt,components:ko,directives:ko,watch:Wv,provide:Ec,inject:Zv};function Ec(e,t){return t?e?function(){return yt(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function Zv(e,t){return ko(la(e),la(t))}function la(e){if($e(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dt(e,t){return e?[...new Set([].concat(e,t))]:t}function ko(e,t){return e?yt(Object.create(null),e,t):t}function Sc(e,t){return e?$e(e)&&$e(t)?[...new Set([...e,...t])]:yt(Object.create(null),_c(e),_c(t??{})):t}function Wv(e,t){if(!e)return t;if(!t)return e;const n=yt(Object.create(null),e);for(const r in t)n[r]=Dt(e[r],t[r]);return n}function rf(){return{app:null,config:{isNativeTag:yp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yv=0;function Gv(e,t){return function(r,o=null){Ae(r)||(r=yt({},r)),o!=null&&!lt(o)&&(o=null);const s=rf(),i=new Set;let a=!1;const l=s.app={_uid:Yv++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:ym,get config(){return s.config},set config(c){},use(c,...u){return i.has(c)||(c&&Ae(c.install)?(i.add(c),c.install(l,...u)):Ae(c)&&(i.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,d){if(!a){const f=Je(r,o);return f.appContext=s,u&&t?t(f,c):e(f,c,d),a=!0,l._container=c,c.__vue_app__=l,hi(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){Zo=l;try{return c()}finally{Zo=null}}};return l}}let Zo=null;function Wt(e,t){if(St){let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[e]=t}}function zt(e,t,n=!1){const r=St||$t;if(r||Zo){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Zo._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ae(t)?t.call(r&&r.proxy):t}}function Jv(){return!!(St||$t||Zo)}function Xv(e,t,n,r=!1){const o={},s={};Vs(s,fi,1),e.propsDefaults=Object.create(null),of(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:iv(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Qv(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,a=Ze(o),[l]=e.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ii(e.emitsOptions,f))continue;const h=t[f];if(l)if(We(s,f))h!==s[f]&&(s[f]=h,c=!0);else{const y=Sn(f);o[y]=ca(l,a,y,h,e,!1)}else h!==s[f]&&(s[f]=h,c=!0)}}}else{of(e,t,o,s)&&(c=!0);let u;for(const d in a)(!t||!We(t,d)&&((u=vo(d))===d||!We(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(o[d]=ca(l,a,d,void 0,e,!0)):delete o[d]);if(s!==a)for(const d in s)(!t||!We(t,d))&&(delete s[d],c=!0)}c&&Un(e,"set","$attrs")}function of(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(Cs(l))continue;const c=t[l];let u;o&&We(o,u=Sn(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:ii(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(s){const l=Ze(n),c=a||ot;for(let u=0;u<s.length;u++){const d=s[u];n[d]=ca(o,l,d,c[d],e,!We(c,d))}}return i}function ca(e,t,n,r,o,s){const i=e[n];if(i!=null){const a=We(i,"default");if(a&&r===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Ae(l)){const{propsDefaults:c}=o;n in c?r=c[n]:(po(o),r=c[n]=l.call(null,t),Lr())}else r=l}i[0]&&(s&&!a?r=!1:i[1]&&(r===""||r===vo(n))&&(r=!0))}return r}function sf(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},a=[];let l=!1;if(!Ae(e)){const u=d=>{l=!0;const[f,h]=sf(d,t,!0);yt(i,f),h&&a.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return lt(e)&&r.set(e,so),so;if($e(s))for(let u=0;u<s.length;u++){const d=Sn(s[u]);Pc(d)&&(i[d]=ot)}else if(s)for(const u in s){const d=Sn(u);if(Pc(d)){const f=s[u],h=i[d]=$e(f)||Ae(f)?{type:f}:yt({},f);if(h){const y=Cc(Boolean,h.type),E=Cc(String,h.type);h[0]=y>-1,h[1]=E<0||y<E,(y>-1||We(h,"default"))&&a.push(d)}}}const c=[i,a];return lt(e)&&r.set(e,c),c}function Pc(e){return e[0]!=="$"}function $c(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Tc(e,t){return $c(e)===$c(t)}function Cc(e,t){return $e(t)?t.findIndex(n=>Tc(n,e)):Ae(t)&&Tc(t,e)?0:-1}const af=e=>e[0]==="_"||e==="$stable",el=e=>$e(e)?e.map(_n):[_n(e)],qv=(e,t,n)=>{if(t._n)return t;const r=Qe((...o)=>el(t(...o)),n);return r._c=!1,r},lf=(e,t,n)=>{const r=e._ctx;for(const o in e){if(af(o))continue;const s=e[o];if(Ae(s))t[o]=qv(o,s,r);else if(s!=null){const i=el(s);t[o]=()=>i}}},cf=(e,t)=>{const n=el(t);e.slots.default=()=>n},em=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ze(t),Vs(t,"_",n)):lf(t,e.slots={})}else e.slots={},t&&cf(e,t);Vs(e.slots,fi,1)},tm=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,i=ot;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(yt(o,t),!n&&a===1&&delete o._):(s=!t.$stable,lf(t,o)),i=t}else t&&(cf(e,t),i={default:1});if(s)for(const a in o)!af(a)&&!(a in i)&&delete o[a]};function ua(e,t,n,r,o=!1){if($e(e)){e.forEach((f,h)=>ua(f,t&&($e(t)?t[h]:t),n,r,o));return}if(Do(r)&&!o)return;const s=r.shapeFlag&4?hi(r.component)||r.component.proxy:r.el,i=o?null:s,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ot?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(pt(c)?(u[c]=null,We(d,c)&&(d[c]=null)):ht(c)&&(c.value=null)),Ae(l))ur(l,a,12,[i,u]);else{const f=pt(l),h=ht(l);if(f||h){const y=()=>{if(e.f){const E=f?We(d,l)?d[l]:u[l]:l.value;o?$e(E)&&La(E,s):$e(E)?E.includes(s)||E.push(s):f?(u[l]=[s],We(d,l)&&(d[l]=u[l])):(l.value=[s],e.k&&(u[e.k]=l.value))}else f?(u[l]=i,We(d,l)&&(d[l]=i)):h&&(l.value=i,e.k&&(u[e.k]=i))};i?(y.id=-1,Rt(y,n)):y()}}}const Rt=$v;function nm(e){return rm(e)}function rm(e,t){const n=qi();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=pn,insertStaticContent:y}=e,E=(g,$,A,R=null,U=null,Q=null,oe=!1,q=null,ee=!!$.dynamicChildren)=>{if(g===$)return;g&&!to(g,$)&&(R=le(g),Y(g,U,Q,!0),g=null),$.patchFlag===-2&&(ee=!1,$.dynamicChildren=null);const{type:G,ref:de,shapeFlag:ie}=$;switch(G){case di:w(g,$,A,R);break;case zn:p(g,$,A,R);break;case Ns:g==null&&v($,A,R,oe);break;case me:F(g,$,A,R,U,Q,oe,q,ee);break;default:ie&1?S(g,$,A,R,U,Q,oe,q,ee):ie&6?J(g,$,A,R,U,Q,oe,q,ee):(ie&64||ie&128)&&G.process(g,$,A,R,U,Q,oe,q,ee,Te)}de!=null&&U&&ua(de,g&&g.ref,Q,$||g,!$)},w=(g,$,A,R)=>{if(g==null)r($.el=a($.children),A,R);else{const U=$.el=g.el;$.children!==g.children&&c(U,$.children)}},p=(g,$,A,R)=>{g==null?r($.el=l($.children||""),A,R):$.el=g.el},v=(g,$,A,R)=>{[g.el,g.anchor]=y(g.children,$,A,R,g.el,g.anchor)},b=({el:g,anchor:$},A,R)=>{let U;for(;g&&g!==$;)U=f(g),r(g,A,R),g=U;r($,A,R)},_=({el:g,anchor:$})=>{let A;for(;g&&g!==$;)A=f(g),o(g),g=A;o($)},S=(g,$,A,R,U,Q,oe,q,ee)=>{oe=oe||$.type==="svg",g==null?m($,A,R,U,Q,oe,q,ee):L(g,$,U,Q,oe,q,ee)},m=(g,$,A,R,U,Q,oe,q)=>{let ee,G;const{type:de,props:ie,shapeFlag:ge,transition:Se,dirs:Ce}=g;if(ee=g.el=i(g.type,Q,ie&&ie.is,ie),ge&8?u(ee,g.children):ge&16&&O(g.children,ee,null,R,U,Q&&de!=="foreignObject",oe,q),Ce&&Sr(g,null,R,"created"),C(ee,g,g.scopeId,oe,R),ie){for(const Ue in ie)Ue!=="value"&&!Cs(Ue)&&s(ee,Ue,null,ie[Ue],Q,g.children,R,U,K);"value"in ie&&s(ee,"value",null,ie.value),(G=ie.onVnodeBeforeMount)&&bn(G,R,g)}Ce&&Sr(g,null,R,"beforeMount");const Be=(!U||U&&!U.pendingBranch)&&Se&&!Se.persisted;Be&&Se.beforeEnter(ee),r(ee,$,A),((G=ie&&ie.onVnodeMounted)||Be||Ce)&&Rt(()=>{G&&bn(G,R,g),Be&&Se.enter(ee),Ce&&Sr(g,null,R,"mounted")},U)},C=(g,$,A,R,U)=>{if(A&&h(g,A),R)for(let Q=0;Q<R.length;Q++)h(g,R[Q]);if(U){let Q=U.subTree;if($===Q){const oe=U.vnode;C(g,oe,oe.scopeId,oe.slotScopeIds,U.parent)}}},O=(g,$,A,R,U,Q,oe,q,ee=0)=>{for(let G=ee;G<g.length;G++){const de=g[G]=q?rr(g[G]):_n(g[G]);E(null,de,$,A,R,U,Q,oe,q)}},L=(g,$,A,R,U,Q,oe)=>{const q=$.el=g.el;let{patchFlag:ee,dynamicChildren:G,dirs:de}=$;ee|=g.patchFlag&16;const ie=g.props||ot,ge=$.props||ot;let Se;A&&Pr(A,!1),(Se=ge.onVnodeBeforeUpdate)&&bn(Se,A,$,g),de&&Sr($,g,A,"beforeUpdate"),A&&Pr(A,!0);const Ce=U&&$.type!=="foreignObject";if(G?V(g.dynamicChildren,G,q,A,R,Ce,Q):oe||ue(g,$,q,null,A,R,Ce,Q,!1),ee>0){if(ee&16)W(q,$,ie,ge,A,R,U);else if(ee&2&&ie.class!==ge.class&&s(q,"class",null,ge.class,U),ee&4&&s(q,"style",ie.style,ge.style,U),ee&8){const Be=$.dynamicProps;for(let Ue=0;Ue<Be.length;Ue++){const ze=Be[Ue],ft=ie[ze],an=ge[ze];(an!==ft||ze==="value")&&s(q,ze,ft,an,U,g.children,A,R,K)}}ee&1&&g.children!==$.children&&u(q,$.children)}else!oe&&G==null&&W(q,$,ie,ge,A,R,U);((Se=ge.onVnodeUpdated)||de)&&Rt(()=>{Se&&bn(Se,A,$,g),de&&Sr($,g,A,"updated")},R)},V=(g,$,A,R,U,Q,oe)=>{for(let q=0;q<$.length;q++){const ee=g[q],G=$[q],de=ee.el&&(ee.type===me||!to(ee,G)||ee.shapeFlag&70)?d(ee.el):A;E(ee,G,de,null,R,U,Q,oe,!0)}},W=(g,$,A,R,U,Q,oe)=>{if(A!==R){if(A!==ot)for(const q in A)!Cs(q)&&!(q in R)&&s(g,q,A[q],null,oe,$.children,U,Q,K);for(const q in R){if(Cs(q))continue;const ee=R[q],G=A[q];ee!==G&&q!=="value"&&s(g,q,G,ee,oe,$.children,U,Q,K)}"value"in R&&s(g,"value",A.value,R.value)}},F=(g,$,A,R,U,Q,oe,q,ee)=>{const G=$.el=g?g.el:a(""),de=$.anchor=g?g.anchor:a("");let{patchFlag:ie,dynamicChildren:ge,slotScopeIds:Se}=$;Se&&(q=q?q.concat(Se):Se),g==null?(r(G,A,R),r(de,A,R),O($.children,A,de,U,Q,oe,q,ee)):ie>0&&ie&64&&ge&&g.dynamicChildren?(V(g.dynamicChildren,ge,A,U,Q,oe,q),($.key!=null||U&&$===U.subTree)&&uf(g,$,!0)):ue(g,$,A,de,U,Q,oe,q,ee)},J=(g,$,A,R,U,Q,oe,q,ee)=>{$.slotScopeIds=q,g==null?$.shapeFlag&512?U.ctx.activate($,A,R,oe,ee):te($,A,R,U,Q,oe,ee):ae(g,$,ee)},te=(g,$,A,R,U,Q,oe)=>{const q=g.component=um(g,R,U);if(Wd(g)&&(q.ctx.renderer=Te),dm(q),q.asyncDep){if(U&&U.registerDep(q,ne),!g.el){const ee=q.subTree=Je(zn);p(null,ee,$,A)}return}ne(q,g,$,A,U,Q,oe)},ae=(g,$,A)=>{const R=$.component=g.component;if(Ev(g,$,A))if(R.asyncDep&&!R.asyncResolved){pe(R,$,A);return}else R.next=$,mv(R.update),R.update();else $.el=g.el,R.vnode=$},ne=(g,$,A,R,U,Q,oe)=>{const q=()=>{if(g.isMounted){let{next:de,bu:ie,u:ge,parent:Se,vnode:Ce}=g,Be=de,Ue;Pr(g,!1),de?(de.el=Ce.el,pe(g,de,oe)):de=Ce,ie&&Is(ie),(Ue=de.props&&de.props.onVnodeBeforeUpdate)&&bn(Ue,Se,de,Ce),Pr(g,!0);const ze=ki(g),ft=g.subTree;g.subTree=ze,E(ft,ze,d(ft.el),le(ft),g,U,Q),de.el=ze.el,Be===null&&Sv(g,ze.el),ge&&Rt(ge,U),(Ue=de.props&&de.props.onVnodeUpdated)&&Rt(()=>bn(Ue,Se,de,Ce),U)}else{let de;const{el:ie,props:ge}=$,{bm:Se,m:Ce,parent:Be}=g,Ue=Do($);if(Pr(g,!1),Se&&Is(Se),!Ue&&(de=ge&&ge.onVnodeBeforeMount)&&bn(de,Be,$),Pr(g,!0),ie&&D){const ze=()=>{g.subTree=ki(g),D(ie,g.subTree,g,U,null)};Ue?$.type.__asyncLoader().then(()=>!g.isUnmounted&&ze()):ze()}else{const ze=g.subTree=ki(g);E(null,ze,A,R,g,U,Q),$.el=ze.el}if(Ce&&Rt(Ce,U),!Ue&&(de=ge&&ge.onVnodeMounted)){const ze=$;Rt(()=>bn(de,Be,ze),U)}($.shapeFlag&256||Be&&Do(Be.vnode)&&Be.vnode.shapeFlag&256)&&g.a&&Rt(g.a,U),g.isMounted=!0,$=A=R=null}},ee=g.effect=new Va(q,()=>Wa(G),g.scope),G=g.update=()=>ee.run();G.id=g.uid,Pr(g,!0),G()},pe=(g,$,A)=>{$.component=g;const R=g.vnode.props;g.vnode=$,g.next=null,Qv(g,$.props,R,A),tm(g,$.children,A),mo(),gc(),go()},ue=(g,$,A,R,U,Q,oe,q,ee=!1)=>{const G=g&&g.children,de=g?g.shapeFlag:0,ie=$.children,{patchFlag:ge,shapeFlag:Se}=$;if(ge>0){if(ge&128){re(G,ie,A,R,U,Q,oe,q,ee);return}else if(ge&256){Ve(G,ie,A,R,U,Q,oe,q,ee);return}}Se&8?(de&16&&K(G,U,Q),ie!==G&&u(A,ie)):de&16?Se&16?re(G,ie,A,R,U,Q,oe,q,ee):K(G,U,Q,!0):(de&8&&u(A,""),Se&16&&O(ie,A,R,U,Q,oe,q,ee))},Ve=(g,$,A,R,U,Q,oe,q,ee)=>{g=g||so,$=$||so;const G=g.length,de=$.length,ie=Math.min(G,de);let ge;for(ge=0;ge<ie;ge++){const Se=$[ge]=ee?rr($[ge]):_n($[ge]);E(g[ge],Se,A,null,U,Q,oe,q,ee)}G>de?K(g,U,Q,!0,!1,ie):O($,A,R,U,Q,oe,q,ee,ie)},re=(g,$,A,R,U,Q,oe,q,ee)=>{let G=0;const de=$.length;let ie=g.length-1,ge=de-1;for(;G<=ie&&G<=ge;){const Se=g[G],Ce=$[G]=ee?rr($[G]):_n($[G]);if(to(Se,Ce))E(Se,Ce,A,null,U,Q,oe,q,ee);else break;G++}for(;G<=ie&&G<=ge;){const Se=g[ie],Ce=$[ge]=ee?rr($[ge]):_n($[ge]);if(to(Se,Ce))E(Se,Ce,A,null,U,Q,oe,q,ee);else break;ie--,ge--}if(G>ie){if(G<=ge){const Se=ge+1,Ce=Se<de?$[Se].el:R;for(;G<=ge;)E(null,$[G]=ee?rr($[G]):_n($[G]),A,Ce,U,Q,oe,q,ee),G++}}else if(G>ge)for(;G<=ie;)Y(g[G],U,Q,!0),G++;else{const Se=G,Ce=G,Be=new Map;for(G=Ce;G<=ge;G++){const Z=$[G]=ee?rr($[G]):_n($[G]);Z.key!=null&&Be.set(Z.key,G)}let Ue,ze=0;const ft=ge-Ce+1;let an=!1,Wn=0;const kt=new Array(ft);for(G=0;G<ft;G++)kt[G]=0;for(G=Se;G<=ie;G++){const Z=g[G];if(ze>=ft){Y(Z,U,Q,!0);continue}let ye;if(Z.key!=null)ye=Be.get(Z.key);else for(Ue=Ce;Ue<=ge;Ue++)if(kt[Ue-Ce]===0&&to(Z,$[Ue])){ye=Ue;break}ye===void 0?Y(Z,U,Q,!0):(kt[ye-Ce]=G+1,ye>=Wn?Wn=ye:an=!0,E(Z,$[ye],A,null,U,Q,oe,q,ee),ze++)}const Yn=an?om(kt):so;for(Ue=Yn.length-1,G=ft-1;G>=0;G--){const Z=Ce+G,ye=$[Z],ve=Z+1<de?$[Z+1].el:R;kt[G]===0?E(null,ye,A,ve,U,Q,oe,q,ee):an&&(Ue<0||G!==Yn[Ue]?x(ye,A,ve,2):Ue--)}}},x=(g,$,A,R,U=null)=>{const{el:Q,type:oe,transition:q,children:ee,shapeFlag:G}=g;if(G&6){x(g.component.subTree,$,A,R);return}if(G&128){g.suspense.move($,A,R);return}if(G&64){oe.move(g,$,A,Te);return}if(oe===me){r(Q,$,A);for(let ie=0;ie<ee.length;ie++)x(ee[ie],$,A,R);r(g.anchor,$,A);return}if(oe===Ns){b(g,$,A);return}if(R!==2&&G&1&&q)if(R===0)q.beforeEnter(Q),r(Q,$,A),Rt(()=>q.enter(Q),U);else{const{leave:ie,delayLeave:ge,afterLeave:Se}=q,Ce=()=>r(Q,$,A),Be=()=>{ie(Q,()=>{Ce(),Se&&Se()})};ge?ge(Q,Ce,Be):Be()}else r(Q,$,A)},Y=(g,$,A,R=!1,U=!1)=>{const{type:Q,props:oe,ref:q,children:ee,dynamicChildren:G,shapeFlag:de,patchFlag:ie,dirs:ge}=g;if(q!=null&&ua(q,null,A,g,!0),de&256){$.ctx.deactivate(g);return}const Se=de&1&&ge,Ce=!Do(g);let Be;if(Ce&&(Be=oe&&oe.onVnodeBeforeUnmount)&&bn(Be,$,g),de&6)I(g.component,A,R);else{if(de&128){g.suspense.unmount(A,R);return}Se&&Sr(g,null,$,"beforeUnmount"),de&64?g.type.remove(g,$,A,U,Te,R):G&&(Q!==me||ie>0&&ie&64)?K(G,$,A,!1,!0):(Q===me&&ie&384||!U&&de&16)&&K(ee,$,A),R&&j(g)}(Ce&&(Be=oe&&oe.onVnodeUnmounted)||Se)&&Rt(()=>{Be&&bn(Be,$,g),Se&&Sr(g,null,$,"unmounted")},A)},j=g=>{const{type:$,el:A,anchor:R,transition:U}=g;if($===me){P(A,R);return}if($===Ns){_(g);return}const Q=()=>{o(A),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(g.shapeFlag&1&&U&&!U.persisted){const{leave:oe,delayLeave:q}=U,ee=()=>oe(A,Q);q?q(g.el,Q,ee):ee()}else Q()},P=(g,$)=>{let A;for(;g!==$;)A=f(g),o(g),g=A;o($)},I=(g,$,A)=>{const{bum:R,scope:U,update:Q,subTree:oe,um:q}=g;R&&Is(R),U.stop(),Q&&(Q.active=!1,Y(oe,g,$,A)),q&&Rt(q,$),Rt(()=>{g.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},K=(g,$,A,R=!1,U=!1,Q=0)=>{for(let oe=Q;oe<g.length;oe++)Y(g[oe],$,A,R,U)},le=g=>g.shapeFlag&6?le(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),ce=(g,$,A)=>{g==null?$._vnode&&Y($._vnode,null,null,!0):E($._vnode||null,g,$,null,null,null,A),gc(),Ud(),$._vnode=g},Te={p:E,um:Y,m:x,r:j,mt:te,mc:O,pc:ue,pbc:V,n:le,o:e};let Oe,D;return t&&([Oe,D]=t(Te)),{render:ce,hydrate:Oe,createApp:Gv(ce,Oe)}}function Pr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function uf(e,t,n=!1){const r=e.children,o=t.children;if($e(r)&&$e(o))for(let s=0;s<r.length;s++){const i=r[s];let a=o[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[s]=rr(o[s]),a.el=i.el),n||uf(i,a)),a.type===di&&(a.el=i.el)}}function om(e){const t=e.slice(),n=[0];let r,o,s,i,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<c?s=a+1:i=a;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}const sm=e=>e.__isTeleport,me=Symbol.for("v-fgt"),di=Symbol.for("v-txt"),zn=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),Lo=[];let fn=null;function z(e=!1){Lo.push(fn=e?null:[])}function im(){Lo.pop(),fn=Lo[Lo.length-1]||null}let Wo=1;function Oc(e){Wo+=e}function df(e){return e.dynamicChildren=Wo>0?fn||so:null,im(),Wo>0&&fn&&fn.push(e),e}function X(e,t,n,r,o,s){return df(he(e,t,n,r,o,s,!0))}function ke(e,t,n,r,o){return df(Je(e,t,n,r,o,!0))}function ff(e){return e?e.__v_isVNode===!0:!1}function to(e,t){return e.type===t.type&&e.key===t.key}const fi="__vInternal",hf=({key:e})=>e??null,Ms=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?pt(e)||ht(e)||Ae(e)?{i:$t,r:e,k:t,f:!!n}:e:null);function he(e,t=null,n=null,r=0,o=null,s=e===me?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hf(t),ref:t&&Ms(t),scopeId:ai,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:$t};return a?(tl(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=pt(n)?8:16),Wo>0&&!i&&fn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&fn.push(l),l}const Je=am;function am(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===Xd)&&(e=zn),ff(e)){const a=Rr(e,t,!0);return n&&tl(a,n),Wo>0&&!s&&fn&&(a.shapeFlag&6?fn[fn.indexOf(e)]=a:fn.push(a)),a.patchFlag|=-2,a}if(vm(e)&&(e=e.__vccOpts),t){t=xt(t);let{class:a,style:l}=t;a&&!pt(a)&&(t.class=at(a)),lt(l)&&(kd(l)&&!$e(l)&&(l=yt({},l)),t.style=Bn(l))}const i=pt(e)?1:Pv(e)?128:sm(e)?64:lt(e)?4:Ae(e)?2:0;return he(e,t,n,r,o,i,s,!0)}function xt(e){return e?kd(e)||fi in e?yt({},e):e:null}function Rr(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:i}=e,a=t?hn(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&hf(a),ref:t&&t.ref?n&&o?$e(o)?o.concat(Ms(t)):[o,Ms(t)]:Ms(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==me?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rr(e.ssContent),ssFallback:e.ssFallback&&Rr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ro(e=" ",t=0){return Je(di,null,e,t)}function gt(e="",t=!1){return t?(z(),ke(zn,null,e)):Je(zn,null,e)}function _n(e){return e==null||typeof e=="boolean"?Je(zn):$e(e)?Je(me,null,e.slice()):typeof e=="object"?rr(e):Je(di,null,String(e))}function rr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rr(e)}function tl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if($e(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),tl(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(fi in t)?t._ctx=$t:o===3&&$t&&($t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:$t},n=32):(t=String(t),r&64?(n=16,t=[Ro(t)]):n=8);e.children=t,e.shapeFlag|=n}function hn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=at([t.class,r.class]));else if(o==="style")t.style=Bn([t.style,r.style]);else if(qs(o)){const s=t[o],i=r[o];i&&s!==i&&!($e(s)&&s.includes(i))&&(t[o]=s?[].concat(s,i):i)}else o!==""&&(t[o]=r[o])}return t}function bn(e,t,n,r=null){tn(e,t,7,[n,r])}const lm=rf();let cm=0;function um(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||lm,s={uid:cm++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new _d(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sf(r,o),emitsOptions:Bd(r,o),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:r.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=bv.bind(null,s),e.ce&&e.ce(s),s}let St=null;const nl=()=>St||$t;let rl,Qr,Ic="__VUE_INSTANCE_SETTERS__";(Qr=qi()[Ic])||(Qr=qi()[Ic]=[]),Qr.push(e=>St=e),rl=e=>{Qr.length>1?Qr.forEach(t=>t(e)):Qr[0](e)};const po=e=>{rl(e),e.scope.on()},Lr=()=>{St&&St.scope.off(),rl(null)};function pf(e){return e.vnode.shapeFlag&4}let Yo=!1;function dm(e,t=!1){Yo=t;const{props:n,children:r}=e.vnode,o=pf(e);Xv(e,n,o,t),em(e,r);const s=o?fm(e,t):void 0;return Yo=!1,s}function fm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=oi(new Proxy(e.ctx,Uv));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?mf(e):null;po(e),mo();const s=ur(r,e,0,[e.props,o]);if(go(),Lr(),vd(s)){if(s.then(Lr,Lr),t)return s.then(i=>{Nc(e,i,t)}).catch(i=>{si(i,e,0)});e.asyncDep=s}else Nc(e,s,t)}else vf(e,t)}function Nc(e,t,n){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:lt(t)&&(e.setupState=Ld(t)),vf(e,n)}let Mc;function vf(e,t,n){const r=e.type;if(!e.render){if(!t&&Mc&&!r.render){const o=r.template||qa(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=yt(yt({isCustomElement:s,delimiters:a},i),l);r.render=Mc(o,c)}}e.render=r.render||pn}po(e),mo(),Bv(e),go(),Lr()}function hm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Bt(e,"get","$attrs"),t[n]}}))}function mf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return hm(e)},slots:e.slots,emit:e.emit,expose:t}}function hi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ld(oi(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in xo)return xo[n](e)},has(t,n){return n in t||n in xo}}))}function pm(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function vm(e){return Ae(e)&&"__vccOpts"in e}const se=(e,t)=>hv(e,t,Yo),mm=Symbol.for("v-scx"),gm=()=>zt(mm),ym="3.3.4",bm="http://www.w3.org/2000/svg",kr=typeof document<"u"?document:null,Ac=kr&&kr.createElement("template"),_m={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?kr.createElementNS(bm,e):kr.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>kr.createTextNode(e),createComment:e=>kr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>kr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const i=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{Ac.innerHTML=r?`<svg>${e}</svg>`:e;const a=Ac.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function wm(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Em(e,t,n){const r=e.style,o=pt(n);if(n&&!o){if(t&&!pt(t))for(const s in t)n[s]==null&&da(r,s,"");for(const s in n)da(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const kc=/\s*!important$/;function da(e,t,n){if($e(n))n.forEach(r=>da(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Sm(e,t);kc.test(n)?e.setProperty(vo(r),n.replace(kc,""),"important"):e[r]=n}}const Dc=["Webkit","Moz","ms"],xi={};function Sm(e,t){const n=xi[t];if(n)return n;let r=Sn(t);if(r!=="filter"&&r in e)return xi[t]=r;r=ni(r);for(let o=0;o<Dc.length;o++){const s=Dc[o]+r;if(s in e)return xi[t]=s}return t}const xc="http://www.w3.org/1999/xlink";function Pm(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xc,t.slice(6,t.length)):e.setAttributeNS(xc,t,n);else{const s=Np(t);n==null||s&&!yd(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function $m(e,t,n,r,o,s,i){if(t==="innerHTML"||t==="textContent"){r&&i(r,o,s),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=yd(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function no(e,t,n,r){e.addEventListener(t,n,r)}function Tm(e,t,n,r){e.removeEventListener(t,n,r)}function Cm(e,t,n,r,o=null){const s=e._vei||(e._vei={}),i=s[t];if(r&&i)i.value=r;else{const[a,l]=Om(t);if(r){const c=s[t]=Mm(r,o);no(e,a,c,l)}else i&&(Tm(e,a,i,l),s[t]=void 0)}}const Lc=/(?:Once|Passive|Capture)$/;function Om(e){let t;if(Lc.test(e)){t={};let r;for(;r=e.match(Lc);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vo(e.slice(2)),t]}let Li=0;const Im=Promise.resolve(),Nm=()=>Li||(Im.then(()=>Li=0),Li=Date.now());function Mm(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;tn(Am(r,n.value),t,5,[r])};return n.value=e,n.attached=Nm(),n}function Am(e,t){if($e(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Rc=/^on[a-z]/,km=(e,t,n,r,o=!1,s,i,a,l)=>{t==="class"?wm(e,r,o):t==="style"?Em(e,n,r):qs(t)?xa(t)||Cm(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Dm(e,t,r,o))?$m(e,t,r,s,i,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Pm(e,t,r,o))};function Dm(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Rc.test(t)&&Ae(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Rc.test(t)&&pt(n)?!1:t in e}function xm(e){const t=nl();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>ha(s,o))},r=()=>{const o=e(t.proxy);fa(t.subTree,o),n(o)};Tv(r),Cn(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),gr(()=>o.disconnect())})}function fa(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{fa(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)ha(e.el,t);else if(e.type===me)e.children.forEach(n=>fa(n,t));else if(e.type===Ns){let{el:n,anchor:r}=e;for(;n&&(ha(n,t),n!==r);)n=n.nextSibling}}function ha(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const Xn="transition",Po="animation",gf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Lm=yt({},Iv,gf),$r=(e,t=[])=>{$e(e)?e.forEach(n=>n(...t)):e&&e(...t)},Fc=e=>e?$e(e)?e.some(t=>t.length>1):e.length>1:!1;function Rm(e){const t={};for(const F in e)F in gf||(t[F]=e[F]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=i,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,y=Fm(o),E=y&&y[0],w=y&&y[1],{onBeforeEnter:p,onEnter:v,onEnterCancelled:b,onLeave:_,onLeaveCancelled:S,onBeforeAppear:m=p,onAppear:C=v,onAppearCancelled:O=b}=t,L=(F,J,te)=>{er(F,J?u:a),er(F,J?c:i),te&&te()},V=(F,J)=>{F._isLeaving=!1,er(F,d),er(F,h),er(F,f),J&&J()},W=F=>(J,te)=>{const ae=F?C:v,ne=()=>L(J,F,te);$r(ae,[J,ne]),jc(()=>{er(J,F?l:s),An(J,F?u:a),Fc(ae)||Vc(J,r,E,ne)})};return yt(t,{onBeforeEnter(F){$r(p,[F]),An(F,s),An(F,i)},onBeforeAppear(F){$r(m,[F]),An(F,l),An(F,c)},onEnter:W(!1),onAppear:W(!0),onLeave(F,J){F._isLeaving=!0;const te=()=>V(F,J);An(F,d),bf(),An(F,f),jc(()=>{F._isLeaving&&(er(F,d),An(F,h),Fc(_)||Vc(F,r,w,te))}),$r(_,[F,te])},onEnterCancelled(F){L(F,!1),$r(b,[F])},onAppearCancelled(F){L(F,!0),$r(O,[F])},onLeaveCancelled(F){V(F),$r(S,[F])}})}function Fm(e){if(e==null)return null;if(lt(e))return[Ri(e.enter),Ri(e.leave)];{const t=Ri(e);return[t,t]}}function Ri(e){return Pp(e)}function An(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function er(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function jc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let jm=0;function Vc(e,t,n,r){const o=e._endId=++jm,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:i,timeout:a,propCount:l}=yf(e,t);if(!i)return r();const c=i+"end";let u=0;const d=()=>{e.removeEventListener(c,f),s()},f=h=>{h.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,f)}function yf(e,t){const n=window.getComputedStyle(e),r=y=>(n[y]||"").split(", "),o=r(`${Xn}Delay`),s=r(`${Xn}Duration`),i=Uc(o,s),a=r(`${Po}Delay`),l=r(`${Po}Duration`),c=Uc(a,l);let u=null,d=0,f=0;t===Xn?i>0&&(u=Xn,d=i,f=s.length):t===Po?c>0&&(u=Po,d=c,f=l.length):(d=Math.max(i,c),u=d>0?i>c?Xn:Po:null,f=u?u===Xn?s.length:l.length:0);const h=u===Xn&&/\b(transform|all)(,|$)/.test(r(`${Xn}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Uc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>zc(n)+zc(e[r])))}function zc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function bf(){return document.body.offsetHeight}const _f=new WeakMap,wf=new WeakMap,Ef={name:"TransitionGroup",props:yt({},Lm,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=nl(),r=Ov();let o,s;return Jd(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Km(o[0].el,n.vnode.el,i))return;o.forEach(Um),o.forEach(zm);const a=o.filter(Bm);bf(),a.forEach(l=>{const c=l.el,u=c.style;An(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,er(c,i))};c.addEventListener("transitionend",d)})}),()=>{const i=Ze(e),a=Rm(i);let l=i.tag||me;o=s,s=t.default?Zd(t.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&sa(u,oa(u,a,r,n))}if(o)for(let c=0;c<o.length;c++){const u=o[c];sa(u,oa(u,a,r,n)),_f.set(u,u.el.getBoundingClientRect())}return Je(l,null,s)}}},Vm=e=>delete e.mode;Ef.props;const Go=Ef;function Um(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function zm(e){wf.set(e,e.el.getBoundingClientRect())}function Bm(e){const t=_f.get(e),n=wf.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${o}px)`,s.transitionDuration="0s",e}}function Km(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(i=>{i.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(i=>i&&r.classList.add(i)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=yf(r);return o.removeChild(r),s}const Bc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return $e(t)?n=>Is(t,n):t};function Hm(e){e.target.composing=!0}function Kc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Zm={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Bc(o);const s=r||o.props&&o.props.type==="number";no(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=Qi(a)),e._assign(a)}),n&&no(e,"change",()=>{e.value=e.value.trim()}),t||(no(e,"compositionstart",Hm),no(e,"compositionend",Kc),no(e,"change",Kc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e._assign=Bc(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&Qi(e.value)===t))return;const i=t??"";e.value!==i&&(e.value=i)}},Wm=["ctrl","shift","alt","meta"],Ym={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wm.some(n=>e[`${n}Key`]&&!t.includes(n))},vn=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=Ym[t[o]];if(s&&s(n,t))return}return e(n,...r)},Gm={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):$o(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),$o(e,!0),r.enter(e)):r.leave(e,()=>{$o(e,!1)}):$o(e,t))},beforeUnmount(e,{value:t}){$o(e,t)}};function $o(e,t){e.style.display=t?e._vod:"none"}const Jm=yt({patchProp:km},_m);let Hc;function Xm(){return Hc||(Hc=nm(Jm))}const Qm=(...e)=>{const t=Xm().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=qm(r);if(!o)return;const s=t._component;!Ae(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function qm(e){return pt(e)?document.querySelector(e):e}function eg(e,t){let n=[],r=[],o=!1;for(let s of e.split(".")){const i=tg(s,t);let a=[],l=[],c=[],u=!1;for(let d of i)switch(d.syllabic){case"Syllabic":if(u)throw new Error("Couldn't parse syllables.");u=!0,l.push(To(d));break;case"Nonsyllabic":switch(r.push(To(d)),t.data.phoneTypes[d.typeID].articulation){case"Vowel":l.push(To(d));break;case"Consonant":u?c.push(To(d)):a.push(To(d));break}break}o=o||u,n.push({onset:a,rhyme:{nucleus:l,coda:c}})}return o?{kind:"syllables",syllables:n}:{kind:"phones",phones:r}}function tg(e,t){const n=[];let r=!1,o=0,s=0;for(;!r;){let i=Object.values(t.data.languages)[0].phonemesAll[s];if(!i){r=!0;break}e.substring(o,o+i.IPA.length)==i.IPA?(n.push(i),o+=i.IPA.length,s=0):(s+=1,s>=Object.values(t.data.languages)[0].phonemesAll.length&&(s=0,o+=1,o>=e.length&&(r=!0)))}return n}function To(e){if(!e)return{type:"",features:{}};let t={};for(let n of e.featureStops)t[n.categoryId]=n.stopId;return{type:e.typeID,features:t}}var ng=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Sf;const pi=e=>Sf=e,Pf=Symbol();function pa(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Fo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Fo||(Fo={}));function rg(){const e=wd(!0),t=e.run(()=>be({}));let n=[],r=[];const o=oi({install(s){pi(o),o._a=s,s.provide(Pf,o),s.config.globalProperties.$pinia=o,r.forEach(i=>n.push(i)),r=[]},use(s){return!this._a&&!ng?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const $f=()=>{};function Zc(e,t,n,r=$f){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Ed()&&Ap(o),o}function qr(e,...t){e.slice().forEach(n=>{n(...t)})}const og=e=>e();function va(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];pa(o)&&pa(r)&&e.hasOwnProperty(n)&&!ht(r)&&!Rn(r)?e[n]=va(o,r):e[n]=r}return e}const sg=Symbol();function ig(e){return!pa(e)||!e.hasOwnProperty(sg)}const{assign:tr}=Object;function ag(e){return!!(ht(e)&&e.effect)}function lg(e,t,n,r){const{state:o,actions:s,getters:i}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=o?o():{});const u=Rd(n.state.value[e]);return tr(u,s,Object.keys(i||{}).reduce((d,f)=>(d[f]=oi(se(()=>{pi(n);const h=n._s.get(e);return i[f].call(h,h)})),d),{}))}return l=Tf(e,c,t,n,r,!0),l}function Tf(e,t,n={},r,o,s){let i;const a=tr({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const y=r.state.value[e];!s&&!y&&(r.state.value[e]={}),be({});let E;function w(O){let L;c=u=!1,typeof O=="function"?(O(r.state.value[e]),L={type:Fo.patchFunction,storeId:e,events:h}):(va(r.state.value[e],O),L={type:Fo.patchObject,payload:O,storeId:e,events:h});const V=E=Symbol();rs().then(()=>{E===V&&(c=!0)}),u=!0,qr(d,L,r.state.value[e])}const p=s?function(){const{state:L}=n,V=L?L():{};this.$patch(W=>{tr(W,V)})}:$f;function v(){i.stop(),d=[],f=[],r._s.delete(e)}function b(O,L){return function(){pi(r);const V=Array.from(arguments),W=[],F=[];function J(ne){W.push(ne)}function te(ne){F.push(ne)}qr(f,{args:V,name:O,store:S,after:J,onError:te});let ae;try{ae=L.apply(this&&this.$id===e?this:S,V)}catch(ne){throw qr(F,ne),ne}return ae instanceof Promise?ae.then(ne=>(qr(W,ne),ne)).catch(ne=>(qr(F,ne),Promise.reject(ne))):(qr(W,ae),ae)}}const _={_p:r,$id:e,$onAction:Zc.bind(null,f),$patch:w,$reset:p,$subscribe(O,L={}){const V=Zc(d,O,L.detached,()=>W()),W=i.run(()=>De(()=>r.state.value[e],F=>{(L.flush==="sync"?u:c)&&O({storeId:e,type:Fo.direct,events:h},F)},tr({},l,L)));return V},$dispose:v},S=Kt(_);r._s.set(e,S);const m=r._a&&r._a.runWithContext||og,C=r._e.run(()=>(i=wd(),m(()=>i.run(t))));for(const O in C){const L=C[O];if(ht(L)&&!ag(L)||Rn(L))s||(y&&ig(L)&&(ht(L)?L.value=y[O]:va(L,y[O])),r.state.value[e][O]=L);else if(typeof L=="function"){const V=b(O,L);C[O]=V,a.actions[O]=L}}return tr(S,C),tr(Ze(S),C),Object.defineProperty(S,"$state",{get:()=>r.state.value[e],set:O=>{w(L=>{tr(L,O)})}}),r._p.forEach(O=>{tr(S,i.run(()=>O({store:S,app:r._a,pinia:r,options:a})))}),y&&s&&n.hydrate&&n.hydrate(S.$state,y),c=!0,u=!0,S}function cg(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function i(a,l){const c=Jv();return a=a||(c?zt(Pf,null):null),a&&pi(a),a=Sf,a._s.has(r)||(s?Tf(r,t,o,a):lg(r,o,a)),a._s.get(r)}return i.$id=r,i}let Fi=[],Wc=[];const yr=cg("languages",{state:()=>{let e;return e={languages:null,currentTab:"loadsave"},e},actions:{loadSaveFile(e){e?this.languages=e:this.languages=null},excuteUndo(){let e=Fi.pop();e&&(e.undo(),Wc.push(e))},excuteRedo(){let e=Wc.pop();e&&(e.do(),Fi.push(e))},executeDo(e){e.do(),Fi.push(e)}}});function ug(e){const t=yr();t.languages&&t.languages.data.words.push(e)}function dg(e){console.log("blarg");const t=yr();if(!t.languages)return;let n=t.languages.data.words.filter(o=>o.id==e.id)[0],r=t.languages.data.words.indexOf(n);t.languages.data.words.splice(r,1)}class fg{constructor(t){Xr(this,"kind","add");Xr(this,"lexeme");Xr(this,"do",()=>{switch(this.kind){case"add":this.addLexeme();break;case"remove":this.removeLexeme();break}});Xr(this,"undo",()=>{switch(this.kind){case"add":this.removeLexeme();break;case"remove":this.addLexeme();break}});this.lexeme=t}addLexeme(){ug(this.lexeme)}removeLexeme(){dg(this.lexeme)}}class hg extends fg{constructor(){super(...arguments);Xr(this,"kind","add")}}function pg(e){return{id:crypto.randomUUID(),entryForm:e.word,entryTreeLimb:"",entryDate:0}}const Br=e=>(Ya("data-v-c8c18e84"),e=e(),Ga(),e),vg=Br(()=>he("br",null,null,-1)),mg={key:0},gg=Br(()=>he("tr",null,[he("th",null,"O"),he("th",null,"N"),he("th",null,"C")],-1)),yg={key:1},bg=Br(()=>he("tr",null,[he("th",null,"Nonsyllabic")],-1)),_g={class:"ipa"},wg=Br(()=>he("br",null,null,-1)),Eg=Br(()=>he("br",null,null,-1)),Sg=Br(()=>he("br",null,null,-1)),Pg=Br(()=>he("h2",null,"List of words:",-1)),$g={class:"roman-medium"},Tg=Me({__name:"Overview",setup(e){const t=yr();function n(f){let h="";switch(f.kind){case"syllables":for(let y of f.syllables)h!=""&&(h+="."),h+=r(y);break;case"phones":h+=o(f.phones);break}return h}function r(f){let h=o(f.onset);return h+=o(f.rhyme.nucleus),h+=o(f.rhyme.coda),h}function o(f){let h="";for(let y of f)h+=s(y);return h}function s(f){var h;return f==null||t.languages==null?"":((h=Object.values(t.languages.data.phonemes).filter(y=>y.featureStops.every(E=>i(f,E)))[0])==null?void 0:h.IPA)??"[Error]"}function i(f,h){return f.features[h.categoryId]==h.stopId}const a=be(""),l=be(null),c=be({});De(a,()=>{if(console.log(t.languages),!!t.languages)try{u=eg(a.value,t.languages),l.value=u,c.value=n(u)}catch{}});let u=null;function d(){u&&t.executeDo(new hg(pg({word:u})))}return(f,h)=>{var y,E,w;return z(),X(me,null,[Hd(he("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>a.value=p),placeholder:"type new word here"},null,512),[[Zm,a.value]]),vg,he("p",null,"Interpretation: "+Et(c.value),1),((y=l.value)==null?void 0:y.kind)=="syllables"?(z(),X("div",mg,[he("table",null,[gg,(z(!0),X(me,null,xe(l.value.syllables,p=>(z(),X("tr",null,[he("td",null,[(z(!0),X(me,null,xe(p.onset,v=>(z(),X("span",null,Et(s(v)),1))),256))]),he("td",null,[(z(!0),X(me,null,xe(p.rhyme.nucleus,v=>(z(),X("span",null,Et(s(v)),1))),256))]),he("td",null,[(z(!0),X(me,null,xe(p.rhyme.coda,v=>(z(),X("span",null,Et(s(v)),1))),256))])]))),256))])])):gt("",!0),((E=l.value)==null?void 0:E.kind)=="phones"?(z(),X("div",yg,[he("table",null,[bg,he("tr",null,[he("td",_g,[(z(!0),X(me,null,xe(l.value.phones,p=>(z(),X("span",null,Et(s(p)),1))),256))])])])])):gt("",!0),wg,he("button",{onClick:d}," Add to list "),Eg,Sg,Pg,(z(!0),X(me,null,xe((w=M(t).languages)==null?void 0:w.data.words,p=>(z(),X("li",$g,Et(n(p.entryForm)),1))),256))],64)}}}),ol=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Cg=ol(Tg,[["__scopeId","data-v-c8c18e84"]]),Og={version:"SaveFileData_v0_1_beta_1",projectName:"IPA"},Ig={phoneTypes:[{id:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",desc:"vowel",type:"Vowel",features:[{id:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",desc:"height",type:{values:[{id:"BFEXVLSDEZENWZKHHCJLAOGSLFOTKHSJ",desc:"open"},{id:"ITXNMDIJIXIOXVFYPAETYXLLPLGINNXG",desc:"near-open"},{id:"YWQMANONVLHZAZFHSYQHHDFXCFWAJFWV",desc:"open-mid"},{id:"CUCHRTPAZJQDGBZJRHCELPPYIXLCTTKB",desc:"mid"},{id:"LEOXQKQBEINZXHVKNQABHIJVYRBSEOJJ",desc:"close-mid"},{id:"KONWQVVVUWWOUHVMDAADQWRIWMQKZTMP",desc:"near-close"},{id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI",desc:"close"}]}},{id:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",desc:"backness",type:{values:[{id:"NWAIGDSPCAAFGOGYLFPGWWVKBREZPWBD",desc:"front"},{id:"YEWERSFOMXLUOLOBMATLTTQKUATLZTZI",desc:"central"},{id:"TNTXXUTXNIJQEJCVBNRAJSDBJCHXVCJN",desc:"back"}]}},{id:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",desc:"roundness",type:{values:[{id:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT",desc:"unrounded"},{id:"YVGQZGLHLVPYJOEQZAYZZFNPGBBNHIVG",desc:"rounded"}]}}]},{id:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",desc:"consonant",type:"Consonant",features:[{id:"YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT",desc:"place",type:{values:[{id:"ZXYFPKHUIGDWXVUPMVVFXMROSBKFKHZR",desc:"bilabilal"},{id:"APINNIFZCAKTUWTDYVZUSNFBMDAYYPSG",desc:"labiodental"},{id:"WPYQRFRZZATALISKLYVWSBZGBOLULSML",desc:"linguolabial"},{id:"BXNFTBKXZVSWGWMXLFXNZSSVXNKNJSGB",desc:"dental"},{id:"ZBKMZTESQRTSRXPZMNHQCDUVYEWNBUQL",desc:"alveolar"},{id:"QQPEJMVYETQWAMDRFLFVYJETUUQQMUVH",desc:"postalveolar"},{id:"DLBLEDTMBQMFFTNJJVMJNZDBDGBJDEHK",desc:"retroflex"},{id:"ZCXOAFYEWIOKFMMCORBSEQUFJFNYQRSH",desc:"palatal"},{id:"YHHQNKELEXGKPVQXGBVWYXFHVLKFRPMY",desc:"velar"},{id:"OFHIVUCPJCWBQSHZVLTEWIPGXDUOMNAZ",desc:"uvular"},{id:"WBZVYCLCEJOKZMQOKGWQFBHAFJDTYRSW",desc:"pharyngeal/epiglottal"},{id:"KPQROYYZCDMACXZEXGZYBOCBHSAJJRHI",desc:"glottal"}]}},{id:"KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA",desc:"manner",type:{values:[{id:"PQPWUKRVGOBQMKWLFTJZCFTJGPASBHSA",desc:"nasal"},{id:"VNGWOVCSMCUZGMYDOQHCQPJTMZPQCIRI",desc:"plosive"},{id:"PFUKOICTDXSMPOTJXMIYGTUCZMEXAZRL",desc:"silibant affricate"},{id:"NSDHPOWAXKBKRYYFPAXCWZKLFPNQJFPE",desc:"non-silibant affricate"},{id:"GXIKPDFDIMJJOUEEFTWHNAAZZTZYVZIE",desc:"silibant fricative"},{id:"RUPOAGMZWDHRHKSSVJFIYYMYSTIHWWTF",desc:"non-silibant fricative"},{id:"GMKLRZGQUBPDOIBLTJPXPVVWESTJOZZE",desc:"approximant"},{id:"CQDZRXJZOQOKNUIHALDMHHIIVAGWLBRX",desc:"tap"},{id:"VAZDUHUYJIBAFATHZTVIOOVJINSRKDSP",desc:"trill"},{id:"IMHJWSHYQPDOKDDBLHEVCPIUWYBALEAQ",desc:"lateral affricative"},{id:"FXMGJZEKIXQMIRCVLPZVBELXNSBHVBXY",desc:"lateral fricative"},{id:"VVYLUMZXQPWSIFYVREPMJAQPXKPYHFCR",desc:"lateral approximant"},{id:"EMMLESLTRVOYOKLACZJFVYRJTYEWZRFY",desc:"lateral tap"}]}},{id:"CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD",desc:"voicedness",type:{values:[{id:"IFKUDEPWTBULJGCZIYGWDYITMLUEQMVD",desc:"unvoiced"},{id:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU",desc:"voiced"}]}}]}],languages:[{id:"ODEOJAEMMEFZSIOWFABSUOBHUIGSOKEH",desc:"Proto",grid:[{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"DDQDFQREJUTNLIPBMGAOCGLYUYMGOVJG",IPA:"i",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"NWAIGDSPCAAFGOGYLFPGWWVKBREZPWBD"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"USKYXZGEZNUVYDZVIKAMTVRHSZVKRXNZ",IPA:"y",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"NWAIGDSPCAAFGOGYLFPGWWVKBREZPWBD"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"YVGQZGLHLVPYJOEQZAYZZFNPGBBNHIVG"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"UCROONCOOOISUEIRBLCCKDHIGXWJGIDB",IPA:"ɨ",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"YEWERSFOMXLUOLOBMATLTTQKUATLZTZI"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"LFZFWOZLVRJNWZBMJPLDFFMNEVTYIDUU",IPA:"ʉ",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"YEWERSFOMXLUOLOBMATLTTQKUATLZTZI"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"YVGQZGLHLVPYJOEQZAYZZFNPGBBNHIVG"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"AZXDMONRTVBBRCLDXEFVYDAIEJAOQTYQ",IPA:"ɯ",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"TNTXXUTXNIJQEJCVBNRAJSDBJCHXVCJN"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"VQWKWCBRGBOAFHSRCRIBGWPDMQPBYIAW",IPA:"u",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"TNTXXUTXNIJQEJCVBNRAJSDBJCHXVCJN"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"YVGQZGLHLVPYJOEQZAYZZFNPGBBNHIVG"}]},{typeID:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",id:"YCLZGBAVXKMQNDRKIPDZWQDDEBVNFYGX",IPA:"a",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"QCOTLERJNNSYNKCMMSILQBETHSFYNLLC",id:"BFEXVLSDEZENWZKHHCJLAOGSLFOTKHSJ"},{kind:"FeatureStop",categoryID:"JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ",id:"NWAIGDSPCAAFGOGYLFPGWWVKBREZPWBD"},{kind:"FeatureStop",categoryID:"CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP",id:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT"}]},{typeID:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",id:"IPOYSNZXCKAZYEACJIOTRJZSJYUXSPGB",IPA:"m",desc:null,syllabic:"Nonsyllabic",featureStops:[{kind:"FeatureStop",categoryID:"YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT",id:"ZXYFPKHUIGDWXVUPMVVFXMROSBKFKHZR"},{kind:"FeatureStop",categoryID:"KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA",id:"PQPWUKRVGOBQMKWLFTJZCFTJGPASBHSA"},{kind:"FeatureStop",categoryID:"CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD",id:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}]},{typeID:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",id:"WTMSEOODZHEDZXFYWLKONUTWKCPSVQGJ",IPA:"m̩",desc:null,syllabic:"Syllabic",featureStops:[{kind:"FeatureStop",categoryID:"YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT",id:"ZXYFPKHUIGDWXVUPMVVFXMROSBKFKHZR"},{kind:"FeatureStop",categoryID:"KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA",id:"PQPWUKRVGOBQMKWLFTJZCFTJGPASBHSA"},{kind:"FeatureStop",categoryID:"CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD",id:"IFKUDEPWTBULJGCZIYGWDYITMLUEQMVD"}]},{typeID:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",id:"RDZCIIEKMLCMPBUBYHESOKUFKRYOYHLS",IPA:"d",desc:null,syllabic:"Nonsyllabic",featureStops:[{kind:"FeatureStop",categoryID:"YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT",id:"ZBKMZTESQRTSRXPZMNHQCDUVYEWNBUQL"},{kind:"FeatureStop",categoryID:"KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA",id:"VNGWOVCSMCUZGMYDOQHCQPJTMZPQCIRI"},{kind:"FeatureStop",categoryID:"CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD",id:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}]}]}],lexicon:{words:[{id:"",entryForm:{value:{kind:"Syllables",sounds:[{onset:[{type:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",features:{YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT:"ZXYFPKHUIGDWXVUPMVVFXMROSBKFKHZR",KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA:"PQPWUKRVGOBQMKWLFTJZCFTJGPASBHSA",CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}}],rhyme:{nucleus:[{type:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",features:{QCOTLERJNNSYNKCMMSILQBETHSFYNLLC:"UGDNUKMWNLUNIGAUZJKMUALBDPWTKBJI",JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ:"TNTXXUTXNIJQEJCVBNRAJSDBJCHXVCJN",CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP:"YVGQZGLHLVPYJOEQZAYZZFNPGBBNHIVG"}}],coda:[{type:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",features:{YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT:"ZXYFPKHUIGDWXVUPMVVFXMROSBKFKHZR",KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA:"PQPWUKRVGOBQMKWLFTJZCFTJGPASBHSA",CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}}]}}]}},entryTreeLimb:"",entryDate:0},{id:"",entryForm:{value:{kind:"Syllables",sounds:[{onset:[{type:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",features:{YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT:"ZBKMZTESQRTSRXPZMNHQCDUVYEWNBUQL",KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA:"VNGWOVCSMCUZGMYDOQHCQPJTMZPQCIRI",CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}}],rhyme:{nucleus:[{type:"QGDYAEYMDEZDMMPOBXRTCUDHYYPYFBPF",features:{QCOTLERJNNSYNKCMMSILQBETHSFYNLLC:"BFEXVLSDEZENWZKHHCJLAOGSLFOTKHSJ",JGJYSLLKLOVLDIKKLQXPDTBRUXNAMGOJ:"NWAIGDSPCAAFGOGYLFPGWWVKBREZPWBD",CTKXTKTLAUXLERTJKSEVLBTSFVYUXSUP:"NRPMAAJKFSTQCLHHXLWSWKNVSQATESYT"}}],coda:[{type:"JMHNZPRXUPBIYCCPAEHZGLHIZGVNYPXR",features:{YUUNFSLQUZZVJGKXNYSNCKZHIPURKVVT:"ZBKMZTESQRTSRXPZMNHQCDUVYEWNBUQL",KPAZCPLBROAZKNOSUGMXSRMUGQPUVVPA:"VNGWOVCSMCUZaGMYDOQHCQPJTMZPQCIRI",CHRJYONQPXKFWAQDENLLHHWYKHJQZFVD:"OFOMPHTROPHZFTWTXDDDUDRKKQDPYWPU"}}]}}]}},entryTreeLimb:"",entryDate:0}],rules:[{id:"ZSUQBWJJCCAHSLUFFSRRANKVNNFHXQOP",treeLimbs:[],rules:[]}],treeTrunks:["QKFUWFZLSQOUHHYTDSMIGWJWJEXLTFYJ"],treeLimbs:[{id:"QKFUWFZLSQOUHHYTDSMIGWJWJEXLTFYJ",branch:{deathDate:100,children:["LGOQCVJMEHTWMTYYYFKSKSONGNOHZJFP"]}},{id:"LGOQCVJMEHTWMTYYYFKSKSONGNOHZJFP",branch:{deathDate:200,children:["PTTLVWNYQDIEUHUDSSBJGUXOUJFEXJRB","AUKREWWMFVSHBMHFRNZPXTPVISEGVBFT"]}},{id:"PTTLVWNYQDIEUHUDSSBJGUXOUJFEXJRB",branch:{deathDate:300,children:["VGPMUBSWKOVGVTPGAPBAXKCVLTUVZWMN"]}},{id:"VGPMUBSWKOVGVTPGAPBAXKCVLTUVZWMN",branch:{deathDate:400,children:[]}},{id:"AUKREWWMFVSHBMHFRNZPXTPVISEGVBFT",branch:{deathDate:300,children:["OIHYZATBJHLDYRSYRHGZGGFVVMLYMVIT"]}},{id:"OIHYZATBJHLDYRSYRHGZGGFVVMLYMVIT",branch:{deathDate:400,children:[]}}]}},Ng={metadata:Og,data:Ig};var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ag(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ma={exports:{}},Cf={},Nn={},Tr={},os={},qe={},Jo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((b,_)=>`${b}${_}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((b,_)=>(_ instanceof n&&(b[_.str]=(b[_.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function o(p,...v){const b=[p[0]];let _=0;for(;_<v.length;)a(b,v[_]),b.push(p[++_]);return new r(b)}e._=o;const s=new r("+");function i(p,...v){const b=[h(p[0])];let _=0;for(;_<v.length;)b.push(s),a(b,v[_]),b.push(s,h(p[++_]));return l(b),new r(b)}e.str=i;function a(p,v){v instanceof r?p.push(...v._items):v instanceof n?p.push(v):p.push(d(v))}e.addCodeArg=a;function l(p){let v=1;for(;v<p.length-1;){if(p[v]===s){const b=c(p[v-1],p[v+1]);if(b!==void 0){p.splice(v-1,3,b);continue}p[v++]="+"}v++}}function c(p,v){if(v==='""')return p;if(p==='""')return v;if(typeof p=="string")return v instanceof n||p[p.length-1]!=='"'?void 0:typeof v!="string"?`${p.slice(0,-1)}${v}"`:v[0]==='"'?p.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(p instanceof n))return`"${p}${v.slice(1)}`}function u(p,v){return v.emptyStr()?p:p.emptyStr()?v:i`${p}${v}`}e.strConcat=u;function d(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:h(Array.isArray(p)?p.join(","):p)}function f(p){return new r(h(p))}e.stringify=f;function h(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function y(p){return typeof p=="string"&&e.IDENTIFIER.test(p)?new r(`.${p}`):o`[${p}]`}e.getProperty=y;function E(p){if(typeof p=="string"&&e.IDENTIFIER.test(p))return new r(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}e.getEsmExportName=E;function w(p){return new r(p.toString())}e.regexpCode=w})(Jo);var ga={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Jo;class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=o;class s extends t.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(u)}[${d}]`}}e.ValueScopeName=s;const i=(0,t._)`\n`;class a extends o{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:t.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(c),{prefix:h}=f,y=(d=u.key)!==null&&d!==void 0?d:u.ref;let E=this._values[h];if(E){const v=E.get(y);if(v)return v}else E=this._values[h]=new Map;E.set(y,f);const w=this._scope[h]||(this._scope[h]=[]),p=w.length;return w[p]=u.ref,f.setValue(u,{property:h,itemIndex:p}),f}getValue(c,u){const d=this._values[c];if(d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},u,d)}_reduceValues(c,u,d={},f){let h=t.nil;for(const y in c){const E=c[y];if(!E)continue;const w=d[y]=d[y]||new Map;E.forEach(p=>{if(w.has(p))return;w.set(p,r.Started);let v=u(p);if(v){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${p} = ${v};${this.opts._n}`}else if(v=f==null?void 0:f(p))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(p);w.set(p,r.Completed)})}return h}}e.ValueScope=a})(ga);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Jo,n=ga;var r=Jo;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var o=ga;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(P,I){return this}}class i extends s{constructor(P,I,K){super(),this.varKind=P,this.name=I,this.rhs=K}render({es5:P,_n:I}){const K=P?n.varKinds.var:this.varKind,le=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${le};`+I}optimizeNames(P,I){if(P[this.name.str])return this.rhs&&(this.rhs=te(this.rhs,P,I)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(P,I,K){super(),this.lhs=P,this.rhs=I,this.sideEffects=K}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,I){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=te(this.rhs,P,I),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return J(P,this.rhs)}}class l extends a{constructor(P,I,K,le){super(P,K,le),this.op=I}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class c extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class u extends s{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class d extends s{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class f extends s{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,I){return this.code=te(this.code,P,I),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((I,K)=>I+K.render(P),"")}optimizeNodes(){const{nodes:P}=this;let I=P.length;for(;I--;){const K=P[I].optimizeNodes();Array.isArray(K)?P.splice(I,1,...K):K?P[I]=K:P.splice(I,1)}return P.length>0?this:void 0}optimizeNames(P,I){const{nodes:K}=this;let le=K.length;for(;le--;){const ce=K[le];ce.optimizeNames(P,I)||(ae(P,ce.names),K.splice(le,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce((P,I)=>F(P,I.names),{})}}class y extends h{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class E extends h{}class w extends y{}w.kind="else";class p extends y{constructor(P,I){super(I),this.condition=P}render(P){let I=`if(${this.condition})`+super.render(P);return this.else&&(I+="else "+this.else.render(P)),I}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let I=this.else;if(I){const K=I.optimizeNodes();I=this.else=Array.isArray(K)?new w(K):K}if(I)return P===!1?I instanceof p?I:I.nodes:this.nodes.length?this:new p(ne(P),I instanceof p?[I]:I.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,I){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(P,I),!!(super.optimizeNames(P,I)||this.else))return this.condition=te(this.condition,P,I),this}get names(){const P=super.names;return J(P,this.condition),this.else&&F(P,this.else.names),P}}p.kind="if";class v extends y{}v.kind="for";class b extends v{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iteration=te(this.iteration,P,I),this}get names(){return F(super.names,this.iteration.names)}}class _ extends v{constructor(P,I,K,le){super(),this.varKind=P,this.name=I,this.from=K,this.to=le}render(P){const I=P.es5?n.varKinds.var:this.varKind,{name:K,from:le,to:ce}=this;return`for(${I} ${K}=${le}; ${K}<${ce}; ${K}++)`+super.render(P)}get names(){const P=J(super.names,this.from);return J(P,this.to)}}class S extends v{constructor(P,I,K,le){super(),this.loop=P,this.varKind=I,this.name=K,this.iterable=le}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,I){if(super.optimizeNames(P,I))return this.iterable=te(this.iterable,P,I),this}get names(){return F(super.names,this.iterable.names)}}class m extends y{constructor(P,I,K){super(),this.name=P,this.args=I,this.async=K}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}m.kind="func";class C extends h{render(P){return"return "+super.render(P)}}C.kind="return";class O extends y{render(P){let I="try"+super.render(P);return this.catch&&(I+=this.catch.render(P)),this.finally&&(I+=this.finally.render(P)),I}optimizeNodes(){var P,I;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(P,I){var K,le;return super.optimizeNames(P,I),(K=this.catch)===null||K===void 0||K.optimizeNames(P,I),(le=this.finally)===null||le===void 0||le.optimizeNames(P,I),this}get names(){const P=super.names;return this.catch&&F(P,this.catch.names),this.finally&&F(P,this.finally.names),P}}class L extends y{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}L.kind="catch";class V extends y{render(P){return"finally"+super.render(P)}}V.kind="finally";class W{constructor(P,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=P,this._scope=new n.Scope({parent:P}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,I){const K=this._extScope.value(P,I);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue(P,I){return this._extScope.getValue(P,I)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,I,K,le){const ce=this._scope.toName(I);return K!==void 0&&le&&(this._constants[ce.str]=K),this._leafNode(new i(P,ce,K)),ce}const(P,I,K){return this._def(n.varKinds.const,P,I,K)}let(P,I,K){return this._def(n.varKinds.let,P,I,K)}var(P,I,K){return this._def(n.varKinds.var,P,I,K)}assign(P,I,K){return this._leafNode(new a(P,I,K))}add(P,I){return this._leafNode(new l(P,e.operators.ADD,I))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new f(P)),this}object(...P){const I=["{"];for(const[K,le]of P)I.length>1&&I.push(","),I.push(K),(K!==le||this.opts.es5)&&(I.push(":"),(0,t.addCodeArg)(I,le));return I.push("}"),new t._Code(I)}if(P,I,K){if(this._blockNode(new p(P)),I&&K)this.code(I).else().code(K).endIf();else if(I)this.code(I).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new p(P))}else(){return this._elseNode(new w)}endIf(){return this._endBlockNode(p,w)}_for(P,I){return this._blockNode(P),I&&this.code(I).endFor(),this}for(P,I){return this._for(new b(P),I)}forRange(P,I,K,le,ce=this.opts.es5?n.varKinds.var:n.varKinds.let){const Te=this._scope.toName(P);return this._for(new _(ce,Te,I,K),()=>le(Te))}forOf(P,I,K,le=n.varKinds.const){const ce=this._scope.toName(P);if(this.opts.es5){const Te=I instanceof t.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,t._)`${Te}.length`,Oe=>{this.var(ce,(0,t._)`${Te}[${Oe}]`),K(ce)})}return this._for(new S("of",le,ce,I),()=>K(ce))}forIn(P,I,K,le=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${I})`,K);const ce=this._scope.toName(P);return this._for(new S("in",le,ce,I),()=>K(ce))}endFor(){return this._endBlockNode(v)}label(P){return this._leafNode(new c(P))}break(P){return this._leafNode(new u(P))}return(P){const I=new C;if(this._blockNode(I),this.code(P),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(P,I,K){if(!I&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const le=new O;if(this._blockNode(le),this.code(P),I){const ce=this.name("e");this._currNode=le.catch=new L(ce),I(ce)}return K&&(this._currNode=le.finally=new V,this.code(K)),this._endBlockNode(L,V)}throw(P){return this._leafNode(new d(P))}block(P,I){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(I),this}endBlock(P){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-I;if(K<0||P!==void 0&&K!==P)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${P} expected`);return this._nodes.length=I,this}func(P,I=t.nil,K,le){return this._blockNode(new m(P,I,K)),le&&this.code(le).endFunc(),this}endFunc(){return this._endBlockNode(m)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,I){const K=this._currNode;if(K instanceof P||I&&K instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${P.kind}/${I.kind}`:P.kind}"`)}_elseNode(P){const I=this._currNode;if(!(I instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const I=this._nodes;I[I.length-1]=P}}e.CodeGen=W;function F(j,P){for(const I in P)j[I]=(j[I]||0)+(P[I]||0);return j}function J(j,P){return P instanceof t._CodeOrName?F(j,P.names):j}function te(j,P,I){if(j instanceof t.Name)return K(j);if(!le(j))return j;return new t._Code(j._items.reduce((ce,Te)=>(Te instanceof t.Name&&(Te=K(Te)),Te instanceof t._Code?ce.push(...Te._items):ce.push(Te),ce),[]));function K(ce){const Te=I[ce.str];return Te===void 0||P[ce.str]!==1?ce:(delete P[ce.str],Te)}function le(ce){return ce instanceof t._Code&&ce._items.some(Te=>Te instanceof t.Name&&P[Te.str]===1&&I[Te.str]!==void 0)}}function ae(j,P){for(const I in P)j[I]=(j[I]||0)-(P[I]||0)}function ne(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,t._)`!${Y(j)}`}e.not=ne;const pe=x(e.operators.AND);function ue(...j){return j.reduce(pe)}e.and=ue;const Ve=x(e.operators.OR);function re(...j){return j.reduce(Ve)}e.or=re;function x(j){return(P,I)=>P===t.nil?I:I===t.nil?P:(0,t._)`${Y(P)} ${j} ${Y(I)}`}function Y(j){return j instanceof t.Name?j:(0,t._)`(${j})`}})(qe);var Pt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=qe,n=Jo;function r(m){const C={};for(const O of m)C[O]=!0;return C}e.toHash=r;function o(m,C){return typeof C=="boolean"?C:Object.keys(C).length===0?!0:(s(m,C),!i(C,m.self.RULES.all))}e.alwaysValidSchema=o;function s(m,C=m.schema){const{opts:O,self:L}=m;if(!O.strictSchema||typeof C=="boolean")return;const V=L.RULES.keywords;for(const W in C)V[W]||S(m,`unknown keyword: "${W}"`)}e.checkUnknownRules=s;function i(m,C){if(typeof m=="boolean")return!m;for(const O in m)if(C[O])return!0;return!1}e.schemaHasRules=i;function a(m,C){if(typeof m=="boolean")return!m;for(const O in m)if(O!=="$ref"&&C.all[O])return!0;return!1}e.schemaHasRulesButRef=a;function l({topSchemaRef:m,schemaPath:C},O,L,V){if(!V){if(typeof O=="number"||typeof O=="boolean")return O;if(typeof O=="string")return(0,t._)`${O}`}return(0,t._)`${m}${C}${(0,t.getProperty)(L)}`}e.schemaRefOrVal=l;function c(m){return f(decodeURIComponent(m))}e.unescapeFragment=c;function u(m){return encodeURIComponent(d(m))}e.escapeFragment=u;function d(m){return typeof m=="number"?`${m}`:m.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function f(m){return m.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=f;function h(m,C){if(Array.isArray(m))for(const O of m)C(O);else C(m)}e.eachItem=h;function y({mergeNames:m,mergeToName:C,mergeValues:O,resultToName:L}){return(V,W,F,J)=>{const te=F===void 0?W:F instanceof t.Name?(W instanceof t.Name?m(V,W,F):C(V,W,F),F):W instanceof t.Name?(C(V,F,W),W):O(W,F);return J===t.Name&&!(te instanceof t.Name)?L(V,te):te}}e.mergeEvaluated={props:y({mergeNames:(m,C,O)=>m.if((0,t._)`${O} !== true && ${C} !== undefined`,()=>{m.if((0,t._)`${C} === true`,()=>m.assign(O,!0),()=>m.assign(O,(0,t._)`${O} || {}`).code((0,t._)`Object.assign(${O}, ${C})`))}),mergeToName:(m,C,O)=>m.if((0,t._)`${O} !== true`,()=>{C===!0?m.assign(O,!0):(m.assign(O,(0,t._)`${O} || {}`),w(m,O,C))}),mergeValues:(m,C)=>m===!0?!0:{...m,...C},resultToName:E}),items:y({mergeNames:(m,C,O)=>m.if((0,t._)`${O} !== true && ${C} !== undefined`,()=>m.assign(O,(0,t._)`${C} === true ? true : ${O} > ${C} ? ${O} : ${C}`)),mergeToName:(m,C,O)=>m.if((0,t._)`${O} !== true`,()=>m.assign(O,C===!0?!0:(0,t._)`${O} > ${C} ? ${O} : ${C}`)),mergeValues:(m,C)=>m===!0?!0:Math.max(m,C),resultToName:(m,C)=>m.var("items",C)})};function E(m,C){if(C===!0)return m.var("props",!0);const O=m.var("props",(0,t._)`{}`);return C!==void 0&&w(m,O,C),O}e.evaluatedPropsToName=E;function w(m,C,O){Object.keys(O).forEach(L=>m.assign((0,t._)`${C}${(0,t.getProperty)(L)}`,!0))}e.setEvaluated=w;const p={};function v(m,C){return m.scopeValue("func",{ref:C,code:p[C.code]||(p[C.code]=new n._Code(C.code))})}e.useFunc=v;var b;(function(m){m[m.Num=0]="Num",m[m.Str=1]="Str"})(b=e.Type||(e.Type={}));function _(m,C,O){if(m instanceof t.Name){const L=C===b.Num;return O?L?(0,t._)`"[" + ${m} + "]"`:(0,t._)`"['" + ${m} + "']"`:L?(0,t._)`"/" + ${m}`:(0,t._)`"/" + ${m}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return O?(0,t.getProperty)(m).toString():"/"+d(m)}e.getErrorPath=_;function S(m,C,O=m.opts.strictSchema){if(O){if(C=`strict mode: ${C}`,O===!0)throw new Error(C);m.self.logger.warn(C)}}e.checkStrictMode=S})(Pt);var rn={};Object.defineProperty(rn,"__esModule",{value:!0});const Ot=qe,kg={data:new Ot.Name("data"),valCxt:new Ot.Name("valCxt"),instancePath:new Ot.Name("instancePath"),parentData:new Ot.Name("parentData"),parentDataProperty:new Ot.Name("parentDataProperty"),rootData:new Ot.Name("rootData"),dynamicAnchors:new Ot.Name("dynamicAnchors"),vErrors:new Ot.Name("vErrors"),errors:new Ot.Name("errors"),this:new Ot.Name("this"),self:new Ot.Name("self"),scope:new Ot.Name("scope"),json:new Ot.Name("json"),jsonPos:new Ot.Name("jsonPos"),jsonLen:new Ot.Name("jsonLen"),jsonPart:new Ot.Name("jsonPart")};rn.default=kg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=qe,n=Pt,r=rn;e.keywordError={message:({keyword:w})=>(0,t.str)`must pass "${w}" keyword validation`},e.keyword$DataError={message:({keyword:w,schemaType:p})=>p?(0,t.str)`"${w}" keyword must be ${p} ($data)`:(0,t.str)`"${w}" keyword is invalid ($data)`};function o(w,p=e.keywordError,v,b){const{it:_}=w,{gen:S,compositeRule:m,allErrors:C}=_,O=d(w,p,v);b??(m||C)?l(S,O):c(_,(0,t._)`[${O}]`)}e.reportError=o;function s(w,p=e.keywordError,v){const{it:b}=w,{gen:_,compositeRule:S,allErrors:m}=b,C=d(w,p,v);l(_,C),S||m||c(b,r.default.vErrors)}e.reportExtraError=s;function i(w,p){w.assign(r.default.errors,p),w.if((0,t._)`${r.default.vErrors} !== null`,()=>w.if(p,()=>w.assign((0,t._)`${r.default.vErrors}.length`,p),()=>w.assign(r.default.vErrors,null)))}e.resetErrorsCount=i;function a({gen:w,keyword:p,schemaValue:v,data:b,errsCount:_,it:S}){if(_===void 0)throw new Error("ajv implementation error");const m=w.name("err");w.forRange("i",_,r.default.errors,C=>{w.const(m,(0,t._)`${r.default.vErrors}[${C}]`),w.if((0,t._)`${m}.instancePath === undefined`,()=>w.assign((0,t._)`${m}.instancePath`,(0,t.strConcat)(r.default.instancePath,S.errorPath))),w.assign((0,t._)`${m}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${p}`),S.opts.verbose&&(w.assign((0,t._)`${m}.schema`,v),w.assign((0,t._)`${m}.data`,b))})}e.extendErrors=a;function l(w,p){const v=w.const("err",p);w.if((0,t._)`${r.default.vErrors} === null`,()=>w.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),w.code((0,t._)`${r.default.errors}++`)}function c(w,p){const{gen:v,validateName:b,schemaEnv:_}=w;_.$async?v.throw((0,t._)`new ${w.ValidationError}(${p})`):(v.assign((0,t._)`${b}.errors`,p),v.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(w,p,v){const{createErrors:b}=w.it;return b===!1?(0,t._)`{}`:f(w,p,v)}function f(w,p,v={}){const{gen:b,it:_}=w,S=[h(_,v),y(w,v)];return E(w,p,S),b.object(...S)}function h({errorPath:w},{instancePath:p}){const v=p?(0,t.str)`${w}${(0,n.getErrorPath)(p,n.Type.Str)}`:w;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function y({keyword:w,it:{errSchemaPath:p}},{schemaPath:v,parentSchema:b}){let _=b?p:(0,t.str)`${p}/${w}`;return v&&(_=(0,t.str)`${_}${(0,n.getErrorPath)(v,n.Type.Str)}`),[u.schemaPath,_]}function E(w,{params:p,message:v},b){const{keyword:_,data:S,schemaValue:m,it:C}=w,{opts:O,propertyName:L,topSchemaRef:V,schemaPath:W}=C;b.push([u.keyword,_],[u.params,typeof p=="function"?p(w):p||(0,t._)`{}`]),O.messages&&b.push([u.message,typeof v=="function"?v(w):v]),O.verbose&&b.push([u.schema,m],[u.parentSchema,(0,t._)`${V}${W}`],[r.default.data,S]),L&&b.push([u.propertyName,L])}})(os);var Yc;function Dg(){if(Yc)return Tr;Yc=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.boolOrEmptySchema=Tr.topBoolOrEmptySchema=void 0;const e=os,t=qe,n=rn,r={message:"boolean schema is false"};function o(a){const{gen:l,schema:c,validateName:u}=a;c===!1?i(a,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${u}.errors`,null),l.return(!0))}Tr.topBoolOrEmptySchema=o;function s(a,l){const{gen:c,schema:u}=a;u===!1?(c.var(l,!1),i(a)):c.var(l,!0)}Tr.boolOrEmptySchema=s;function i(a,l){const{gen:c,data:u}=a,d={gen:c,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,e.reportError)(d,r,void 0,l)}return Tr}var Hs={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.getRules=Fr.isJSONType=void 0;const xg=["string","number","integer","boolean","null","object","array"],Lg=new Set(xg);function Rg(e){return typeof e=="string"&&Lg.has(e)}Fr.isJSONType=Rg;function Fg(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Fr.getRules=Fg;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.shouldUseRule=Fn.shouldUseGroup=Fn.schemaHasRulesForType=void 0;function jg({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Of(e,r)}Fn.schemaHasRulesForType=jg;function Of(e,t){return t.rules.some(n=>If(e,n))}Fn.shouldUseGroup=Of;function If(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}Fn.shouldUseRule=If;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Fr,n=Fn,r=os,o=qe,s=Pt;var i;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(i=e.DataType||(e.DataType={}));function a(b){const _=l(b.type);if(_.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!_.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&_.push("null")}return _}e.getSchemaTypes=a;function l(b){const _=Array.isArray(b)?b:b?[b]:[];if(_.every(t.isJSONType))return _;throw new Error("type must be JSONType or JSONType[]: "+_.join(","))}e.getJSONTypes=l;function c(b,_){const{gen:S,data:m,opts:C}=b,O=d(_,C.coerceTypes),L=_.length>0&&!(O.length===0&&_.length===1&&(0,n.schemaHasRulesForType)(b,_[0]));if(L){const V=E(_,m,C.strictNumbers,i.Wrong);S.if(V,()=>{O.length?f(b,_,O):p(b)})}return L}e.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(b,_){return _?b.filter(S=>u.has(S)||_==="array"&&S==="array"):[]}function f(b,_,S){const{gen:m,data:C,opts:O}=b,L=m.let("dataType",(0,o._)`typeof ${C}`),V=m.let("coerced",(0,o._)`undefined`);O.coerceTypes==="array"&&m.if((0,o._)`${L} == 'object' && Array.isArray(${C}) && ${C}.length == 1`,()=>m.assign(C,(0,o._)`${C}[0]`).assign(L,(0,o._)`typeof ${C}`).if(E(_,C,O.strictNumbers),()=>m.assign(V,C))),m.if((0,o._)`${V} !== undefined`);for(const F of S)(u.has(F)||F==="array"&&O.coerceTypes==="array")&&W(F);m.else(),p(b),m.endIf(),m.if((0,o._)`${V} !== undefined`,()=>{m.assign(C,V),h(b,V)});function W(F){switch(F){case"string":m.elseIf((0,o._)`${L} == "number" || ${L} == "boolean"`).assign(V,(0,o._)`"" + ${C}`).elseIf((0,o._)`${C} === null`).assign(V,(0,o._)`""`);return;case"number":m.elseIf((0,o._)`${L} == "boolean" || ${C} === null
              || (${L} == "string" && ${C} && ${C} == +${C})`).assign(V,(0,o._)`+${C}`);return;case"integer":m.elseIf((0,o._)`${L} === "boolean" || ${C} === null
              || (${L} === "string" && ${C} && ${C} == +${C} && !(${C} % 1))`).assign(V,(0,o._)`+${C}`);return;case"boolean":m.elseIf((0,o._)`${C} === "false" || ${C} === 0 || ${C} === null`).assign(V,!1).elseIf((0,o._)`${C} === "true" || ${C} === 1`).assign(V,!0);return;case"null":m.elseIf((0,o._)`${C} === "" || ${C} === 0 || ${C} === false`),m.assign(V,null);return;case"array":m.elseIf((0,o._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${C} === null`).assign(V,(0,o._)`[${C}]`)}}}function h({gen:b,parentData:_,parentDataProperty:S},m){b.if((0,o._)`${_} !== undefined`,()=>b.assign((0,o._)`${_}[${S}]`,m))}function y(b,_,S,m=i.Correct){const C=m===i.Correct?o.operators.EQ:o.operators.NEQ;let O;switch(b){case"null":return(0,o._)`${_} ${C} null`;case"array":O=(0,o._)`Array.isArray(${_})`;break;case"object":O=(0,o._)`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":O=L((0,o._)`!(${_} % 1) && !isNaN(${_})`);break;case"number":O=L();break;default:return(0,o._)`typeof ${_} ${C} ${b}`}return m===i.Correct?O:(0,o.not)(O);function L(V=o.nil){return(0,o.and)((0,o._)`typeof ${_} == "number"`,V,S?(0,o._)`isFinite(${_})`:o.nil)}}e.checkDataType=y;function E(b,_,S,m){if(b.length===1)return y(b[0],_,S,m);let C;const O=(0,s.toHash)(b);if(O.array&&O.object){const L=(0,o._)`typeof ${_} != "object"`;C=O.null?L:(0,o._)`!${_} || ${L}`,delete O.null,delete O.array,delete O.object}else C=o.nil;O.number&&delete O.integer;for(const L in O)C=(0,o.and)(C,y(L,_,S,m));return C}e.checkDataTypes=E;const w={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:_})=>typeof b=="string"?(0,o._)`{type: ${b}}`:(0,o._)`{type: ${_}}`};function p(b){const _=v(b);(0,r.reportError)(_,w)}e.reportTypeError=p;function v(b){const{gen:_,data:S,schema:m}=b,C=(0,s.schemaRefOrVal)(b,m,"type");return{gen:_,keyword:"type",data:S,schema:m.type,schemaCode:C,schemaValue:C,parentSchema:m,params:{},it:b}}})(Hs);var Co={},Gc;function Vg(){if(Gc)return Co;Gc=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.assignDefaults=void 0;const e=qe,t=Pt;function n(o,s){const{properties:i,items:a}=o.schema;if(s==="object"&&i)for(const l in i)r(o,l,i[l].default);else s==="array"&&Array.isArray(a)&&a.forEach((l,c)=>r(o,c,l.default))}Co.assignDefaults=n;function r(o,s,i){const{gen:a,compositeRule:l,data:c,opts:u}=o;if(i===void 0)return;const d=(0,e._)`${c}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(o,`default is ignored for: ${d}`);return}let f=(0,e._)`${d} === undefined`;u.useDefaults==="empty"&&(f=(0,e._)`${f} || ${d} === null || ${d} === ""`),a.if(f,(0,e._)`${d} = ${(0,e.stringify)(i)}`)}return Co}var ln={},He={};Object.defineProperty(He,"__esModule",{value:!0});He.validateUnion=He.validateArray=He.usePattern=He.callValidateCode=He.schemaProperties=He.allSchemaProperties=He.noPropertyInData=He.propertyInData=He.isOwnProperty=He.hasPropFunc=He.reportMissingProp=He.checkMissingProp=He.checkReportMissingProp=void 0;const it=qe,sl=Pt,Qn=rn,Ug=Pt;function zg(e,t){const{gen:n,data:r,it:o}=e;n.if(al(n,r,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,it._)`${t}`},!0),e.error()})}He.checkReportMissingProp=zg;function Bg({gen:e,data:t,it:{opts:n}},r,o){return(0,it.or)(...r.map(s=>(0,it.and)(al(e,t,s,n.ownProperties),(0,it._)`${o} = ${s}`)))}He.checkMissingProp=Bg;function Kg(e,t){e.setParams({missingProperty:t},!0),e.error()}He.reportMissingProp=Kg;function Nf(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,it._)`Object.prototype.hasOwnProperty`})}He.hasPropFunc=Nf;function il(e,t,n){return(0,it._)`${Nf(e)}.call(${t}, ${n})`}He.isOwnProperty=il;function Hg(e,t,n,r){const o=(0,it._)`${t}${(0,it.getProperty)(n)} !== undefined`;return r?(0,it._)`${o} && ${il(e,t,n)}`:o}He.propertyInData=Hg;function al(e,t,n,r){const o=(0,it._)`${t}${(0,it.getProperty)(n)} === undefined`;return r?(0,it.or)(o,(0,it.not)(il(e,t,n))):o}He.noPropertyInData=al;function Mf(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}He.allSchemaProperties=Mf;function Zg(e,t){return Mf(t).filter(n=>!(0,sl.alwaysValidSchema)(e,t[n]))}He.schemaProperties=Zg;function Wg({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:o,errorPath:s},it:i},a,l,c){const u=c?(0,it._)`${e}, ${t}, ${r}${o}`:t,d=[[Qn.default.instancePath,(0,it.strConcat)(Qn.default.instancePath,s)],[Qn.default.parentData,i.parentData],[Qn.default.parentDataProperty,i.parentDataProperty],[Qn.default.rootData,Qn.default.rootData]];i.opts.dynamicRef&&d.push([Qn.default.dynamicAnchors,Qn.default.dynamicAnchors]);const f=(0,it._)`${u}, ${n.object(...d)}`;return l!==it.nil?(0,it._)`${a}.call(${l}, ${f})`:(0,it._)`${a}(${f})`}He.callValidateCode=Wg;const Yg=(0,it._)`new RegExp`;function Gg({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:o}=t.code,s=o(n,r);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,it._)`${o.code==="new RegExp"?Yg:(0,Ug.useFunc)(e,o)}(${n}, ${r})`})}He.usePattern=Gg;function Jg(e){const{gen:t,data:n,keyword:r,it:o}=e,s=t.name("valid");if(o.allErrors){const a=t.let("valid",!0);return i(()=>t.assign(a,!1)),a}return t.var(s,!0),i(()=>t.break()),s;function i(a){const l=t.const("len",(0,it._)`${n}.length`);t.forRange("i",0,l,c=>{e.subschema({keyword:r,dataProp:c,dataPropType:sl.Type.Num},s),t.if((0,it.not)(s),a)})}}He.validateArray=Jg;function Xg(e){const{gen:t,schema:n,keyword:r,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,sl.alwaysValidSchema)(o,l))&&!o.opts.unevaluated)return;const i=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((l,c)=>{const u=e.subschema({keyword:r,schemaProp:c,compositeRule:!0},a);t.assign(i,(0,it._)`${i} || ${a}`),e.mergeValidEvaluated(u,a)||t.if((0,it.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}He.validateUnion=Xg;var Jc;function Qg(){if(Jc)return ln;Jc=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.validateKeywordUsage=ln.validSchemaType=ln.funcKeywordCode=ln.macroKeywordCode=void 0;const e=qe,t=rn,n=He,r=os;function o(f,h){const{gen:y,keyword:E,schema:w,parentSchema:p,it:v}=f,b=h.macro.call(v.self,w,p,v),_=c(y,E,b);v.opts.validateSchema!==!1&&v.self.validateSchema(b,!0);const S=y.name("valid");f.subschema({schema:b,schemaPath:e.nil,errSchemaPath:`${v.errSchemaPath}/${E}`,topSchemaRef:_,compositeRule:!0},S),f.pass(S,()=>f.error(!0))}ln.macroKeywordCode=o;function s(f,h){var y;const{gen:E,keyword:w,schema:p,parentSchema:v,$data:b,it:_}=f;l(_,h);const S=!b&&h.compile?h.compile.call(_.self,p,v,_):h.validate,m=c(E,w,S),C=E.let("valid");f.block$data(C,O),f.ok((y=h.valid)!==null&&y!==void 0?y:C);function O(){if(h.errors===!1)W(),h.modifying&&i(f),F(()=>f.error());else{const J=h.async?L():V();h.modifying&&i(f),F(()=>a(f,J))}}function L(){const J=E.let("ruleErrs",null);return E.try(()=>W((0,e._)`await `),te=>E.assign(C,!1).if((0,e._)`${te} instanceof ${_.ValidationError}`,()=>E.assign(J,(0,e._)`${te}.errors`),()=>E.throw(te))),J}function V(){const J=(0,e._)`${m}.errors`;return E.assign(J,null),W(e.nil),J}function W(J=h.async?(0,e._)`await `:e.nil){const te=_.opts.passContext?t.default.this:t.default.self,ae=!("compile"in h&&!b||h.schema===!1);E.assign(C,(0,e._)`${J}${(0,n.callValidateCode)(f,m,te,ae)}`,h.modifying)}function F(J){var te;E.if((0,e.not)((te=h.valid)!==null&&te!==void 0?te:C),J)}}ln.funcKeywordCode=s;function i(f){const{gen:h,data:y,it:E}=f;h.if(E.parentData,()=>h.assign(y,(0,e._)`${E.parentData}[${E.parentDataProperty}]`))}function a(f,h){const{gen:y}=f;y.if((0,e._)`Array.isArray(${h})`,()=>{y.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(f)},()=>f.error())}function l({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function c(f,h,y){if(y===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,e.stringify)(y)})}function u(f,h,y=!1){return!h.length||h.some(E=>E==="array"?Array.isArray(f):E==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==E||y&&typeof f>"u")}ln.validSchemaType=u;function d({schema:f,opts:h,self:y,errSchemaPath:E},w,p){if(Array.isArray(w.keyword)?!w.keyword.includes(p):w.keyword!==p)throw new Error("ajv implementation error");const v=w.dependencies;if(v!=null&&v.some(b=>!Object.prototype.hasOwnProperty.call(f,b)))throw new Error(`parent schema must have dependencies of ${p}: ${v.join(",")}`);if(w.validateSchema&&!w.validateSchema(f[p])){const _=`keyword "${p}" value is invalid at path "${E}": `+y.errorsText(w.validateSchema.errors);if(h.validateSchema==="log")y.logger.error(_);else throw new Error(_)}}return ln.validateKeywordUsage=d,ln}var Mn={},Xc;function qg(){if(Xc)return Mn;Xc=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.extendSubschemaMode=Mn.extendSubschemaData=Mn.getSubschema=void 0;const e=qe,t=Pt;function n(s,{keyword:i,schemaProp:a,schema:l,schemaPath:c,errSchemaPath:u,topSchemaRef:d}){if(i!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){const f=s.schema[i];return a===void 0?{schema:f,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${i}`}:{schema:f[a],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(i)}${(0,e.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${i}/${(0,t.escapeFragment)(a)}`}}if(l!==void 0){if(c===void 0||u===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Mn.getSubschema=n;function r(s,i,{dataProp:a,dataPropType:l,data:c,dataTypes:u,propertyName:d}){if(c!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=i;if(a!==void 0){const{errorPath:y,dataPathArr:E,opts:w}=i,p=f.let("data",(0,e._)`${i.data}${(0,e.getProperty)(a)}`,!0);h(p),s.errorPath=(0,e.str)`${y}${(0,t.getErrorPath)(a,l,w.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${a}`,s.dataPathArr=[...E,s.parentDataProperty]}if(c!==void 0){const y=c instanceof e.Name?c:f.let("data",c,!0);h(y),d!==void 0&&(s.propertyName=d)}u&&(s.dataTypes=u);function h(y){s.data=y,s.dataLevel=i.dataLevel+1,s.dataTypes=[],i.definedProperties=new Set,s.parentData=i.data,s.dataNames=[...i.dataNames,y]}}Mn.extendSubschemaData=r;function o(s,{jtdDiscriminator:i,jtdMetadata:a,compositeRule:l,createErrors:c,allErrors:u}){l!==void 0&&(s.compositeRule=l),c!==void 0&&(s.createErrors=c),u!==void 0&&(s.allErrors=u),s.jtdDiscriminator=i,s.jtdMetadata=a}return Mn.extendSubschemaMode=o,Mn}var Tt={},ey=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[o]))return!1;for(o=r;o--!==0;){var i=s[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n},Af={exports:{}},ir=Af.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},o=n.post||function(){};As(t,r,o,e,"",e)};ir.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ir.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ir.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ir.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function As(e,t,n,r,o,s,i,a,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,o,s,i,a,l,c);for(var u in r){var d=r[u];if(Array.isArray(d)){if(u in ir.arrayKeywords)for(var f=0;f<d.length;f++)As(e,t,n,d[f],o+"/"+u+"/"+f,s,o,u,r,f)}else if(u in ir.propsKeywords){if(d&&typeof d=="object")for(var h in d)As(e,t,n,d[h],o+"/"+u+"/"+ty(h),s,o,u,r,h)}else(u in ir.keywords||e.allKeys&&!(u in ir.skipKeywords))&&As(e,t,n,d,o+"/"+u,s,o,u,r)}n(r,o,s,i,a,l,c)}}function ty(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ny=Af.exports;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.getSchemaRefs=Tt.resolveUrl=Tt.normalizeId=Tt._getFullPath=Tt.getFullPath=Tt.inlineRef=void 0;const ry=Pt,oy=ey,sy=ny,iy=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ay(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ya(e):t?kf(e)<=t:!1}Tt.inlineRef=ay;const ly=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ya(e){for(const t in e){if(ly.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(ya)||typeof n=="object"&&ya(n))return!0}return!1}function kf(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!iy.has(n)&&(typeof e[n]=="object"&&(0,ry.eachItem)(e[n],r=>t+=kf(r)),t===1/0))return 1/0}return t}function Df(e,t="",n){n!==!1&&(t=lo(t));const r=e.parse(t);return xf(e,r)}Tt.getFullPath=Df;function xf(e,t){return e.serialize(t).split("#")[0]+"#"}Tt._getFullPath=xf;const cy=/#\/?$/;function lo(e){return e?e.replace(cy,""):""}Tt.normalizeId=lo;function uy(e,t,n){return n=lo(n),e.resolve(t,n)}Tt.resolveUrl=uy;const dy=/^[a-z_][-a-z0-9._]*$/i;function fy(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,o=lo(e[n]||t),s={"":o},i=Df(r,o,!1),a={},l=new Set;return sy(e,{allKeys:!0},(d,f,h,y)=>{if(y===void 0)return;const E=i+f;let w=s[y];typeof d[n]=="string"&&(w=p.call(this,d[n])),v.call(this,d.$anchor),v.call(this,d.$dynamicAnchor),s[f]=w;function p(b){const _=this.opts.uriResolver.resolve;if(b=lo(w?_(w,b):b),l.has(b))throw u(b);l.add(b);let S=this.refs[b];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?c(d,S.schema,b):b!==lo(E)&&(b[0]==="#"?(c(d,a[b],b),a[b]=d):this.refs[b]=E),b}function v(b){if(typeof b=="string"){if(!dy.test(b))throw new Error(`invalid anchor "${b}"`);p.call(this,`#${b}`)}}}),a;function c(d,f,h){if(f!==void 0&&!oy(d,f))throw u(h)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Tt.getSchemaRefs=fy;var Qc;function ll(){if(Qc)return Nn;Qc=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.getData=Nn.KeywordCxt=Nn.validateFunctionCode=void 0;const e=Dg(),t=Hs,n=Fn,r=Hs,o=Vg(),s=Qg(),i=qg(),a=qe,l=rn,c=Tt,u=Pt,d=os;function f(D){if(S(D)&&(C(D),_(D))){w(D);return}h(D,()=>(0,e.topBoolOrEmptySchema)(D))}Nn.validateFunctionCode=f;function h({gen:D,validateName:g,schema:$,schemaEnv:A,opts:R},U){R.code.es5?D.func(g,(0,a._)`${l.default.data}, ${l.default.valCxt}`,A.$async,()=>{D.code((0,a._)`"use strict"; ${v($,R)}`),E(D,R),D.code(U)}):D.func(g,(0,a._)`${l.default.data}, ${y(R)}`,A.$async,()=>D.code(v($,R)).code(U))}function y(D){return(0,a._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${D.dynamicRef?(0,a._)`, ${l.default.dynamicAnchors}={}`:a.nil}}={}`}function E(D,g){D.if(l.default.valCxt,()=>{D.var(l.default.instancePath,(0,a._)`${l.default.valCxt}.${l.default.instancePath}`),D.var(l.default.parentData,(0,a._)`${l.default.valCxt}.${l.default.parentData}`),D.var(l.default.parentDataProperty,(0,a._)`${l.default.valCxt}.${l.default.parentDataProperty}`),D.var(l.default.rootData,(0,a._)`${l.default.valCxt}.${l.default.rootData}`),g.dynamicRef&&D.var(l.default.dynamicAnchors,(0,a._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{D.var(l.default.instancePath,(0,a._)`""`),D.var(l.default.parentData,(0,a._)`undefined`),D.var(l.default.parentDataProperty,(0,a._)`undefined`),D.var(l.default.rootData,l.default.data),g.dynamicRef&&D.var(l.default.dynamicAnchors,(0,a._)`{}`)})}function w(D){const{schema:g,opts:$,gen:A}=D;h(D,()=>{$.$comment&&g.$comment&&J(D),V(D),A.let(l.default.vErrors,null),A.let(l.default.errors,0),$.unevaluated&&p(D),O(D),te(D)})}function p(D){const{gen:g,validateName:$}=D;D.evaluated=g.const("evaluated",(0,a._)`${$}.evaluated`),g.if((0,a._)`${D.evaluated}.dynamicProps`,()=>g.assign((0,a._)`${D.evaluated}.props`,(0,a._)`undefined`)),g.if((0,a._)`${D.evaluated}.dynamicItems`,()=>g.assign((0,a._)`${D.evaluated}.items`,(0,a._)`undefined`))}function v(D,g){const $=typeof D=="object"&&D[g.schemaId];return $&&(g.code.source||g.code.process)?(0,a._)`/*# sourceURL=${$} */`:a.nil}function b(D,g){if(S(D)&&(C(D),_(D))){m(D,g);return}(0,e.boolOrEmptySchema)(D,g)}function _({schema:D,self:g}){if(typeof D=="boolean")return!D;for(const $ in D)if(g.RULES.all[$])return!0;return!1}function S(D){return typeof D.schema!="boolean"}function m(D,g){const{schema:$,gen:A,opts:R}=D;R.$comment&&$.$comment&&J(D),W(D),F(D);const U=A.const("_errs",l.default.errors);O(D,U),A.var(g,(0,a._)`${U} === ${l.default.errors}`)}function C(D){(0,u.checkUnknownRules)(D),L(D)}function O(D,g){if(D.opts.jtd)return ne(D,[],!1,g);const $=(0,t.getSchemaTypes)(D.schema),A=(0,t.coerceAndCheckDataType)(D,$);ne(D,$,!A,g)}function L(D){const{schema:g,errSchemaPath:$,opts:A,self:R}=D;g.$ref&&A.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(g,R.RULES)&&R.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function V(D){const{schema:g,opts:$}=D;g.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,u.checkStrictMode)(D,"default is ignored in the schema root")}function W(D){const g=D.schema[D.opts.schemaId];g&&(D.baseId=(0,c.resolveUrl)(D.opts.uriResolver,D.baseId,g))}function F(D){if(D.schema.$async&&!D.schemaEnv.$async)throw new Error("async schema in sync schema")}function J({gen:D,schemaEnv:g,schema:$,errSchemaPath:A,opts:R}){const U=$.$comment;if(R.$comment===!0)D.code((0,a._)`${l.default.self}.logger.log(${U})`);else if(typeof R.$comment=="function"){const Q=(0,a.str)`${A}/$comment`,oe=D.scopeValue("root",{ref:g.root});D.code((0,a._)`${l.default.self}.opts.$comment(${U}, ${Q}, ${oe}.schema)`)}}function te(D){const{gen:g,schemaEnv:$,validateName:A,ValidationError:R,opts:U}=D;$.$async?g.if((0,a._)`${l.default.errors} === 0`,()=>g.return(l.default.data),()=>g.throw((0,a._)`new ${R}(${l.default.vErrors})`)):(g.assign((0,a._)`${A}.errors`,l.default.vErrors),U.unevaluated&&ae(D),g.return((0,a._)`${l.default.errors} === 0`))}function ae({gen:D,evaluated:g,props:$,items:A}){$ instanceof a.Name&&D.assign((0,a._)`${g}.props`,$),A instanceof a.Name&&D.assign((0,a._)`${g}.items`,A)}function ne(D,g,$,A){const{gen:R,schema:U,data:Q,allErrors:oe,opts:q,self:ee}=D,{RULES:G}=ee;if(U.$ref&&(q.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(U,G))){R.block(()=>le(D,"$ref",G.all.$ref.definition));return}q.jtd||ue(D,g),R.block(()=>{for(const ie of G.rules)de(ie);de(G.post)});function de(ie){(0,n.shouldUseGroup)(U,ie)&&(ie.type?(R.if((0,r.checkDataType)(ie.type,Q,q.strictNumbers)),pe(D,ie),g.length===1&&g[0]===ie.type&&$&&(R.else(),(0,r.reportTypeError)(D)),R.endIf()):pe(D,ie),oe||R.if((0,a._)`${l.default.errors} === ${A||0}`))}}function pe(D,g){const{gen:$,schema:A,opts:{useDefaults:R}}=D;R&&(0,o.assignDefaults)(D,g.type),$.block(()=>{for(const U of g.rules)(0,n.shouldUseRule)(A,U)&&le(D,U.keyword,U.definition,g.type)})}function ue(D,g){D.schemaEnv.meta||!D.opts.strictTypes||(Ve(D,g),D.opts.allowUnionTypes||re(D,g),x(D,D.dataTypes))}function Ve(D,g){if(g.length){if(!D.dataTypes.length){D.dataTypes=g;return}g.forEach($=>{j(D.dataTypes,$)||I(D,`type "${$}" not allowed by context "${D.dataTypes.join(",")}"`)}),P(D,g)}}function re(D,g){g.length>1&&!(g.length===2&&g.includes("null"))&&I(D,"use allowUnionTypes to allow union type keyword")}function x(D,g){const $=D.self.RULES.all;for(const A in $){const R=$[A];if(typeof R=="object"&&(0,n.shouldUseRule)(D.schema,R)){const{type:U}=R.definition;U.length&&!U.some(Q=>Y(g,Q))&&I(D,`missing type "${U.join(",")}" for keyword "${A}"`)}}}function Y(D,g){return D.includes(g)||g==="number"&&D.includes("integer")}function j(D,g){return D.includes(g)||g==="integer"&&D.includes("number")}function P(D,g){const $=[];for(const A of D.dataTypes)j(g,A)?$.push(A):g.includes("integer")&&A==="number"&&$.push("integer");D.dataTypes=$}function I(D,g){const $=D.schemaEnv.baseId+D.errSchemaPath;g+=` at "${$}" (strictTypes)`,(0,u.checkStrictMode)(D,g,D.opts.strictTypes)}class K{constructor(g,$,A){if((0,s.validateKeywordUsage)(g,$,A),this.gen=g.gen,this.allErrors=g.allErrors,this.keyword=A,this.data=g.data,this.schema=g.schema[A],this.$data=$.$data&&g.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(g,this.schema,A,this.$data),this.schemaType=$.schemaType,this.parentSchema=g.schema,this.params={},this.it=g,this.def=$,this.$data)this.schemaCode=g.gen.const("vSchema",Oe(this.$data,g));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=g.gen.const("_errs",l.default.errors))}result(g,$,A){this.failResult((0,a.not)(g),$,A)}failResult(g,$,A){this.gen.if(g),A?A():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(g,$){this.failResult((0,a.not)(g),void 0,$)}fail(g){if(g===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(g),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(g){if(!this.$data)return this.fail(g);const{schemaCode:$}=this;this.fail((0,a._)`${$} !== undefined && (${(0,a.or)(this.invalid$data(),g)})`)}error(g,$,A){if($){this.setParams($),this._error(g,A),this.setParams({});return}this._error(g,A)}_error(g,$){(g?d.reportExtraError:d.reportError)(this,this.def.error,$)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(g){this.allErrors||this.gen.if(g)}setParams(g,$){$?Object.assign(this.params,g):this.params=g}block$data(g,$,A=a.nil){this.gen.block(()=>{this.check$data(g,A),$()})}check$data(g=a.nil,$=a.nil){if(!this.$data)return;const{gen:A,schemaCode:R,schemaType:U,def:Q}=this;A.if((0,a.or)((0,a._)`${R} === undefined`,$)),g!==a.nil&&A.assign(g,!0),(U.length||Q.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),g!==a.nil&&A.assign(g,!1)),A.else()}invalid$data(){const{gen:g,schemaCode:$,schemaType:A,def:R,it:U}=this;return(0,a.or)(Q(),oe());function Q(){if(A.length){if(!($ instanceof a.Name))throw new Error("ajv implementation error");const q=Array.isArray(A)?A:[A];return(0,a._)`${(0,r.checkDataTypes)(q,$,U.opts.strictNumbers,r.DataType.Wrong)}`}return a.nil}function oe(){if(R.validateSchema){const q=g.scopeValue("validate$data",{ref:R.validateSchema});return(0,a._)`!${q}(${$})`}return a.nil}}subschema(g,$){const A=(0,i.getSubschema)(this.it,g);(0,i.extendSubschemaData)(A,this.it,g),(0,i.extendSubschemaMode)(A,g);const R={...this.it,...A,items:void 0,props:void 0};return b(R,$),R}mergeEvaluated(g,$){const{it:A,gen:R}=this;A.opts.unevaluated&&(A.props!==!0&&g.props!==void 0&&(A.props=u.mergeEvaluated.props(R,g.props,A.props,$)),A.items!==!0&&g.items!==void 0&&(A.items=u.mergeEvaluated.items(R,g.items,A.items,$)))}mergeValidEvaluated(g,$){const{it:A,gen:R}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return R.if($,()=>this.mergeEvaluated(g,a.Name)),!0}}Nn.KeywordCxt=K;function le(D,g,$,A){const R=new K(D,$,g);"code"in $?$.code(R,A):R.$data&&$.validate?(0,s.funcKeywordCode)(R,$):"macro"in $?(0,s.macroKeywordCode)(R,$):($.compile||$.validate)&&(0,s.funcKeywordCode)(R,$)}const ce=/^\/(?:[^~]|~0|~1)*$/,Te=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(D,{dataLevel:g,dataNames:$,dataPathArr:A}){let R,U;if(D==="")return l.default.rootData;if(D[0]==="/"){if(!ce.test(D))throw new Error(`Invalid JSON-pointer: ${D}`);R=D,U=l.default.rootData}else{const ee=Te.exec(D);if(!ee)throw new Error(`Invalid JSON-pointer: ${D}`);const G=+ee[1];if(R=ee[2],R==="#"){if(G>=g)throw new Error(q("property/index",G));return A[g-G]}if(G>g)throw new Error(q("data",G));if(U=$[g-G],!R)return U}let Q=U;const oe=R.split("/");for(const ee of oe)ee&&(U=(0,a._)`${U}${(0,a.getProperty)((0,u.unescapeJsonPointer)(ee))}`,Q=(0,a._)`${Q} && ${U}`);return Q;function q(ee,G){return`Cannot access ${ee} ${G} levels up, current level is ${g}`}}return Nn.getData=Oe,Nn}var bs={},qc;function cl(){if(qc)return bs;qc=1,Object.defineProperty(bs,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return bs.default=e,bs}var br={};Object.defineProperty(br,"__esModule",{value:!0});const ji=Tt;class hy extends Error{constructor(t,n,r,o){super(o||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,ji.resolveUrl)(t,n,r),this.missingSchema=(0,ji.normalizeId)((0,ji.getFullPath)(t,this.missingRef))}}br.default=hy;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.resolveSchema=Nt.getCompilingSchema=Nt.resolveRef=Nt.compileSchema=Nt.SchemaEnv=void 0;const cn=qe,py=cl(),Cr=rn,dn=Tt,eu=Pt,vy=ll();class vi{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,dn.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Nt.SchemaEnv=vi;function ul(e){const t=Lf.call(this,e);if(t)return t;const n=(0,dn.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new cn.CodeGen(this.scope,{es5:r,lines:o,ownProperties:s});let a;e.$async&&(a=i.scopeValue("Error",{ref:py.default,code:(0,cn._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");e.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:Cr.default.data,parentData:Cr.default.parentData,parentDataProperty:Cr.default.parentDataProperty,dataNames:[Cr.default.data],dataPathArr:[cn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,cn.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:cn.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,cn._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,vy.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const d=i.toString();u=`${i.scopeRefs(Cr.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const h=new Function(`${Cr.default.self}`,`${Cr.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:d,scopeValues:i._values}),this.opts.unevaluated){const{props:y,items:E}=c;h.evaluated={props:y instanceof cn.Name?void 0:y,items:E instanceof cn.Name?void 0:E,dynamicProps:y instanceof cn.Name,dynamicItems:E instanceof cn.Name},h.source&&(h.source.evaluated=(0,cn.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(e)}}Nt.compileSchema=ul;function my(e,t,n){var r;n=(0,dn.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let s=by.call(this,e,n);if(s===void 0){const i=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;i&&(s=new vi({schema:i,schemaId:a,root:e,baseId:t}))}if(s!==void 0)return e.refs[n]=gy.call(this,s)}Nt.resolveRef=my;function gy(e){return(0,dn.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:ul.call(this,e)}function Lf(e){for(const t of this._compilations)if(yy(t,e))return t}Nt.getCompilingSchema=Lf;function yy(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function by(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||mi.call(this,e,t)}function mi(e,t){const n=this.opts.uriResolver.parse(t),r=(0,dn._getFullPath)(this.opts.uriResolver,n);let o=(0,dn.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===o)return Vi.call(this,n,e);const s=(0,dn.normalizeId)(r),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const a=mi.call(this,e,i);return typeof(a==null?void 0:a.schema)!="object"?void 0:Vi.call(this,n,a)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||ul.call(this,i),s===(0,dn.normalizeId)(t)){const{schema:a}=i,{schemaId:l}=this.opts,c=a[l];return c&&(o=(0,dn.resolveUrl)(this.opts.uriResolver,o,c)),new vi({schema:a,schemaId:l,root:e,baseId:o})}return Vi.call(this,n,i)}}Nt.resolveSchema=mi;const _y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vi(e,{baseId:t,schema:n,root:r}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,eu.unescapeFragment)(a)];if(l===void 0)return;n=l;const c=typeof n=="object"&&n[this.opts.schemaId];!_y.has(a)&&c&&(t=(0,dn.resolveUrl)(this.opts.uriResolver,t,c))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,eu.schemaHasRulesButRef)(n,this.RULES)){const a=(0,dn.resolveUrl)(this.opts.uriResolver,t,n.$ref);s=mi.call(this,r,a)}const{schemaId:i}=this.opts;if(s=s||new vi({schema:n,schemaId:i,root:r,baseId:t}),s.schema!==s.root.schema)return s}const wy="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ey="Meta-schema for $data reference (JSON AnySchema extension proposal)",Sy="object",Py=["$data"],$y={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ty=!1,Cy={$id:wy,description:Ey,type:Sy,required:Py,properties:$y,additionalProperties:Ty};var dl={},ba={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(Mg,function(n){function r(){for(var N=arguments.length,T=Array(N),k=0;k<N;k++)T[k]=arguments[k];if(T.length>1){T[0]=T[0].slice(0,-1);for(var H=T.length-1,B=1;B<H;++B)T[B]=T[B].slice(1,-1);return T[H]=T[H].slice(1),T.join("")}else return T[0]}function o(N){return"(?:"+N+")"}function s(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function i(N){return N.toUpperCase()}function a(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function l(N,T){var k=N;if(T)for(var H in T)k[H]=T[H];return k}function c(N){var T="[A-Za-z]",k="[0-9]",H=r(k,"[A-Fa-f]"),B=o(o("%[EFef]"+H+"%"+H+H+"%"+H+H)+"|"+o("%[89A-Fa-f]"+H+"%"+H+H)+"|"+o("%"+H+H)),we="[\\:\\/\\?\\#\\[\\]\\@]",Ee="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ke=r(we,Ee),nt=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",vt=N?"[\\uE000-\\uF8FF]":"[]",Fe=r(T,k,"[\\-\\.\\_\\~]",nt);o(T+r(T,k,"[\\+\\-\\.]")+"*"),o(o(B+"|"+r(Fe,Ee,"[\\:]"))+"*");var et=o(o("25[0-5]")+"|"+o("2[0-4]"+k)+"|"+o("1"+k+k)+"|"+o("0?[1-9]"+k)+"|0?0?"+k),mt=o(et+"\\."+et+"\\."+et+"\\."+et),Ie=o(H+"{1,4}"),ct=o(o(Ie+"\\:"+Ie)+"|"+mt),bt=o(o(Ie+"\\:")+"{6}"+ct),ut=o("\\:\\:"+o(Ie+"\\:")+"{5}"+ct),Gn=o(o(Ie)+"?\\:\\:"+o(Ie+"\\:")+"{4}"+ct),mn=o(o(o(Ie+"\\:")+"{0,1}"+Ie)+"?\\:\\:"+o(Ie+"\\:")+"{3}"+ct),gn=o(o(o(Ie+"\\:")+"{0,2}"+Ie)+"?\\:\\:"+o(Ie+"\\:")+"{2}"+ct),Jr=o(o(o(Ie+"\\:")+"{0,3}"+Ie)+"?\\:\\:"+Ie+"\\:"+ct),wr=o(o(o(Ie+"\\:")+"{0,4}"+Ie)+"?\\:\\:"+ct),Qt=o(o(o(Ie+"\\:")+"{0,5}"+Ie)+"?\\:\\:"+Ie),yn=o(o(o(Ie+"\\:")+"{0,6}"+Ie)+"?\\:\\:"),Er=o([bt,ut,Gn,mn,gn,Jr,wr,Qt,yn].join("|")),In=o(o(Fe+"|"+B)+"+");o("[vV]"+H+"+\\."+r(Fe,Ee,"[\\:]")+"+"),o(o(B+"|"+r(Fe,Ee))+"*");var Eo=o(B+"|"+r(Fe,Ee,"[\\:\\@]"));return o(o(B+"|"+r(Fe,Ee,"[\\@]"))+"+"),o(o(Eo+"|"+r("[\\/\\?]",vt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",T,k,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Fe,Ee),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Fe,Ee),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Fe,Ee),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Fe,Ee),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Fe,Ee,"[\\:\\@\\/\\?]",vt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Fe,Ee,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Fe,Ee),"g"),UNRESERVED:new RegExp(Fe,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Fe,Ke),"g"),PCT_ENCODED:new RegExp(B,"g"),IPV4ADDRESS:new RegExp("^("+mt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Er+")"+o(o("\\%25|\\%(?!"+H+"{2})")+"("+In+")")+"?\\]?$")}}var u=c(!1),d=c(!0),f=function(){function N(T,k){var H=[],B=!0,we=!1,Ee=void 0;try{for(var Ke=T[Symbol.iterator](),nt;!(B=(nt=Ke.next()).done)&&(H.push(nt.value),!(k&&H.length===k));B=!0);}catch(vt){we=!0,Ee=vt}finally{try{!B&&Ke.return&&Ke.return()}finally{if(we)throw Ee}}return H}return function(T,k){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return N(T,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(N){if(Array.isArray(N)){for(var T=0,k=Array(N.length);T<N.length;T++)k[T]=N[T];return k}else return Array.from(N)},y=2147483647,E=36,w=1,p=26,v=38,b=700,_=72,S=128,m="-",C=/^xn--/,O=/[^\0-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=E-w,F=Math.floor,J=String.fromCharCode;function te(N){throw new RangeError(V[N])}function ae(N,T){for(var k=[],H=N.length;H--;)k[H]=T(N[H]);return k}function ne(N,T){var k=N.split("@"),H="";k.length>1&&(H=k[0]+"@",N=k[1]),N=N.replace(L,".");var B=N.split("."),we=ae(B,T).join(".");return H+we}function pe(N){for(var T=[],k=0,H=N.length;k<H;){var B=N.charCodeAt(k++);if(B>=55296&&B<=56319&&k<H){var we=N.charCodeAt(k++);(we&64512)==56320?T.push(((B&1023)<<10)+(we&1023)+65536):(T.push(B),k--)}else T.push(B)}return T}var ue=function(T){return String.fromCodePoint.apply(String,h(T))},Ve=function(T){return T-48<10?T-22:T-65<26?T-65:T-97<26?T-97:E},re=function(T,k){return T+22+75*(T<26)-((k!=0)<<5)},x=function(T,k,H){var B=0;for(T=H?F(T/b):T>>1,T+=F(T/k);T>W*p>>1;B+=E)T=F(T/W);return F(B+(W+1)*T/(T+v))},Y=function(T){var k=[],H=T.length,B=0,we=S,Ee=_,Ke=T.lastIndexOf(m);Ke<0&&(Ke=0);for(var nt=0;nt<Ke;++nt)T.charCodeAt(nt)>=128&&te("not-basic"),k.push(T.charCodeAt(nt));for(var vt=Ke>0?Ke+1:0;vt<H;){for(var Fe=B,et=1,mt=E;;mt+=E){vt>=H&&te("invalid-input");var Ie=Ve(T.charCodeAt(vt++));(Ie>=E||Ie>F((y-B)/et))&&te("overflow"),B+=Ie*et;var ct=mt<=Ee?w:mt>=Ee+p?p:mt-Ee;if(Ie<ct)break;var bt=E-ct;et>F(y/bt)&&te("overflow"),et*=bt}var ut=k.length+1;Ee=x(B-Fe,ut,Fe==0),F(B/ut)>y-we&&te("overflow"),we+=F(B/ut),B%=ut,k.splice(B++,0,we)}return String.fromCodePoint.apply(String,k)},j=function(T){var k=[];T=pe(T);var H=T.length,B=S,we=0,Ee=_,Ke=!0,nt=!1,vt=void 0;try{for(var Fe=T[Symbol.iterator](),et;!(Ke=(et=Fe.next()).done);Ke=!0){var mt=et.value;mt<128&&k.push(J(mt))}}catch(So){nt=!0,vt=So}finally{try{!Ke&&Fe.return&&Fe.return()}finally{if(nt)throw vt}}var Ie=k.length,ct=Ie;for(Ie&&k.push(m);ct<H;){var bt=y,ut=!0,Gn=!1,mn=void 0;try{for(var gn=T[Symbol.iterator](),Jr;!(ut=(Jr=gn.next()).done);ut=!0){var wr=Jr.value;wr>=B&&wr<bt&&(bt=wr)}}catch(So){Gn=!0,mn=So}finally{try{!ut&&gn.return&&gn.return()}finally{if(Gn)throw mn}}var Qt=ct+1;bt-B>F((y-we)/Qt)&&te("overflow"),we+=(bt-B)*Qt,B=bt;var yn=!0,Er=!1,In=void 0;try{for(var Eo=T[Symbol.iterator](),sc;!(yn=(sc=Eo.next()).done);yn=!0){var ic=sc.value;if(ic<B&&++we>y&&te("overflow"),ic==B){for(var us=we,ds=E;;ds+=E){var fs=ds<=Ee?w:ds>=Ee+p?p:ds-Ee;if(us<fs)break;var ac=us-fs,lc=E-fs;k.push(J(re(fs+ac%lc,0))),us=F(ac/lc)}k.push(J(re(us,0))),Ee=x(we,Qt,ct==Ie),we=0,++ct}}}catch(So){Er=!0,In=So}finally{try{!yn&&Eo.return&&Eo.return()}finally{if(Er)throw In}}++we,++B}return k.join("")},P=function(T){return ne(T,function(k){return C.test(k)?Y(k.slice(4).toLowerCase()):k})},I=function(T){return ne(T,function(k){return O.test(k)?"xn--"+j(k):k})},K={version:"2.1.0",ucs2:{decode:pe,encode:ue},decode:Y,encode:j,toASCII:I,toUnicode:P},le={};function ce(N){var T=N.charCodeAt(0),k=void 0;return T<16?k="%0"+T.toString(16).toUpperCase():T<128?k="%"+T.toString(16).toUpperCase():T<2048?k="%"+(T>>6|192).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase():k="%"+(T>>12|224).toString(16).toUpperCase()+"%"+(T>>6&63|128).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase(),k}function Te(N){for(var T="",k=0,H=N.length;k<H;){var B=parseInt(N.substr(k+1,2),16);if(B<128)T+=String.fromCharCode(B),k+=3;else if(B>=194&&B<224){if(H-k>=6){var we=parseInt(N.substr(k+4,2),16);T+=String.fromCharCode((B&31)<<6|we&63)}else T+=N.substr(k,6);k+=6}else if(B>=224){if(H-k>=9){var Ee=parseInt(N.substr(k+4,2),16),Ke=parseInt(N.substr(k+7,2),16);T+=String.fromCharCode((B&15)<<12|(Ee&63)<<6|Ke&63)}else T+=N.substr(k,9);k+=9}else T+=N.substr(k,3),k+=3}return T}function Oe(N,T){function k(H){var B=Te(H);return B.match(T.UNRESERVED)?B:H}return N.scheme&&(N.scheme=String(N.scheme).replace(T.PCT_ENCODED,k).toLowerCase().replace(T.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(T.PCT_ENCODED,k).replace(T.NOT_USERINFO,ce).replace(T.PCT_ENCODED,i)),N.host!==void 0&&(N.host=String(N.host).replace(T.PCT_ENCODED,k).toLowerCase().replace(T.NOT_HOST,ce).replace(T.PCT_ENCODED,i)),N.path!==void 0&&(N.path=String(N.path).replace(T.PCT_ENCODED,k).replace(N.scheme?T.NOT_PATH:T.NOT_PATH_NOSCHEME,ce).replace(T.PCT_ENCODED,i)),N.query!==void 0&&(N.query=String(N.query).replace(T.PCT_ENCODED,k).replace(T.NOT_QUERY,ce).replace(T.PCT_ENCODED,i)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(T.PCT_ENCODED,k).replace(T.NOT_FRAGMENT,ce).replace(T.PCT_ENCODED,i)),N}function D(N){return N.replace(/^0*(.*)/,"$1")||"0"}function g(N,T){var k=N.match(T.IPV4ADDRESS)||[],H=f(k,2),B=H[1];return B?B.split(".").map(D).join("."):N}function $(N,T){var k=N.match(T.IPV6ADDRESS)||[],H=f(k,3),B=H[1],we=H[2];if(B){for(var Ee=B.toLowerCase().split("::").reverse(),Ke=f(Ee,2),nt=Ke[0],vt=Ke[1],Fe=vt?vt.split(":").map(D):[],et=nt.split(":").map(D),mt=T.IPV4ADDRESS.test(et[et.length-1]),Ie=mt?7:8,ct=et.length-Ie,bt=Array(Ie),ut=0;ut<Ie;++ut)bt[ut]=Fe[ut]||et[ct+ut]||"";mt&&(bt[Ie-1]=g(bt[Ie-1],T));var Gn=bt.reduce(function(Qt,yn,Er){if(!yn||yn==="0"){var In=Qt[Qt.length-1];In&&In.index+In.length===Er?In.length++:Qt.push({index:Er,length:1})}return Qt},[]),mn=Gn.sort(function(Qt,yn){return yn.length-Qt.length})[0],gn=void 0;if(mn&&mn.length>1){var Jr=bt.slice(0,mn.index),wr=bt.slice(mn.index+mn.length);gn=Jr.join(":")+"::"+wr.join(":")}else gn=bt.join(":");return we&&(gn+="%"+we),gn}else return N}var A=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R="".match(/(){0}/)[1]===void 0;function U(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k={},H=T.iri!==!1?d:u;T.reference==="suffix"&&(N=(T.scheme?T.scheme+":":"")+"//"+N);var B=N.match(A);if(B){R?(k.scheme=B[1],k.userinfo=B[3],k.host=B[4],k.port=parseInt(B[5],10),k.path=B[6]||"",k.query=B[7],k.fragment=B[8],isNaN(k.port)&&(k.port=B[5])):(k.scheme=B[1]||void 0,k.userinfo=N.indexOf("@")!==-1?B[3]:void 0,k.host=N.indexOf("//")!==-1?B[4]:void 0,k.port=parseInt(B[5],10),k.path=B[6]||"",k.query=N.indexOf("?")!==-1?B[7]:void 0,k.fragment=N.indexOf("#")!==-1?B[8]:void 0,isNaN(k.port)&&(k.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?B[4]:void 0)),k.host&&(k.host=$(g(k.host,H),H)),k.scheme===void 0&&k.userinfo===void 0&&k.host===void 0&&k.port===void 0&&!k.path&&k.query===void 0?k.reference="same-document":k.scheme===void 0?k.reference="relative":k.fragment===void 0?k.reference="absolute":k.reference="uri",T.reference&&T.reference!=="suffix"&&T.reference!==k.reference&&(k.error=k.error||"URI is not a "+T.reference+" reference.");var we=le[(T.scheme||k.scheme||"").toLowerCase()];if(!T.unicodeSupport&&(!we||!we.unicodeSupport)){if(k.host&&(T.domainHost||we&&we.domainHost))try{k.host=K.toASCII(k.host.replace(H.PCT_ENCODED,Te).toLowerCase())}catch(Ee){k.error=k.error||"Host's domain name can not be converted to ASCII via punycode: "+Ee}Oe(k,u)}else Oe(k,H);we&&we.parse&&we.parse(k,T)}else k.error=k.error||"URI can not be parsed.";return k}function Q(N,T){var k=T.iri!==!1?d:u,H=[];return N.userinfo!==void 0&&(H.push(N.userinfo),H.push("@")),N.host!==void 0&&H.push($(g(String(N.host),k),k).replace(k.IPV6ADDRESS,function(B,we,Ee){return"["+we+(Ee?"%25"+Ee:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(H.push(":"),H.push(String(N.port))),H.length?H.join(""):void 0}var oe=/^\.\.?\//,q=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,G=/^\/?(?:.|\n)*?(?=\/|$)/;function de(N){for(var T=[];N.length;)if(N.match(oe))N=N.replace(oe,"");else if(N.match(q))N=N.replace(q,"/");else if(N.match(ee))N=N.replace(ee,"/"),T.pop();else if(N==="."||N==="..")N="";else{var k=N.match(G);if(k){var H=k[0];N=N.slice(H.length),T.push(H)}else throw new Error("Unexpected dot segment condition")}return T.join("")}function ie(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=T.iri?d:u,H=[],B=le[(T.scheme||N.scheme||"").toLowerCase()];if(B&&B.serialize&&B.serialize(N,T),N.host&&!k.IPV6ADDRESS.test(N.host)){if(T.domainHost||B&&B.domainHost)try{N.host=T.iri?K.toUnicode(N.host):K.toASCII(N.host.replace(k.PCT_ENCODED,Te).toLowerCase())}catch(Ke){N.error=N.error||"Host's domain name can not be converted to "+(T.iri?"Unicode":"ASCII")+" via punycode: "+Ke}}Oe(N,k),T.reference!=="suffix"&&N.scheme&&(H.push(N.scheme),H.push(":"));var we=Q(N,T);if(we!==void 0&&(T.reference!=="suffix"&&H.push("//"),H.push(we),N.path&&N.path.charAt(0)!=="/"&&H.push("/")),N.path!==void 0){var Ee=N.path;!T.absolutePath&&(!B||!B.absolutePath)&&(Ee=de(Ee)),we===void 0&&(Ee=Ee.replace(/^\/\//,"/%2F")),H.push(Ee)}return N.query!==void 0&&(H.push("?"),H.push(N.query)),N.fragment!==void 0&&(H.push("#"),H.push(N.fragment)),H.join("")}function ge(N,T){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=arguments[3],B={};return H||(N=U(ie(N,k),k),T=U(ie(T,k),k)),k=k||{},!k.tolerant&&T.scheme?(B.scheme=T.scheme,B.userinfo=T.userinfo,B.host=T.host,B.port=T.port,B.path=de(T.path||""),B.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(B.userinfo=T.userinfo,B.host=T.host,B.port=T.port,B.path=de(T.path||""),B.query=T.query):(T.path?(T.path.charAt(0)==="/"?B.path=de(T.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?B.path="/"+T.path:N.path?B.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+T.path:B.path=T.path,B.path=de(B.path)),B.query=T.query):(B.path=N.path,T.query!==void 0?B.query=T.query:B.query=N.query),B.userinfo=N.userinfo,B.host=N.host,B.port=N.port),B.scheme=N.scheme),B.fragment=T.fragment,B}function Se(N,T,k){var H=l({scheme:"null"},k);return ie(ge(U(N,H),U(T,H),H,!0),H)}function Ce(N,T){return typeof N=="string"?N=ie(U(N,T),T):s(N)==="object"&&(N=U(ie(N,T),T)),N}function Be(N,T,k){return typeof N=="string"?N=ie(U(N,k),k):s(N)==="object"&&(N=ie(N,k)),typeof T=="string"?T=ie(U(T,k),k):s(T)==="object"&&(T=ie(T,k)),N===T}function Ue(N,T){return N&&N.toString().replace(!T||!T.iri?u.ESCAPE:d.ESCAPE,ce)}function ze(N,T){return N&&N.toString().replace(!T||!T.iri?u.PCT_ENCODED:d.PCT_ENCODED,Te)}var ft={scheme:"http",domainHost:!0,parse:function(T,k){return T.host||(T.error=T.error||"HTTP URIs must have a host."),T},serialize:function(T,k){var H=String(T.scheme).toLowerCase()==="https";return(T.port===(H?443:80)||T.port==="")&&(T.port=void 0),T.path||(T.path="/"),T}},an={scheme:"https",domainHost:ft.domainHost,parse:ft.parse,serialize:ft.serialize};function Wn(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var kt={scheme:"ws",domainHost:!0,parse:function(T,k){var H=T;return H.secure=Wn(H),H.resourceName=(H.path||"/")+(H.query?"?"+H.query:""),H.path=void 0,H.query=void 0,H},serialize:function(T,k){if((T.port===(Wn(T)?443:80)||T.port==="")&&(T.port=void 0),typeof T.secure=="boolean"&&(T.scheme=T.secure?"wss":"ws",T.secure=void 0),T.resourceName){var H=T.resourceName.split("?"),B=f(H,2),we=B[0],Ee=B[1];T.path=we&&we!=="/"?we:void 0,T.query=Ee,T.resourceName=void 0}return T.fragment=void 0,T}},Yn={scheme:"wss",domainHost:kt.domainHost,parse:kt.parse,serialize:kt.serialize},Z={},ye="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ve="[0-9A-Fa-f]",Ne=o(o("%[EFef]"+ve+"%"+ve+ve+"%"+ve+ve)+"|"+o("%[89A-Fa-f]"+ve+"%"+ve+ve)+"|"+o("%"+ve+ve)),wt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",_o="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",_r=r(_o,'[\\"\\\\]'),wo="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",up=new RegExp(ye,"g"),Gr=new RegExp(Ne,"g"),dp=new RegExp(r("[^]",wt,"[\\.]",'[\\"]',_r),"g"),tc=new RegExp(r("[^]",ye,wo),"g"),fp=tc;function Ai(N){var T=Te(N);return T.match(up)?T:N}var nc={scheme:"mailto",parse:function(T,k){var H=T,B=H.to=H.path?H.path.split(","):[];if(H.path=void 0,H.query){for(var we=!1,Ee={},Ke=H.query.split("&"),nt=0,vt=Ke.length;nt<vt;++nt){var Fe=Ke[nt].split("=");switch(Fe[0]){case"to":for(var et=Fe[1].split(","),mt=0,Ie=et.length;mt<Ie;++mt)B.push(et[mt]);break;case"subject":H.subject=ze(Fe[1],k);break;case"body":H.body=ze(Fe[1],k);break;default:we=!0,Ee[ze(Fe[0],k)]=ze(Fe[1],k);break}}we&&(H.headers=Ee)}H.query=void 0;for(var ct=0,bt=B.length;ct<bt;++ct){var ut=B[ct].split("@");if(ut[0]=ze(ut[0]),k.unicodeSupport)ut[1]=ze(ut[1],k).toLowerCase();else try{ut[1]=K.toASCII(ze(ut[1],k).toLowerCase())}catch(Gn){H.error=H.error||"Email address's domain name can not be converted to ASCII via punycode: "+Gn}B[ct]=ut.join("@")}return H},serialize:function(T,k){var H=T,B=a(T.to);if(B){for(var we=0,Ee=B.length;we<Ee;++we){var Ke=String(B[we]),nt=Ke.lastIndexOf("@"),vt=Ke.slice(0,nt).replace(Gr,Ai).replace(Gr,i).replace(dp,ce),Fe=Ke.slice(nt+1);try{Fe=k.iri?K.toUnicode(Fe):K.toASCII(ze(Fe,k).toLowerCase())}catch(ct){H.error=H.error||"Email address's domain name can not be converted to "+(k.iri?"Unicode":"ASCII")+" via punycode: "+ct}B[we]=vt+"@"+Fe}H.path=B.join(",")}var et=T.headers=T.headers||{};T.subject&&(et.subject=T.subject),T.body&&(et.body=T.body);var mt=[];for(var Ie in et)et[Ie]!==Z[Ie]&&mt.push(Ie.replace(Gr,Ai).replace(Gr,i).replace(tc,ce)+"="+et[Ie].replace(Gr,Ai).replace(Gr,i).replace(fp,ce));return mt.length&&(H.query=mt.join("&")),H}},hp=/^([^\:]+)\:(.*)/,rc={scheme:"urn",parse:function(T,k){var H=T.path&&T.path.match(hp),B=T;if(H){var we=k.scheme||B.scheme||"urn",Ee=H[1].toLowerCase(),Ke=H[2],nt=we+":"+(k.nid||Ee),vt=le[nt];B.nid=Ee,B.nss=Ke,B.path=void 0,vt&&(B=vt.parse(B,k))}else B.error=B.error||"URN can not be parsed.";return B},serialize:function(T,k){var H=k.scheme||T.scheme||"urn",B=T.nid,we=H+":"+(k.nid||B),Ee=le[we];Ee&&(T=Ee.serialize(T,k));var Ke=T,nt=T.nss;return Ke.path=(B||k.nid)+":"+nt,Ke}},pp=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oc={scheme:"urn:uuid",parse:function(T,k){var H=T;return H.uuid=H.nss,H.nss=void 0,!k.tolerant&&(!H.uuid||!H.uuid.match(pp))&&(H.error=H.error||"UUID is not valid."),H},serialize:function(T,k){var H=T;return H.nss=(T.uuid||"").toLowerCase(),H}};le[ft.scheme]=ft,le[an.scheme]=an,le[kt.scheme]=kt,le[Yn.scheme]=Yn,le[nc.scheme]=nc,le[rc.scheme]=rc,le[oc.scheme]=oc,n.SCHEMES=le,n.pctEncChar=ce,n.pctDecChars=Te,n.parse=U,n.removeDotSegments=de,n.serialize=ie,n.resolveComponents=ge,n.resolve=Se,n.normalize=Ce,n.equal=Be,n.escapeComponent=Ue,n.unescapeComponent=ze,Object.defineProperty(n,"__esModule",{value:!0})})})(ba,ba.exports);var Oy=ba.exports;Object.defineProperty(dl,"__esModule",{value:!0});const Rf=Oy;Rf.code='require("ajv/dist/runtime/uri").default';dl.default=Rf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ll();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=qe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=cl(),o=br,s=Fr,i=Nt,a=qe,l=Tt,c=Hs,u=Pt,d=Cy,f=dl,h=(re,x)=>new RegExp(re,x);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),w={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function b(re){var x,Y,j,P,I,K,le,ce,Te,Oe,D,g,$,A,R,U,Q,oe,q,ee,G,de,ie,ge,Se;const Ce=re.strict,Be=(x=re.code)===null||x===void 0?void 0:x.optimize,Ue=Be===!0||Be===void 0?1:Be||0,ze=(j=(Y=re.code)===null||Y===void 0?void 0:Y.regExp)!==null&&j!==void 0?j:h,ft=(P=re.uriResolver)!==null&&P!==void 0?P:f.default;return{strictSchema:(K=(I=re.strictSchema)!==null&&I!==void 0?I:Ce)!==null&&K!==void 0?K:!0,strictNumbers:(ce=(le=re.strictNumbers)!==null&&le!==void 0?le:Ce)!==null&&ce!==void 0?ce:!0,strictTypes:(Oe=(Te=re.strictTypes)!==null&&Te!==void 0?Te:Ce)!==null&&Oe!==void 0?Oe:"log",strictTuples:(g=(D=re.strictTuples)!==null&&D!==void 0?D:Ce)!==null&&g!==void 0?g:"log",strictRequired:(A=($=re.strictRequired)!==null&&$!==void 0?$:Ce)!==null&&A!==void 0?A:!1,code:re.code?{...re.code,optimize:Ue,regExp:ze}:{optimize:Ue,regExp:ze},loopRequired:(R=re.loopRequired)!==null&&R!==void 0?R:v,loopEnum:(U=re.loopEnum)!==null&&U!==void 0?U:v,meta:(Q=re.meta)!==null&&Q!==void 0?Q:!0,messages:(oe=re.messages)!==null&&oe!==void 0?oe:!0,inlineRefs:(q=re.inlineRefs)!==null&&q!==void 0?q:!0,schemaId:(ee=re.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(G=re.addUsedSchema)!==null&&G!==void 0?G:!0,validateSchema:(de=re.validateSchema)!==null&&de!==void 0?de:!0,validateFormats:(ie=re.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(ge=re.unicodeRegExp)!==null&&ge!==void 0?ge:!0,int32range:(Se=re.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:ft}}class _{constructor(x={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,x=this.opts={...x,...b(x)};const{es5:Y,lines:j}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:E,es5:Y,lines:j}),this.logger=F(x.logger);const P=x.validateFormats;x.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,w,x,"NOT SUPPORTED"),S.call(this,p,x,"DEPRECATED","warn"),this._metaOpts=V.call(this),x.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),x.keywords&&L.call(this,x.keywords),typeof x.meta=="object"&&this.addMetaSchema(x.meta),C.call(this),x.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:x,meta:Y,schemaId:j}=this.opts;let P=d;j==="id"&&(P={...d},P.id=P.$id,delete P.$id),Y&&x&&this.addMetaSchema(P,P[j],!1)}defaultMeta(){const{meta:x,schemaId:Y}=this.opts;return this.opts.defaultMeta=typeof x=="object"?x[Y]||x:void 0}validate(x,Y){let j;if(typeof x=="string"){if(j=this.getSchema(x),!j)throw new Error(`no schema with key or ref "${x}"`)}else j=this.compile(x);const P=j(Y);return"$async"in j||(this.errors=j.errors),P}compile(x,Y){const j=this._addSchema(x,Y);return j.validate||this._compileSchemaEnv(j)}compileAsync(x,Y){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return P.call(this,x,Y);async function P(Oe,D){await I.call(this,Oe.$schema);const g=this._addSchema(Oe,D);return g.validate||K.call(this,g)}async function I(Oe){Oe&&!this.getSchema(Oe)&&await P.call(this,{$ref:Oe},!0)}async function K(Oe){try{return this._compileSchemaEnv(Oe)}catch(D){if(!(D instanceof o.default))throw D;return le.call(this,D),await ce.call(this,D.missingSchema),K.call(this,Oe)}}function le({missingSchema:Oe,missingRef:D}){if(this.refs[Oe])throw new Error(`AnySchema ${Oe} is loaded but ${D} cannot be resolved`)}async function ce(Oe){const D=await Te.call(this,Oe);this.refs[Oe]||await I.call(this,D.$schema),this.refs[Oe]||this.addSchema(D,Oe,Y)}async function Te(Oe){const D=this._loading[Oe];if(D)return D;try{return await(this._loading[Oe]=j(Oe))}finally{delete this._loading[Oe]}}}addSchema(x,Y,j,P=this.opts.validateSchema){if(Array.isArray(x)){for(const K of x)this.addSchema(K,void 0,j,P);return this}let I;if(typeof x=="object"){const{schemaId:K}=this.opts;if(I=x[K],I!==void 0&&typeof I!="string")throw new Error(`schema ${K} must be string`)}return Y=(0,l.normalizeId)(Y||I),this._checkUnique(Y),this.schemas[Y]=this._addSchema(x,j,Y,P,!0),this}addMetaSchema(x,Y,j=this.opts.validateSchema){return this.addSchema(x,Y,!0,j),this}validateSchema(x,Y){if(typeof x=="boolean")return!0;let j;if(j=x.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(j,x);if(!P&&Y){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return P}getSchema(x){let Y;for(;typeof(Y=m.call(this,x))=="string";)x=Y;if(Y===void 0){const{schemaId:j}=this.opts,P=new i.SchemaEnv({schema:{},schemaId:j});if(Y=i.resolveSchema.call(this,P,x),!Y)return;this.refs[x]=Y}return Y.validate||this._compileSchemaEnv(Y)}removeSchema(x){if(x instanceof RegExp)return this._removeAllSchemas(this.schemas,x),this._removeAllSchemas(this.refs,x),this;switch(typeof x){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const Y=m.call(this,x);return typeof Y=="object"&&this._cache.delete(Y.schema),delete this.schemas[x],delete this.refs[x],this}case"object":{const Y=x;this._cache.delete(Y);let j=x[this.opts.schemaId];return j&&(j=(0,l.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(x){for(const Y of x)this.addKeyword(Y);return this}addKeyword(x,Y){let j;if(typeof x=="string")j=x,typeof Y=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),Y.keyword=j);else if(typeof x=="object"&&Y===void 0){if(Y=x,j=Y.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(te.call(this,j,Y),!Y)return(0,u.eachItem)(j,I=>ae.call(this,I)),this;pe.call(this,Y);const P={...Y,type:(0,c.getJSONTypes)(Y.type),schemaType:(0,c.getJSONTypes)(Y.schemaType)};return(0,u.eachItem)(j,P.type.length===0?I=>ae.call(this,I,P):I=>P.type.forEach(K=>ae.call(this,I,P,K))),this}getKeyword(x){const Y=this.RULES.all[x];return typeof Y=="object"?Y.definition:!!Y}removeKeyword(x){const{RULES:Y}=this;delete Y.keywords[x],delete Y.all[x];for(const j of Y.rules){const P=j.rules.findIndex(I=>I.keyword===x);P>=0&&j.rules.splice(P,1)}return this}addFormat(x,Y){return typeof Y=="string"&&(Y=new RegExp(Y)),this.formats[x]=Y,this}errorsText(x=this.errors,{separator:Y=", ",dataVar:j="data"}={}){return!x||x.length===0?"No errors":x.map(P=>`${j}${P.instancePath} ${P.message}`).reduce((P,I)=>P+Y+I)}$dataMetaSchema(x,Y){const j=this.RULES.all;x=JSON.parse(JSON.stringify(x));for(const P of Y){const I=P.split("/").slice(1);let K=x;for(const le of I)K=K[le];for(const le in j){const ce=j[le];if(typeof ce!="object")continue;const{$data:Te}=ce.definition,Oe=K[le];Te&&Oe&&(K[le]=Ve(Oe))}}return x}_removeAllSchemas(x,Y){for(const j in x){const P=x[j];(!Y||Y.test(j))&&(typeof P=="string"?delete x[j]:P&&!P.meta&&(this._cache.delete(P.schema),delete x[j]))}}_addSchema(x,Y,j,P=this.opts.validateSchema,I=this.opts.addUsedSchema){let K;const{schemaId:le}=this.opts;if(typeof x=="object")K=x[le];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof x!="boolean")throw new Error("schema must be object or boolean")}let ce=this._cache.get(x);if(ce!==void 0)return ce;j=(0,l.normalizeId)(K||j);const Te=l.getSchemaRefs.call(this,x,j);return ce=new i.SchemaEnv({schema:x,schemaId:le,meta:Y,baseId:j,localRefs:Te}),this._cache.set(ce.schema,ce),I&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=ce),P&&this.validateSchema(x,!0),ce}_checkUnique(x){if(this.schemas[x]||this.refs[x])throw new Error(`schema with key or id "${x}" already exists`)}_compileSchemaEnv(x){if(x.meta?this._compileMetaSchema(x):i.compileSchema.call(this,x),!x.validate)throw new Error("ajv implementation error");return x.validate}_compileMetaSchema(x){const Y=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,x)}finally{this.opts=Y}}}e.default=_,_.ValidationError=r.default,_.MissingRefError=o.default;function S(re,x,Y,j="error"){for(const P in re){const I=P;I in x&&this.logger[j](`${Y}: option ${P}. ${re[I]}`)}}function m(re){return re=(0,l.normalizeId)(re),this.schemas[re]||this.refs[re]}function C(){const re=this.opts.schemas;if(re)if(Array.isArray(re))this.addSchema(re);else for(const x in re)this.addSchema(re[x],x)}function O(){for(const re in this.opts.formats){const x=this.opts.formats[re];x&&this.addFormat(re,x)}}function L(re){if(Array.isArray(re)){this.addVocabulary(re);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const x in re){const Y=re[x];Y.keyword||(Y.keyword=x),this.addKeyword(Y)}}function V(){const re={...this.opts};for(const x of y)delete re[x];return re}const W={log(){},warn(){},error(){}};function F(re){if(re===!1)return W;if(re===void 0)return console;if(re.log&&re.warn&&re.error)return re;throw new Error("logger must implement log, warn and error methods")}const J=/^[a-z_$][a-z0-9_$:-]*$/i;function te(re,x){const{RULES:Y}=this;if((0,u.eachItem)(re,j=>{if(Y.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!J.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!x&&x.$data&&!("code"in x||"validate"in x))throw new Error('$data keyword must have "code" or "validate" function')}function ae(re,x,Y){var j;const P=x==null?void 0:x.post;if(Y&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let K=P?I.post:I.rules.find(({type:ce})=>ce===Y);if(K||(K={type:Y,rules:[]},I.rules.push(K)),I.keywords[re]=!0,!x)return;const le={keyword:re,definition:{...x,type:(0,c.getJSONTypes)(x.type),schemaType:(0,c.getJSONTypes)(x.schemaType)}};x.before?ne.call(this,K,le,x.before):K.rules.push(le),I.all[re]=le,(j=x.implements)===null||j===void 0||j.forEach(ce=>this.addKeyword(ce))}function ne(re,x,Y){const j=re.rules.findIndex(P=>P.keyword===Y);j>=0?re.rules.splice(j,0,x):(re.rules.push(x),this.logger.warn(`rule ${Y} is not defined`))}function pe(re){let{metaSchema:x}=re;x!==void 0&&(re.$data&&this.opts.$data&&(x=Ve(x)),re.validateSchema=this.compile(x,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ve(re){return{anyOf:[re,ue]}}})(Cf);var fl={},Kr={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.callRef=jr.getValidate=void 0;const Iy=br,tu=He,Ft=qe,eo=rn,nu=Nt,_s=Pt,Ny={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:o,schemaEnv:s,validateName:i,opts:a,self:l}=r,{root:c}=s;if((n==="#"||n==="#/")&&o===c.baseId)return d();const u=nu.resolveRef.call(l,c,o,n);if(u===void 0)throw new Iy.default(r.opts.uriResolver,o,n);if(u instanceof nu.SchemaEnv)return f(u);return h(u);function d(){if(s===c)return ks(e,i,s,s.$async);const y=t.scopeValue("root",{ref:c});return ks(e,(0,Ft._)`${y}.validate`,c,c.$async)}function f(y){const E=Ff(e,y);ks(e,E,y,y.$async)}function h(y){const E=t.scopeValue("schema",a.code.source===!0?{ref:y,code:(0,Ft.stringify)(y)}:{ref:y}),w=t.name("valid"),p=e.subschema({schema:y,dataTypes:[],schemaPath:Ft.nil,topSchemaRef:E,errSchemaPath:n},w);e.mergeEvaluated(p),e.ok(w)}}};function Ff(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Ft._)`${n.scopeValue("wrapper",{ref:t})}.validate`}jr.getValidate=Ff;function ks(e,t,n,r){const{gen:o,it:s}=e,{allErrors:i,schemaEnv:a,opts:l}=s,c=l.passContext?eo.default.this:Ft.nil;r?u():d();function u(){if(!a.$async)throw new Error("async schema referenced by sync schema");const y=o.let("valid");o.try(()=>{o.code((0,Ft._)`await ${(0,tu.callValidateCode)(e,t,c)}`),h(t),i||o.assign(y,!0)},E=>{o.if((0,Ft._)`!(${E} instanceof ${s.ValidationError})`,()=>o.throw(E)),f(E),i||o.assign(y,!1)}),e.ok(y)}function d(){e.result((0,tu.callValidateCode)(e,t,c),()=>h(t),()=>f(t))}function f(y){const E=(0,Ft._)`${y}.errors`;o.assign(eo.default.vErrors,(0,Ft._)`${eo.default.vErrors} === null ? ${E} : ${eo.default.vErrors}.concat(${E})`),o.assign(eo.default.errors,(0,Ft._)`${eo.default.vErrors}.length`)}function h(y){var E;if(!s.opts.unevaluated)return;const w=(E=n==null?void 0:n.validate)===null||E===void 0?void 0:E.evaluated;if(s.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(s.props=_s.mergeEvaluated.props(o,w.props,s.props));else{const p=o.var("props",(0,Ft._)`${y}.evaluated.props`);s.props=_s.mergeEvaluated.props(o,p,s.props,Ft.Name)}if(s.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(s.items=_s.mergeEvaluated.items(o,w.items,s.items));else{const p=o.var("items",(0,Ft._)`${y}.evaluated.items`);s.items=_s.mergeEvaluated.items(o,p,s.items,Ft.Name)}}}jr.callRef=ks;jr.default=Ny;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.checkMetadata=void 0;const My=Pt,Ay={keyword:"metadata",schemaType:"object",code(e){jf(e);const{gen:t,schema:n,it:r}=e;if((0,My.alwaysValidSchema)(r,n))return;const o=t.name("valid");e.subschema({keyword:"metadata",jtdMetadata:!0},o),e.ok(o)}};function jf({it:e,keyword:t},n){if(e.jtdMetadata!==n)throw new Error(`JTD: "${t}" cannot be used in this schema location`)}on.checkMetadata=jf;on.default=Ay;Object.defineProperty(Kr,"__esModule",{value:!0});Kr.hasRef=void 0;const ru=Nt,Oo=qe,ky=br,ou=rn,su=jr,Dy=on,xy={keyword:"ref",schemaType:"string",code(e){(0,Dy.checkMetadata)(e);const{gen:t,data:n,schema:r,parentSchema:o,it:s}=e,{schemaEnv:{root:i}}=s,a=t.name("valid");o.nullable?(t.var(a,(0,Oo._)`${n} === null`),t.if((0,Oo.not)(a),l)):(t.var(a,!1),l()),e.ok(a);function l(){var d;const f=(d=i.schema.definitions)===null||d===void 0?void 0:d[r];if(!f)throw new ky.default(s.opts.uriResolver,"",r,`No definition ${r}`);hl(f)||!s.opts.inlineRefs?c(f):u(f)}function c(d){const f=ru.compileSchema.call(s.self,new ru.SchemaEnv({schema:d,root:i,schemaPath:`/definitions/${r}`})),h=(0,su.getValidate)(e,f),y=t.const("_errs",ou.default.errors);(0,su.callRef)(e,h,f,f.$async),t.assign(a,(0,Oo._)`${y} === ${ou.default.errors}`)}function u(d){const f=t.scopeValue("schema",s.opts.code.source===!0?{ref:d,code:(0,Oo.stringify)(d)}:{ref:d});e.subschema({schema:d,dataTypes:[],schemaPath:Oo.nil,topSchemaRef:f,errSchemaPath:`/definitions/${r}`},a)}}};function hl(e){for(const t in e){let n;if(t==="ref"||typeof(n=e[t])=="object"&&hl(n))return!0}return!1}Kr.hasRef=hl;Kr.default=xy;var pl={},gi={};Object.defineProperty(gi,"__esModule",{value:!0});const Ly=/t|\s/i,Ry=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Fy=/^(\d\d):(\d\d):(\d\d)(?:\.\d+)?(?:z|([+-]\d\d)(?::?(\d\d))?)$/i,jy=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Vf(e,t){const n=e.split(Ly);return n.length===2&&iu(n[0])&&Vy(n[1])||t&&n.length===1&&iu(n[0])}gi.default=Vf;function iu(e){const t=Ry.exec(e);if(!t)return!1;const n=+t[1],r=+t[2],o=+t[3];return r>=1&&r<=12&&o>=1&&(o<=jy[r]||r===2&&o===29&&(n%100===0?n%400===0:n%4===0))}function Vy(e){const t=Fy.exec(e);if(!t)return!1;const n=+t[1],r=+t[2],o=+t[3],s=+(t[4]||0),i=+(t[5]||0);return n<=23&&r<=59&&o<=59||n-s===23&&r-i===59&&o===60}Vf.code='require("ajv/dist/runtime/timestamp").default';var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.typeErrorParams=nn.typeErrorMessage=nn.typeError=void 0;const Uy=qe;function zy(e){return{message:t=>Uf(t,e),params:t=>zf(t,e)}}nn.typeError=zy;function Uf({parentSchema:e},t){return e!=null&&e.nullable?`must be ${t} or null`:`must be ${t}`}nn.typeErrorMessage=Uf;function zf({parentSchema:e},t){return(0,Uy._)`{type: ${t}, nullable: ${!!(e!=null&&e.nullable)}}`}nn.typeErrorParams=zf;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intRange=void 0;const t=qe,n=gi,r=Pt,o=on,s=nn;e.intRange={int8:[-128,127,3],uint8:[0,255,3],int16:[-32768,32767,5],uint16:[0,65535,5],int32:[-2147483648,2147483647,10],uint32:[0,4294967295,10]};const i={message:c=>(0,s.typeErrorMessage)(c,c.schema),params:c=>(0,s.typeErrorParams)(c,c.schema)};function a(c){const{gen:u,data:d,it:f}=c,{timestamp:h,allowDate:y}=f.opts;if(h==="date")return(0,t._)`${d} instanceof Date `;const E=(0,r.useFunc)(u,n.default),w=y?(0,t._)`, true`:t.nil,p=(0,t._)`typeof ${d} == "string" && ${E}(${d}${w})`;return h==="string"?p:(0,t.or)((0,t._)`${d} instanceof Date`,p)}const l={keyword:"type",schemaType:"string",error:i,code(c){(0,o.checkMetadata)(c);const{data:u,schema:d,parentSchema:f,it:h}=c;let y;switch(d){case"boolean":case"string":y=(0,t._)`typeof ${u} == ${d}`;break;case"timestamp":{y=a(c);break}case"float32":case"float64":y=(0,t._)`typeof ${u} == "number"`;break;default:{const E=d;if(y=(0,t._)`typeof ${u} == "number" && isFinite(${u}) && !(${u} % 1)`,!h.opts.int32range&&(E==="int32"||E==="uint32"))E==="uint32"&&(y=(0,t._)`${y} && ${u} >= 0`);else{const[w,p]=e.intRange[E];y=(0,t._)`${y} && ${u} >= ${w} && ${u} <= ${p}`}}}c.pass(f.nullable?(0,t.or)((0,t._)`${u} === null`,y):y)}};e.default=l})(pl);var vl={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.checkNullableObject=Pn.checkNullable=void 0;const Ds=qe;function Bf({gen:e,data:t,parentSchema:n},r=Ds.nil){const o=e.name("valid");return n.nullable?(e.let(o,(0,Ds._)`${t} === null`),r=(0,Ds.not)(o)):e.let(o,!1),[o,r]}Pn.checkNullable=Bf;function By(e,t){const[n,r]=Bf(e,t);return[n,(0,Ds._)`${r} && typeof ${e.data} == "object" && !Array.isArray(${e.data})`]}Pn.checkNullableObject=By;Object.defineProperty(vl,"__esModule",{value:!0});const nr=qe,Ky=on,Hy=Pn,Zy={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,nr._)`{allowedValues: ${e}}`},Wy={keyword:"enum",schemaType:"array",error:Zy,code(e){(0,Ky.checkMetadata)(e);const{gen:t,data:n,schema:r,schemaValue:o,parentSchema:s,it:i}=e;if(r.length===0)throw new Error("enum must have non-empty array");if(r.length!==new Set(r).size)throw new Error("enum items must be unique");let a;const l=(0,nr._)`typeof ${n} == "string"`;if(r.length>=i.opts.loopEnum){let u;[a,u]=(0,Hy.checkNullable)(e,l),t.if(u,c)}else{if(!Array.isArray(r))throw new Error("ajv implementation error");a=(0,nr.and)(l,(0,nr.or)(...r.map(u=>(0,nr._)`${n} === ${u}`))),s.nullable&&(a=(0,nr.or)((0,nr._)`${n} === null`,a))}e.pass(a);function c(){t.forOf("v",o,u=>t.if((0,nr._)`${a} = ${n} === ${u}`,()=>t.break()))}}};vl.default=Wy;var ml={};Object.defineProperty(ml,"__esModule",{value:!0});const Yy=Pt,Gy=He,au=qe,Jy=on,Xy=Pn,Qy=nn,qy={keyword:"elements",schemaType:"object",error:(0,Qy.typeError)("array"),code(e){(0,Jy.checkMetadata)(e);const{gen:t,data:n,schema:r,it:o}=e;if((0,Yy.alwaysValidSchema)(o,r))return;const[s]=(0,Xy.checkNullable)(e);t.if((0,au.not)(s),()=>t.if((0,au._)`Array.isArray(${n})`,()=>t.assign(s,(0,Gy.validateArray)(e)),()=>e.error())),e.ok(s)}};ml.default=qy;var gl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperties=e.error=void 0;const t=He,n=Pt,r=qe,o=on,s=Pn,i=nn;var a;(function(u){u.Additional="additional",u.Missing="missing"})(a||(a={})),e.error={message:u=>{const{params:d}=u;return d.propError?d.propError===a.Additional?"must NOT have additional properties":`must have property '${d.missingProperty}'`:(0,i.typeErrorMessage)(u,"object")},params:u=>{const{params:d}=u;return d.propError?d.propError===a.Additional?(0,r._)`{error: ${d.propError}, additionalProperty: ${d.additionalProperty}}`:(0,r._)`{error: ${d.propError}, missingProperty: ${d.missingProperty}}`:(0,i.typeErrorParams)(u,"object")}};const l={keyword:"properties",schemaType:"object",error:e.error,code:c};function c(u){(0,o.checkMetadata)(u);const{gen:d,data:f,parentSchema:h,it:y}=u,{additionalProperties:E,nullable:w}=h;if(y.jtdDiscriminator&&w)throw new Error("JTD: nullable inside discriminator mapping");if(C())throw new Error("JTD: properties and optionalProperties have common members");const[p,v]=O("properties"),[b,_]=O("optionalProperties");if(v.length===0&&_.length===0&&E)return;const[S,m]=y.jtdDiscriminator===void 0?(0,s.checkNullableObject)(u,f):[d.let("valid",!1),!0];d.if(m,()=>d.assign(S,!0).block(()=>{L(v,"properties",!0),L(_,"optionalProperties"),E||W()})),u.pass(S);function C(){const J=h.properties,te=h.optionalProperties;if(!(J&&te))return!1;for(const ae in J)if(Object.prototype.hasOwnProperty.call(te,ae))return!0;return!1}function O(J){const te=h[J],ae=te?(0,t.allSchemaProperties)(te):[];if(y.jtdDiscriminator&&ae.some(pe=>pe===y.jtdDiscriminator))throw new Error(`JTD: discriminator tag used in ${J}`);const ne=ae.filter(pe=>!(0,n.alwaysValidSchema)(y,te[pe]));return[ae,ne]}function L(J,te,ae){const ne=d.var("valid");for(const ue of J)d.if((0,t.propertyInData)(d,f,ue,y.opts.ownProperties),()=>V(ue,te,ne),()=>pe(ue)),u.ok(ne);function pe(ue){ae?(d.assign(ne,!1),u.error(!1,{propError:a.Missing,missingProperty:ue},{schemaPath:ue})):d.assign(ne,!0)}}function V(J,te,ae){u.subschema({keyword:te,schemaProp:J,dataProp:J},ae)}function W(){d.forIn("key",f,J=>{const te=F(J,p,"properties",y.jtdDiscriminator),ae=F(J,b,"optionalProperties"),ne=te===!0?ae:ae===!0?te:(0,r.and)(te,ae);d.if(ne,()=>{y.opts.removeAdditional?d.code((0,r._)`delete ${f}[${J}]`):(u.error(!1,{propError:a.Additional,additionalProperty:J},{instancePath:J,parentSchema:!0}),y.opts.allErrors||d.break())})})}function F(J,te,ae,ne){let pe;if(te.length>8){const ue=(0,n.schemaRefOrVal)(y,h[ae],ae);pe=(0,r.not)((0,t.isOwnProperty)(d,ue,J)),ne!==void 0&&(pe=(0,r.and)(pe,(0,r._)`${J} !== ${ne}`))}else if(te.length||ne!==void 0){const ue=ne===void 0?te:[ne].concat(te);pe=(0,r.and)(...ue.map(Ve=>(0,r._)`${J} !== ${Ve}`))}else pe=!0;return pe}}e.validateProperties=c,e.default=l})(gl);var yl={};Object.defineProperty(yl,"__esModule",{value:!0});const lu=gl,e0={keyword:"optionalProperties",schemaType:"object",error:lu.error,code(e){e.parentSchema.properties||(0,lu.validateProperties)(e)}};yl.default=e0;var bl={},Kf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Kf);Object.defineProperty(bl,"__esModule",{value:!0});const Or=qe,t0=on,n0=Pn,cu=nn,xs=Kf,r0={message:e=>{const{schema:t,params:n}=e;return n.discrError?n.discrError===xs.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in mapping`:(0,cu.typeErrorMessage)(e,"object")},params:e=>{const{schema:t,params:n}=e;return n.discrError?(0,Or._)`{error: ${n.discrError}, tag: ${t}, tagValue: ${n.tag}}`:(0,cu.typeErrorParams)(e,"object")}},o0={keyword:"discriminator",schemaType:"string",implements:["mapping"],error:r0,code(e){(0,t0.checkMetadata)(e);const{gen:t,data:n,schema:r,parentSchema:o}=e,[s,i]=(0,n0.checkNullableObject)(e,n);t.if(i),a(),t.elseIf((0,Or.not)(s)),e.error(),t.endIf(),e.ok(s);function a(){const u=t.const("tag",(0,Or._)`${n}${(0,Or.getProperty)(r)}`);t.if((0,Or._)`${u} === undefined`),e.error(!1,{discrError:xs.DiscrError.Tag,tag:u}),t.elseIf((0,Or._)`typeof ${u} == "string"`),l(u),t.else(),e.error(!1,{discrError:xs.DiscrError.Tag,tag:u},{instancePath:r}),t.endIf()}function l(u){t.if(!1);for(const d in o.mapping)t.elseIf((0,Or._)`${u} === ${d}`),t.assign(s,c(d));t.else(),e.error(!1,{discrError:xs.DiscrError.Mapping,tag:u},{instancePath:r,schemaPath:"mapping",parentSchema:!0}),t.endIf()}function c(u){const d=t.name("valid");return e.subschema({keyword:"mapping",schemaProp:u,jtdDiscriminator:r},d),d}}};bl.default=o0;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});const uu=Pt,ws=qe,s0=on,i0=Pn,a0=nn,l0={keyword:"values",schemaType:"object",error:(0,a0.typeError)("object"),code(e){(0,s0.checkMetadata)(e);const{gen:t,data:n,schema:r,it:o}=e,[s,i]=(0,i0.checkNullableObject)(e,n);(0,uu.alwaysValidSchema)(o,r)?t.if((0,ws.not)((0,ws.or)(i,s)),()=>e.error()):(t.if(i),t.assign(s,a()),t.elseIf((0,ws.not)(s)),e.error(),t.endIf()),e.ok(s);function a(){const l=t.name("valid");if(o.allErrors){const u=t.let("valid",!0);return c(()=>t.assign(u,!1)),u}return t.var(l,!0),c(()=>t.break()),l;function c(u){t.forIn("key",n,d=>{e.subschema({keyword:"values",dataProp:d,dataPropType:uu.Type.Str},l),t.if((0,ws.not)(l),u)})}}}};_l.default=l0;var wl={};Object.defineProperty(wl,"__esModule",{value:!0});const c0=He,u0={keyword:"union",schemaType:"array",trackErrors:!0,code:c0.validateUnion,error:{message:"must match a schema in union"}};wl.default=u0;Object.defineProperty(fl,"__esModule",{value:!0});const d0=Kr,f0=pl,h0=vl,p0=ml,v0=gl,m0=yl,g0=bl,y0=_l,b0=wl,_0=on,w0=["definitions",d0.default,f0.default,h0.default,p0.default,v0.default,m0.default,g0.default,y0.default,b0.default,_0.default,{keyword:"additionalProperties",schemaType:"boolean"},{keyword:"nullable",schemaType:"boolean"}];fl.default=w0;var El={};Object.defineProperty(El,"__esModule",{value:!0});const Hn=e=>{const t={nullable:{type:"boolean"},metadata:{optionalProperties:{union:{elements:{ref:"schema"}}},additionalProperties:!0}};return e&&(t.definitions={values:{ref:"schema"}}),t},E0=e=>({optionalProperties:Hn(e)}),S0=e=>({properties:{ref:{type:"string"}},optionalProperties:Hn(e)}),P0=e=>({properties:{type:{enum:["boolean","timestamp","string","float32","float64","int8","uint8","int16","uint16","int32","uint32"]}},optionalProperties:Hn(e)}),$0=e=>({properties:{enum:{elements:{type:"string"}}},optionalProperties:Hn(e)}),T0=e=>({properties:{elements:{ref:"schema"}},optionalProperties:Hn(e)}),Hf=e=>({properties:{properties:{values:{ref:"schema"}}},optionalProperties:{optionalProperties:{values:{ref:"schema"}},additionalProperties:{type:"boolean"},...Hn(e)}}),Zf=e=>({properties:{optionalProperties:{values:{ref:"schema"}}},optionalProperties:{additionalProperties:{type:"boolean"},...Hn(e)}}),C0=e=>({properties:{discriminator:{type:"string"},mapping:{values:{metadata:{union:[Hf(!1),Zf(!1)]}}}},optionalProperties:Hn(e)}),O0=e=>({properties:{values:{ref:"schema"}},optionalProperties:Hn(e)}),du=e=>({metadata:{union:[E0,S0,P0,$0,T0,Hf,Zf,C0,O0].map(t=>t(e))}}),I0={definitions:{schema:du(!1)},...du(!0)};El.default=I0;var Sl={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.jtdForms=void 0;ss.jtdForms=["elements","values","discriminator","properties","optionalProperties","enum","type","ref"];var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});const Ui=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,N0={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function Wf(e){return Ui.lastIndex=0,'"'+(Ui.test(e)?e.replace(Ui,t=>{const n=N0[t];return typeof n=="string"?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):e)+'"'}Pl.default=Wf;Wf.code='require("ajv/dist/runtime/quote").default';Object.defineProperty(Sl,"__esModule",{value:!0});const M0=ss,Yf=Nt,je=qe,A0=br,tt=rn,k0=He,D0=Kr,x0=Pt,L0=Pl,R0={elements:j0,values:V0,discriminator:U0,properties:fu,optionalProperties:fu,enum:Xo,type:z0,ref:K0};function Gf(e,t){const n=Yf.getCompilingSchema.call(this,e);if(n)return n;const{es5:r,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new je.CodeGen(this.scope,{es5:r,lines:o,ownProperties:s}),a=i.scopeName("serialize"),l={self:this,gen:i,schema:e.schema,schemaEnv:e,definitions:t,data:tt.default.data};let c;try{this._compilations.add(e),e.serializeName=a,i.func(a,tt.default.data,!1,()=>{i.let(tt.default.json,(0,je.str)``),is(l),i.return(tt.default.json)}),i.optimize(this.opts.code.optimize);const u=i.toString();c=`${i.scopeRefs(tt.default.scope)}return ${u}`;const f=new Function(`${tt.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:f}),e.serialize=f}catch(u){throw c&&this.logger.error("Error compiling serializer, function code:",c),delete e.serialize,delete e.serializeName,u}finally{this._compilations.delete(e)}return e}Sl.default=Gf;function is(e){let t;for(const n of M0.jtdForms)if(n in e.schema){t=n;break}F0(e,t?R0[t]:Z0)}function F0(e,t){const{gen:n,schema:r,data:o}=e;if(!r.nullable)return t(e);n.if((0,je._)`${o} === undefined || ${o} === null`,()=>n.add(tt.default.json,(0,je._)`"null"`),()=>t(e))}function j0(e){const{gen:t,schema:n,data:r}=e;t.add(tt.default.json,(0,je.str)`[`);const o=t.let("first",!0);t.forOf("el",r,s=>{$l(e,o),is({...e,schema:n.elements,data:s})}),t.add(tt.default.json,(0,je.str)`]`)}function V0(e){const{gen:t,schema:n,data:r}=e;t.add(tt.default.json,(0,je.str)`{`);const o=t.let("first",!0);t.forIn("key",r,s=>Jf(e,s,n.values,o)),t.add(tt.default.json,(0,je.str)`}`)}function Jf(e,t,n,r){const{gen:o,data:s}=e;$l(e,r),Xo({...e,data:t}),o.add(tt.default.json,(0,je.str)`:`);const i=o.const("value",(0,je._)`${s}${(0,je.getProperty)(t)}`);is({...e,schema:n,data:i})}function U0(e){const{gen:t,schema:n,data:r}=e,{discriminator:o}=n;t.add(tt.default.json,(0,je.str)`{${JSON.stringify(o)}:`);const s=t.const("tag",(0,je._)`${r}${(0,je.getProperty)(o)}`);Xo({...e,data:s}),t.if(!1);for(const i in n.mapping){t.elseIf((0,je._)`${s} === ${i}`);const a=n.mapping[i];Xf({...e,schema:a},o)}t.endIf(),t.add(tt.default.json,(0,je.str)`}`)}function fu(e){const{gen:t}=e;t.add(tt.default.json,(0,je.str)`{`),Xf(e),t.add(tt.default.json,(0,je.str)`}`)}function Xf(e,t){const{gen:n,schema:r,data:o}=e,{properties:s,optionalProperties:i}=r,a=f(s),l=f(i),c=h(a.concat(l));let u=!t,d;for(const p of a)u?u=!1:n.add(tt.default.json,(0,je.str)`,`),E(p,s[p],y(p));u&&(d=n.let("first",!0));for(const p of l){const v=y(p);n.if((0,je.and)((0,je._)`${v} !== undefined`,(0,k0.isOwnProperty)(n,o,p)),()=>{$l(e,d),E(p,i[p],v)})}r.additionalProperties&&n.forIn("key",o,p=>n.if(w(p,c),()=>Jf(e,p,{},d)));function f(p){return p?Object.keys(p):[]}function h(p){if(t&&p.push(t),new Set(p).size!==p.length)throw new Error("JTD: properties/optionalProperties/disciminator overlap");return p}function y(p){return n.const("value",(0,je._)`${o}${(0,je.getProperty)(p)}`)}function E(p,v,b){n.add(tt.default.json,(0,je.str)`${JSON.stringify(p)}:`),is({...e,schema:v,data:b})}function w(p,v){return v.length?(0,je.and)(...v.map(b=>(0,je._)`${p} !== ${b}`)):!0}}function z0(e){const{gen:t,schema:n,data:r}=e;switch(n.type){case"boolean":t.add(tt.default.json,(0,je._)`${r} ? "true" : "false"`);break;case"string":Xo(e);break;case"timestamp":t.if((0,je._)`${r} instanceof Date`,()=>t.add(tt.default.json,(0,je._)`'"' + ${r}.toISOString() + '"'`),()=>Xo(e));break;default:B0(e)}}function Xo({gen:e,data:t}){e.add(tt.default.json,(0,je._)`${(0,x0.useFunc)(e,L0.default)}(${t})`)}function B0({gen:e,data:t}){e.add(tt.default.json,(0,je._)`"" + ${t}`)}function K0(e){const{gen:t,self:n,data:r,definitions:o,schema:s,schemaEnv:i}=e,{ref:a}=s,l=o[a];if(!l)throw new A0.default(n.opts.uriResolver,"",a,`No definition ${a}`);if(!(0,D0.hasRef)(l))return is({...e,schema:l});const{root:c}=i,u=Gf.call(n,new Yf.SchemaEnv({schema:l,root:c}),o);t.add(tt.default.json,(0,je._)`${H0(t,u)}(${r})`)}function H0(e,t){return t.serialize?e.scopeValue("serialize",{ref:t.serialize}):(0,je._)`${e.scopeValue("wrapper",{ref:t})}.serialize`}function Z0({gen:e,data:t}){e.add(tt.default.json,(0,je._)`JSON.stringify(${t})`)}function $l({gen:e},t){t?e.if(t,()=>e.assign(t,!1),()=>e.add(tt.default.json,(0,je.str)`,`)):e.add(tt.default.json,(0,je.str)`,`)}var Tl={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.parseJsonString=dr.parseJsonNumber=dr.parseJson=void 0;const W0=/position\s(\d+)$/;function xn(e,t){let n;xn.message=void 0;let r;t&&(e=e.slice(t));try{return xn.position=t+e.length,JSON.parse(e)}catch(o){if(r=W0.exec(o.message),!r){xn.message="unexpected end";return}n=+r[1];const s=e[n];e=e.slice(0,n),xn.position=t+n;try{return JSON.parse(e)}catch{xn.message=`unexpected token ${s}`;return}}}dr.parseJson=xn;xn.message=void 0;xn.position=0;xn.code='require("ajv/dist/runtime/parseJson").parseJson';function Ln(e,t,n){let r="",o;if(Ln.message=void 0,e[t]==="-"&&(r+="-",t++),e[t]==="0")r+="0",t++;else if(!s(n)){i();return}if(n)return Ln.position=t,+r;if(e[t]==="."&&(r+=".",t++,!s())){i();return}if(o=e[t],(o==="e"||o==="E")&&(r+="e",t++,o=e[t],(o==="+"||o==="-")&&(r+=o,t++),!s())){i();return}return Ln.position=t,+r;function s(a){let l=!1;for(;o=e[t],o>="0"&&o<="9"&&(a===void 0||a-- >0);)l=!0,r+=o,t++;return l}function i(){Ln.position=t,Ln.message=t<e.length?`unexpected token ${e[t]}`:"unexpected end"}}dr.parseJsonNumber=Ln;Ln.message=void 0;Ln.position=0;Ln.code='require("ajv/dist/runtime/parseJson").parseJsonNumber';const hu={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},Y0="a".charCodeAt(0),G0="0".charCodeAt(0);function ar(e,t){let n="",r;for(ar.message=void 0;r=e[t++],r!=='"';)if(r==="\\")if(r=e[t],r in hu)n+=hu[r],t++;else if(r==="u"){t++;let s=4,i=0;for(;s--;){if(i<<=4,r=e[t],r===void 0){o("unexpected end");return}if(r=r.toLowerCase(),r>="a"&&r<="f")i+=r.charCodeAt(0)-Y0+10;else if(r>="0"&&r<="9")i+=r.charCodeAt(0)-G0;else{o(`unexpected token ${r}`);return}t++}n+=String.fromCharCode(i)}else{o(`unexpected token ${r}`);return}else if(r===void 0){o("unexpected end");return}else if(r.charCodeAt(0)>=32)n+=r;else{o(`unexpected token ${r}`);return}return ar.position=t,n;function o(s){ar.position=t,ar.message=s}}dr.parseJsonString=ar;ar.message=void 0;ar.position=0;ar.code='require("ajv/dist/runtime/parseJson").parseJsonString';Object.defineProperty(Tl,"__esModule",{value:!0});const J0=ss,Qf=Nt,_e=qe,X0=br,Re=rn,Q0=He,q0=Kr,eb=pl,Cl=dr,qf=Pt,tb=gi,nb={elements:ib,values:ab,discriminator:cb,properties:pu,optionalProperties:pu,enum:db,type:ub,ref:fb};function eh(e,t){const n=Qf.getCompilingSchema.call(this,e);if(n)return n;const{es5:r,lines:o}=this.opts.code,{ownProperties:s}=this.opts,i=new _e.CodeGen(this.scope,{es5:r,lines:o,ownProperties:s}),a=i.scopeName("parse"),l={self:this,gen:i,schema:e.schema,schemaEnv:e,definitions:t,data:Re.default.data,parseName:a,char:i.name("c")};let c;try{this._compilations.add(e),e.parseName=a,rb(l),i.optimize(this.opts.code.optimize);const u=i.toString();c=`${i.scopeRefs(Re.default.scope)}return ${u}`;const f=new Function(`${Re.default.scope}`,c)(this.scope.get());this.scope.value(a,{ref:f}),e.parse=f}catch(u){throw c&&this.logger.error("Error compiling parser, function code:",c),delete e.parse,delete e.parseName,u}finally{this._compilations.delete(e)}return e}Tl.default=eh;const _a=(0,_e._)`undefined`;function rb(e){const{gen:t,parseName:n,char:r}=e;t.func(n,(0,_e._)`${Re.default.json}, ${Re.default.jsonPos}, ${Re.default.jsonPart}`,!1,()=>{t.let(Re.default.data),t.let(r),t.assign((0,_e._)`${n}.message`,_a),t.assign((0,_e._)`${n}.position`,_a),t.assign(Re.default.jsonPos,(0,_e._)`${Re.default.jsonPos} || 0`),t.const(Re.default.jsonLen,(0,_e._)`${Re.default.json}.length`),yi(e),Ml(e),t.if(Re.default.jsonPart,()=>{t.assign((0,_e._)`${n}.position`,Re.default.jsonPos),t.return(Re.default.data)}),t.if((0,_e._)`${Re.default.jsonPos} === ${Re.default.jsonLen}`,()=>t.return(Re.default.data)),yo(e)})}function yi(e){let t;for(const n of J0.jtdForms)if(n in e.schema){t=n;break}t?sb(e,nb[t]):Il(e)}const ob=mu(!0,mu(!1,yo));function sb(e,t){const{gen:n,schema:r,data:o}=e;if(!r.nullable)return t(e);Qo(e,"null",t,()=>n.assign(o,null))}function ib(e){const{gen:t,schema:n,data:r}=e;$n(e,"[");const o=t.let("i",0);t.assign(r,(0,_e._)`[]`),Ol(e,"]",()=>{const s=t.let("el");yi({...e,schema:n.elements,data:s}),t.assign((0,_e._)`${r}[${o}++]`,s)})}function ab(e){const{gen:t,schema:n,data:r}=e;$n(e,"{"),t.assign(r,(0,_e._)`{}`),Ol(e,"}",()=>lb(e,n.values))}function Ol(e,t,n){th(e,t,n),$n(e,t)}function th(e,t,n){const{gen:r}=e;r.for((0,_e._)`;${Re.default.jsonPos}<${Re.default.jsonLen} && ${bi(1)}!==${t};`,()=>{n(),Qo(e,",",()=>r.break(),o)});function o(){Qo(e,t,()=>{},yo)}}function lb(e,t){const{gen:n}=e,r=n.let("key");Vr({...e,data:r}),$n(e,":"),rh(e,r,t)}function cb(e){const{gen:t,data:n,schema:r}=e,{discriminator:o,mapping:s}=r;$n(e,"{"),t.assign(n,(0,_e._)`{}`);const i=t.const("pos",Re.default.jsonPos),a=t.let("value"),l=t.let("tag");th(e,"}",()=>{const c=t.let("key");Vr({...e,data:c}),$n(e,":"),t.if((0,_e._)`${c} === ${o}`,()=>{Vr({...e,data:l}),t.assign((0,_e._)`${n}[${c}]`,l),t.break()},()=>Il({...e,data:a}))}),t.assign(Re.default.jsonPos,i),t.if((0,_e._)`${l} === undefined`),jn(e,(0,_e.str)`discriminator tag not found`);for(const c in s)t.elseIf((0,_e._)`${l} === ${c}`),nh({...e,schema:s[c]},o);t.else(),jn(e,(0,_e.str)`discriminator value not in schema`),t.endIf()}function pu(e){const{gen:t,data:n}=e;$n(e,"{"),t.assign(n,(0,_e._)`{}`),nh(e)}function nh(e,t){const{gen:n,schema:r,data:o}=e,{properties:s,optionalProperties:i,additionalProperties:a}=r;if(Ol(e,"}",()=>{const l=n.let("key");if(Vr({...e,data:l}),$n(e,":"),n.if(!1),vu(e,l,s),vu(e,l,i),t){n.elseIf((0,_e._)`${l} === ${t}`);const c=n.let("tag");Vr({...e,data:c})}n.else(),a?Il({...e,data:(0,_e._)`${o}[${l}]`}):jn(e,(0,_e.str)`property ${l} not allowed`),n.endIf()}),s){const l=(0,Q0.hasPropFunc)(n),c=(0,_e.and)(...Object.keys(s).map(u=>(0,_e._)`${l}.call(${o}, ${u})`));n.if((0,_e.not)(c),()=>jn(e,(0,_e.str)`missing required properties`))}}function vu(e,t,n={}){const{gen:r}=e;for(const o in n)r.elseIf((0,_e._)`${t} === ${o}`),rh(e,t,n[o])}function rh(e,t,n){yi({...e,schema:n,data:(0,_e._)`${e.data}[${t}]`})}function ub(e){const{gen:t,schema:n,data:r,self:o}=e;switch(n.type){case"boolean":ob(e);break;case"string":Vr(e);break;case"timestamp":{Vr(e);const s=(0,qf.useFunc)(t,tb.default),{allowDate:i,parseDate:a}=o.opts,l=i?(0,_e._)`!${s}(${r}, true)`:(0,_e._)`!${s}(${r})`,c=a?(0,_e.or)(l,(0,_e._)`(${r} = new Date(${r}), false)`,(0,_e._)`isNaN(${r}.valueOf())`):l;t.if(c,()=>jn(e,(0,_e.str)`invalid timestamp`));break}case"float32":case"float64":zi(e);break;default:{const s=n.type;if(!o.opts.int32range&&(s==="int32"||s==="uint32"))zi(e,16),s==="uint32"&&t.if((0,_e._)`${r} < 0`,()=>jn(e,(0,_e.str)`integer out of range`));else{const[i,a,l]=eb.intRange[s];zi(e,l),t.if((0,_e._)`${r} < ${i} || ${r} > ${a}`,()=>jn(e,(0,_e.str)`integer out of range`))}}}}function Vr(e){$n(e,'"'),Nl(e,Cl.parseJsonString)}function db(e){const{gen:t,data:n,schema:r}=e,o=r.enum;$n(e,'"'),t.if(!1);for(const s of o){const i=JSON.stringify(s).slice(1);t.elseIf((0,_e._)`${bi(i.length)} === ${i}`),t.assign(n,(0,_e.str)`${s}`),t.add(Re.default.jsonPos,i.length)}t.else(),yo(e),t.endIf()}function zi(e,t){const{gen:n}=e;Ml(e),n.if((0,_e._)`"-0123456789".indexOf(${bi(1)}) < 0`,()=>yo(e),()=>Nl(e,Cl.parseJsonNumber,t))}function mu(e,t){return n=>{const{gen:r,data:o}=n;Qo(n,`${e}`,()=>t(n),()=>r.assign(o,e))}}function fb(e){const{gen:t,self:n,definitions:r,schema:o,schemaEnv:s}=e,{ref:i}=o,a=r[i];if(!a)throw new X0.default(n.opts.uriResolver,"",i,`No definition ${i}`);if(!(0,q0.hasRef)(a))return yi({...e,schema:a});const{root:l}=s,c=eh.call(n,new Qf.SchemaEnv({schema:a,root:l}),r);oh(e,hb(t,c),!0)}function hb(e,t){return t.parse?e.scopeValue("parse",{ref:t.parse}):(0,_e._)`${e.scopeValue("wrapper",{ref:t})}.parse`}function Il(e){Nl(e,Cl.parseJson)}function Nl(e,t,n){oh(e,(0,qf.useFunc)(e.gen,t),n)}function oh(e,t,n){const{gen:r,data:o}=e;r.assign(o,(0,_e._)`${t}(${Re.default.json}, ${Re.default.jsonPos}${n?(0,_e._)`, ${n}`:_e.nil})`),r.assign(Re.default.jsonPos,(0,_e._)`${t}.position`),r.if((0,_e._)`${o} === undefined`,()=>jn(e,(0,_e._)`${t}.message`))}function $n(e,t){Qo(e,t,yo)}function Qo(e,t,n,r){const{gen:o}=e,s=t.length;Ml(e),o.if((0,_e._)`${bi(s)} === ${t}`,()=>{o.add(Re.default.jsonPos,s),r==null||r(e)},()=>n(e))}function Ml({gen:e,char:t}){e.code((0,_e._)`while((${t}=${Re.default.json}[${Re.default.jsonPos}],${t}===" "||${t}==="\\n"||${t}==="\\r"||${t}==="\\t"))${Re.default.jsonPos}++;`)}function bi(e){return e===1?(0,_e._)`${Re.default.json}[${Re.default.jsonPos}]`:(0,_e._)`${Re.default.json}.slice(${Re.default.jsonPos}, ${Re.default.jsonPos}+${e})`}function yo(e){jn(e,(0,_e._)`"unexpected token " + ${Re.default.json}[${Re.default.jsonPos}]`)}function jn({gen:e,parseName:t},n){e.assign((0,_e._)`${t}.message`,n),e.assign((0,_e._)`${t}.position`,Re.default.jsonPos),e.return(_a)}(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Cf,r=fl,o=El,s=Sl,i=Tl,a="JTD-meta-schema";class l extends n.default{constructor(y={}){super({...y,jtd:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(r.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema(),this.opts.meta&&this.addMetaSchema(o.default,a,!1)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}compileSerializer(y){const E=this._addSchema(y);return E.serialize||this._compileSerializer(E)}compileParser(y){const E=this._addSchema(y);return E.parse||this._compileParser(E)}_compileSerializer(y){if(s.default.call(this,y,y.schema.definitions||{}),!y.serialize)throw new Error("ajv implementation error");return y.serialize}_compileParser(y){if(i.default.call(this,y,y.schema.definitions||{}),!y.parse)throw new Error("ajv implementation error");return y.parse}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=ll();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=qe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=cl();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=br;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(ma,ma.exports);var pb=ma.exports;const vb=Ag(pb),bo=new vb,Mt={type:"string"},Al={type:"string",nullable:!0},sh={type:"int32"},mb={type:"string"},wa={properties:{limb:Mt,date:sh}},gb={properties:{id:Mt,desc:Al}},yb={properties:{id:Mt,values:{elements:gb}}},bb={properties:{id:Mt,desc:Al,articulation:{enum:["Consonant","Vowel"]},features:{elements:yb}}},_b={properties:{categoryID:Mt,stopId:Mt}},Ls={properties:{phoneTypeId:Mt,featureStops:{elements:_b}}},wb={properties:{onset:{elements:Ls},rhyme:{properties:{nucleus:{elements:Ls},coda:{elements:Ls}}}}},Eb={discriminator:"kind",mapping:{syllables:{properties:{syllables:{elements:wb}}},phones:{properties:{phones:{elements:Ls}}}}},Sb={properties:{lexemeId:Mt,entryForm:Eb}},Pb={properties:{id:Mt,typeID:Mt,desc:Al,syllabic:{enum:["Syllabic","Nonsyllabic"]},IPA:mb,featureStops:{elements:{properties:{categoryId:Mt,stopId:Mt}}}}},$b={properties:{id:Mt,phonemes:{elements:Pb}}},Tb={properties:{id:Mt,startLimb:wa,treeLimbs:{elements:wa}}},Cb={properties:{id:Mt,branch:{properties:{diversionDate:sh,children:{elements:Mt}}}}},kl={properties:{phoneTypes:{elements:bb},languages:{elements:$b},lexemes:{elements:Sb},rules:{elements:Tb},treeTrunks:{elements:wa},treeLimbs:{elements:Cb}}},jo=bo.compile(kl);bo.compileSerializer(kl);const ih={enum:["SaveFileData_v0_1_beta_1","SaveFileData_v0_1_beta_2"]};bo.compile(ih);const ah={properties:{version:ih,projectName:{type:"string"}},additionalProperties:!0},Ob={properties:{metadata:ah,data:{properties:{},additionalProperties:!0}}},gu=bo.compile(Ob),lh={properties:{metadata:ah,data:kl}};bo.compile(lh);const Ib=bo.compileSerializer(lh);function Nb(e){let t={};for(let n of e.languages)for(let r of n.phonemes)t[r.id]=r;return t}function Mb(e){let t={};for(let n of e.phoneTypes){let r=[];for(let o of n.features){let s=[];for(let i of o.values)s.push(i);r.push({id:o.id,types:s,desc:""})}t[n.id]={id:n.id,desc:n.desc??"",articulation:n.articulation,features:r}}return t}function Ab(e){let t={};for(let n of e.languages){let r={},o=[];for(let s of n.phonemes){r[s.typeID]||(r[s.typeID]=[]);let i=[];for(let l of s.featureStops)i.push({categoryId:l.categoryId,stopId:l.stopId});let a={id:s.id,typeID:s.typeID,desc:s.desc,syllabic:s.syllabic,IPA:s.IPA,featureStops:i};r[s.typeID].push(a),o.push(a)}t[n.id]={id:n.id,desc:"",phonemesByCategory:r,phonemesAll:o}}return t}function kb(e){var r;let t=o=>{var i;let s=[];for(let a of o){let l={};for(let c of a.featureStops)l[c.categoryID]=(i=a.featureStops.filter(u=>u.categoryID==c.categoryID)[0])==null?void 0:i.stopId;s.push({type:a.phoneTypeId,features:l})}return s},n=[];for(let o of e.lexemes){let s;if(o.entryForm.kind=="syllables"){let i=[];for(let a of o.entryForm.syllables)i.push({onset:t(a.onset),rhyme:{nucleus:t(a.rhyme.nucleus),coda:t(a.rhyme.coda)}});s={kind:"syllables",syllables:i}}else s={kind:"phones",phones:t(o.entryForm.phones)};n.push({id:o.lexemeId,entryForm:s,entryDate:0,entryTreeLimb:((r=e.treeLimbs[0])==null?void 0:r.id)??""})}return n}function Db(e){return[]}function xb(e){return[]}function Lb(e){return[]}function Rb(e){var s,i,a;let n={projectName:((s=e.metadata)==null?void 0:s.projectName)??"[Failed to read name]"},r=e.data;switch((i=e.metadata)==null?void 0:i.version){case"SaveFileData_v0_1_beta_1":r=Ub(r);case"SaveFileData_v0_1_beta_2":if(!jo(r))throw JSON.stringify(jo.errors);r=r;break;default:throw`Unrecognized file version: ${(a=e==null?void 0:e.metadata)==null?void 0:a.version}
${JSON.stringify(e)}`}let o=Vb(r);return{metadata:n,data:o}}function Rs(e){let t=[];for(let n in e.features)t.push({categoryID:n,stopId:e.features[n]});return{phoneTypeId:e.type,featureStops:t}}function Fb(e){return{onset:e.onset.map(Rs),rhyme:{nucleus:e.rhyme.nucleus.map(Rs),coda:e.rhyme.coda.map(Rs)}}}function jb(e){let t="SaveFileData_v0_1_beta_2",n=e.metadata.projectName,r=[];for(let d of Object.values(e.data.phoneTypes)){let f=[];for(let h of d.features){let y=[];for(let E of h.types)y.push({id:E.id,desc:E.desc});f.push({id:h.id,values:y})}r.push({id:d.id,desc:d.desc??"",articulation:d.articulation,features:f})}let o=[];for(let d of Object.values(e.data.languages))o.push({id:d.id,phonemes:d.phonemesAll});let s=[];for(let d of e.data.words)switch(d.entryForm.kind){case"syllables":s.push({lexemeId:d.id,entryForm:{kind:d.entryForm.kind,syllables:d.entryForm.syllables.map(Fb)}});break;case"phones":s.push({lexemeId:d.id,entryForm:{kind:d.entryForm.kind,phones:d.entryForm.phones.map(Rs)}});break}return Ib({metadata:{version:t,projectName:n},data:{phoneTypes:r,languages:o,lexemes:s,rules:[],treeTrunks:[],treeLimbs:[]}})}function Vb(e){return{phoneTypes:Mb(e),languages:Ab(e),phonemes:Nb(e),words:kb(e),rules:Db(),treeTrunks:xb(),treeLimbs:Lb()}}function Ub(e){let t=[];for(let l of e.phoneTypes){let c=[];for(let u of l.features){let d=[];for(let f of u.type.values)d.push({id:f.id,desc:f.desc??""});c.push({id:u.id,values:d})}t.push({id:l.id,desc:l.desc??"",articulation:l.type=="Vowel"?"Vowel":"Consonant",features:c})}let n=[];for(let l of e.languages){let c=[];for(let u of l.grid){let d=[];for(let f of u.featureStops)d.push({categoryId:f.categoryID,stopId:f.id});c.push({id:u.id,typeID:u.typeID,desc:u.desc??"",syllabic:u.syllabic=="Syllabic"?"Syllabic":"Nonsyllabic",IPA:u.IPA,featureStops:d})}n.push({id:l.id,phonemes:c})}let r=[];for(let l of e.lexicon.words){let c=h=>{let y=[];for(let E of h){let w=[];for(let p in E.features)w.push({categoryID:p,stopId:E.features[p]});y.push({phoneTypeId:E.type,featureStops:w})}return y},u=h=>({onset:c(h.onset),rhyme:{nucleus:c(h.rhyme.nucleus),coda:c(h.rhyme.coda)}}),d=[];for(let h of l.entryForm.value.sounds)d.push(u(h));let f={kind:"syllables",syllables:d};r.push({lexemeId:l.id,entryForm:f})}let o=[],s=[];for(let l of e.lexicon.treeTrunks)s.push({limb:l,date:0});let i=[];for(let l of e.lexicon.treeLimbs){let c=l.branch.children;i.push({id:l.id,branch:{diversionDate:l.branch.deathDate,children:c}})}let a={phoneTypes:t,languages:n,lexemes:r,rules:o,treeTrunks:s,treeLimbs:i};if(!jo(a))throw console.log(a),console.log(jo.errors),JSON.stringify(jo.errors);return a}const yu="/sca-jgantts/assets/file-solid-ec1fc0a3.svg",zb="/sca-jgantts/assets/file-circle-question-solid-7e883efd.svg",Bb="/sca-jgantts/assets/file-circle-check-solid-a14fc8af.svg",bu="/sca-jgantts/assets/file-circle-exclamation-solid-9ba69b5a.svg",Kb={style:{position:"relative"}},Hb={class:"container",style:{display:"flex","flex-direction":"column",gap:"0.5rem"}},Zb=he("h3",null,"Load",-1),Wb=he("h4",null,"Templates",-1),Yb={style:{display:"flex"}},Gb=he("hr",null,null,-1),Jb={key:0},Xb=he("hr",null,null,-1),Qb=["disabled"],qb=["src"],e_={key:0},t_={key:0,class:"unsaved-changes-warning"},n_={key:1},r_=he("br",null,null,-1),o_={key:2},s_=he("br",null,null,-1),i_={class:"container"},a_=he("h3",null,"Save",-1),l_=he("br",null,null,-1),c_=he("div",null,[he("div",null," TODO: load from/save to csv ")],-1),u_=Me({__name:"SaveLoad",props:{changeTab:{type:Function},loadFromFiles:{}},setup(e){const t=e,n=yr();let r=be(null),o=be(yu),s=null;t.loadFromFiles.loadFromFiles=u;let i=be("noFile"),a=be(null);function l(w){switch(w){case"ipa":d(JSON.stringify(Ng));break;case"blank":d("{}");break}}function c(w){var v;if(!w)return;let p=(v=w==null?void 0:w.target)==null?void 0:v.files;p&&u(p)}function u(w){const p=w[0];if(!p)return;const v=new FileReader;v.onload=b=>{var S;let _=(S=b.target)==null?void 0:S.result;_&&(_ instanceof ArrayBuffer||d(_))},v.readAsText(p)}function d(w){h(),o.value=yu,i.value="parsingForMetadata";let p=JSON.parse(w);if(!gu(p)){i.value="metadataParseError",a.value="Error parsing file. Check console for messages.",console.log(w.substring(0,100)),console.log(p),console.log(gu.errors),o.value=bu;return}const v=p;r.value=v.metadata,i.value="parsingForData",o.value=zb;try{s=Rb(v)}catch(b){i.value="dataParseError",a.value="Error parsing file. Check console for messages.",console.log(b),console.log(w.substring(0,100)),console.log(p),o.value=bu;return}i.value="validForLoad",o.value=Bb}function f(){if(!n.languages)return;let w=jb(n.languages);E("mylang.scajgantts",w)}function h(){let w=document.getElementById("fileToLoad");w&&(w.value="",s=null,r.value=null,i.value="noFile")}function y(){s&&(n.loadSaveFile(s),t.changeTab("#overview"),h())}function E(w,p){var v=document.createElement("a");v.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(p)),v.setAttribute("download",w),v.style.display="none",document.body.appendChild(v),v.click(),document.body.removeChild(v)}return(w,p)=>{var v,b;return z(),X(me,null,[he("div",Kb,[he("div",Hb,[Zb,he("div",null,[Wb,he("div",Yb,[he("button",{onClick:p[0]||(p[0]=_=>l("ipa"))}," IPA "),Ro("   "),he("button",{onClick:p[1]||(p[1]=_=>l("blank"))}," blank ")])]),Gb,he("div",null,[he("input",{type:"file",id:"fileToLoad",accept:".scajgantts",onChange:c},null,32)]),M(i)!="noFile"?(z(),X("div",Jb,[Xb,he("button",{style:{background:"none",border:"none",margin:"0.3rem",display:"flex","flex-direction":"column","font-size":"small",color:"var(--jg-c-text-highlight)"},onClick:p[2]||(p[2]=_=>y()),disabled:M(i)!="validForLoad"},[he("img",{src:M(o),style:{width:"2.5rem"},class:"jsonIcon"},null,8,qb),M(i)=="validForLoad"?(z(),X("div",e_," Load "+Et((v=M(r))==null?void 0:v.projectName),1)):gt("",!0)],8,Qb),M(n).languages!==null&&M(i)=="validForLoad"?(z(),X("div",t_," Unsaved changes will be lost! ")):gt("",!0),M(i)=="dataParseError"?(z(),X("div",n_,[Ro(" Unable to parse "+Et((b=M(r))==null?void 0:b.projectName)+" ",1),r_,Ro(' Error: "'+Et(M(a))+'" ',1)])):gt("",!0),M(i)=="metadataParseError"?(z(),X("div",o_,Et(M(a)),1)):gt("",!0)])):gt("",!0)])]),s_,he("div",i_,[a_,he("div",null,[he("button",{onClick:p[3]||(p[3]=_=>f())}," Download to disk ")])]),l_,c_],64)}}}),d_=Me({__name:"AppOverlay",props:{changeTab:{type:Function},loadFromFiles:{}},setup(e){const t=e,n=yr();window.ondragenter=i=>{n.currentTab=="loadsave"&&(i.stopImmediatePropagation(),i.preventDefault(),r.value=!0)};let r=be(!1);function o(i){i.stopImmediatePropagation(),i.preventDefault(),r.value=!1}function s(i){i.stopImmediatePropagation(),i.preventDefault(),r.value=!1;const a=i.dataTransfer,l=a==null?void 0:a.files;l&&t.loadFromFiles.loadFromFiles&&(t.loadFromFiles.loadFromFiles(l),t.changeTab("#loadsave"))}return(i,a)=>(z(),X("div",{onDragleave:o,onDrop:s,onDragover:a[0]||(a[0]=l=>l.preventDefault()),id:"dropzone",class:at(["dropzone",{makeVisible:M(r)}])}," Drop Project File Here ",34))}}),f_=e=>(Ya("data-v-d5198a0c"),e=e(),Ga(),e),h_=f_(()=>he("th",null," IPA ",-1)),p_=Me({__name:"Phones",setup(e){const t=yr();function n(o){return o?o.charAt(0).toUpperCase()+o.slice(1):""}function r(o,s){var i;return(i=s.types.filter(a=>{var l;return a.id===((l=o.featureStops.filter(c=>c.categoryId===s.id)[0])==null?void 0:l.stopId)})[0])==null?void 0:i.desc}return(o,s)=>{var i;return z(!0),X(me,null,xe((i=M(t).languages)==null?void 0:i.data.phoneTypes,a=>{var l;return z(),X("div",null,[he("h1",null,Et(n(a.desc)),1),he("table",null,[he("tr",null,[h_,(z(!0),X(me,null,xe(a.features,c=>(z(),X("th",null,Et(c.desc),1))),256))]),(z(!0),X(me,null,xe(Object.values((l=M(t).languages)==null?void 0:l.data.phonemes).filter(c=>c.typeID===a.id),c=>(z(),X("tr",null,[he("td",null,Et(c.IPA),1),(z(!0),X(me,null,xe(a.features,u=>(z(),X("td",null,Et(r(c,u)),1))),256))]))),256))])])}),256)}}}),v_=ol(p_,[["__scopeId","data-v-d5198a0c"]]),Dl=e=>(Ya("data-v-06da0deb"),e=e(),Ga(),e),m_=Dl(()=>he("h1",null,"Phone Types",-1)),g_={class:"phoneTypeConainer"},y_=Dl(()=>he("tr",null,[he("th")],-1)),b_=Dl(()=>he("br",null,null,-1)),__=Me({__name:"PhoneTypes",setup(e){const t=yr();return(n,r)=>{var o;return z(),X(me,null,[m_,he("div",g_,[(z(!0),X(me,null,xe((o=M(t).languages)==null?void 0:o.data.phoneTypes,s=>(z(),X("div",null,[he("h2",null,Et(s.desc),1),he("table",null,[y_,(z(!0),X(me,null,xe(s.features,i=>(z(),X("tr",null,[he("td",null,Et(i.desc),1),he("td",null,[(z(!0),X(me,null,xe(i.types,a=>(z(),X("li",null,Et(a.desc),1))),256))])]))),256))]),b_]))),256))])],64)}}}),w_=ol(__,[["__scopeId","data-v-06da0deb"]]),E_=Me({__name:"FamilyGraph",setup(e){const t={node1:{name:"Node 1"},node2:{name:"Node 2"},node3:{name:"Node 3"},node4:{name:"Node 4"}},n={edge1:{source:"node1",target:"node2"},edge2:{source:"node2",target:"node3"},edge3:{source:"node3",target:"node4"}};return(r,o)=>{const s=jv("v-network-graph");return z(),ke(s,{class:"graph",nodes:t,edges:n})}}}),ch=Symbol("addTab"),uh=Symbol("updateTab"),dh=Symbol("deleteTab"),fh=Symbol("tabsProvider");function Es(e,t){const n=zt(e,t);if(typeof n>"u")throw new Error(`Could not resolve ${e.description}`);return n}const S_=["data-tab-id","aria-hidden"],ro=Me({__name:"Tab",props:{panelClass:{default:"tabs-component-panel"},id:{default:void 0},name:null,prefix:{default:""},suffix:{default:""},isDisabled:{type:Boolean,default:!1},navItemClass:{default:void 0},navItemLinkClass:{default:void 0}},setup(e,{expose:t}){const n=e,r=be(!1),o=Es(fh),s=Es(ch),i=Es(uh),a=Es(dh),l=n.prefix+n.name+n.suffix,c=n.id?n.id:n.name.toLowerCase().replace(/ /g,"-"),u=c+"-pane",d=se(()=>"#"+(n.isDisabled?"":c));return De(()=>o.activeTabHash,()=>{r.value=d.value===o.activeTabHash}),De(()=>Object.assign({},n),()=>{i(c,{name:n.name,header:n.prefix+n.name+n.suffix,isDisabled:n.isDisabled,hash:d.value,index:o.tabs.length,computedId:c,paneId:u,navItemClass:n.navItemClass,navItemLinkClass:n.navItemLinkClass})}),Gd(()=>{s({name:n.name,header:l,isDisabled:n.isDisabled,hash:d.value,index:o.tabs.length,computedId:c,paneId:u,navItemClass:n.navItemClass,navItemLinkClass:n.navItemLinkClass})}),Ja(()=>{a(c)}),t({header:l,computedId:c,paneId:u,hash:d,isActive:r}),(f,h)=>Hd((z(),X("section",{ref:"tab",id:u,"data-tab-id":M(c),"aria-hidden":!r.value,class:at(e.panelClass),role:"tabpanel",tabindex:"-1"},[Xe(f.$slots,"default")],10,S_)),[[Gm,r.value]])}});class P_{get(t){const n=localStorage.getItem(t);if(n===null)return null;const r=JSON.parse(n);return r?new Date(r.expires)<new Date?(localStorage.removeItem(t),null):r.value:null}set(t,n,r){const o=new Date().getTime(),s=new Date(o+r*6e4);localStorage.setItem(t,JSON.stringify({value:n,expires:s}))}}const _u=new P_,$_=["id"],T_=["aria-controls","aria-selected","href","onClick","innerHTML"],hh=Me({__name:"Tabs",props:{id:{default:void 0},cacheLifetime:{default:5},options:{default:()=>({useUrlFragment:!0,defaultTabHash:void 0,storageKey:void 0})},wrapperClass:{default:"tabs-component"},panelsWrapperClass:{default:"tabs-component-panels"},navClass:{default:"tabs-component-tabs"},navItemClass:{default:"tabs-component-tab"},navItemDisabledClass:{default:"is-disabled"},navItemActiveClass:{default:"is-active"},navItemInactiveClass:{default:"is-inactive"},navItemLinkClass:{default:"tabs-component-tab-a"},navItemLinkActiveClass:{default:"is-active"},navItemLinkInactiveClass:{default:"is-inactive"},navItemLinkDisabledClass:{default:"is-disabled"}},emits:["changed","clicked"],setup(e,{expose:t,emit:n}){const r=e,o=Kt({activeTabHash:"",lastActiveTabHash:"",tabs:[]});Wt(fh,o),Wt(ch,l=>{o.tabs.push(l)}),Wt(uh,(l,c)=>{const u=o.tabs.findIndex(d=>d.computedId===l);c.isActive=o.tabs[u].isActive,o.tabs[u]=c}),Wt(dh,l=>{const c=o.tabs.findIndex(u=>u.computedId===l);o.tabs.splice(c,1)});const s=se(()=>{let l;return r.options.storageKey&&(l=r.options.storageKey),!l&&r.id&&(l=`vue-tabs-component.${r.id}.cache.${window.location.host}${window.location.pathname}`),l||(l=`vue-tabs-component.cache.${window.location.host}${window.location.pathname}`),l}),i=(l,c)=>{c&&!r.options.useUrlFragment&&c.preventDefault();const u=a(l);if(u){if(c&&u.isDisabled){c.preventDefault();return}if(o.lastActiveTabHash===u.hash){n("clicked",{tab:u});return}o.tabs.forEach(d=>{d.isActive=d.hash===u.hash}),n("changed",{tab:u}),o.lastActiveTabHash=o.activeTabHash=u.hash,!(r.cacheLifetime<=0)&&_u.set(s.value,u.hash,r.cacheLifetime)}},a=l=>o.tabs.find(c=>c.hash===l);return Cn(()=>{if(o.tabs.length){if(window.addEventListener("hashchange",()=>i(window.location.hash)),a(window.location.hash)){i(window.location.hash);return}if(r.cacheLifetime>0){const l=_u.get(s.value);if(l!==null&&a(l)){i(l);return}if(r.options.defaultTabHash&&a("#"+r.options.defaultTabHash)){i("#"+r.options.defaultTabHash);return}}i(o.tabs[0].hash)}}),t({...Rd(o),selectTab:i,findTab:a}),(l,c)=>(z(),X("div",{class:at(e.wrapperClass),id:e.id},[he("ul",{role:"tablist",class:at(e.navClass)},[(z(!0),X(me,null,xe(o.tabs,(u,d)=>{var f,h;return z(),X("li",{key:d,class:at([(f=u.navItemClass)!=null?f:e.navItemClass,u.isDisabled?e.navItemDisabledClass:"",u.isActive?e.navItemActiveClass:u.isDisabled?"":e.navItemInactiveClass]),role:"presentation"},[he("a",{role:"tab",class:at([(h=u.navItemLinkClass)!=null?h:e.navItemLinkClass,u.isDisabled?e.navItemLinkDisabledClass:"",u.isActive?e.navItemLinkActiveClass:u.isDisabled?"":e.navItemLinkInactiveClass]),"aria-controls":u.paneId,"aria-selected":u.isActive,href:u.hash,onClick:y=>i(u.hash,y),innerHTML:u.header,tabindex:"0"},null,10,T_)],2)}),128))],2),he("div",{class:at(e.panelsWrapperClass)},[Xe(l.$slots,"default")],2)],10,$_))}}),C_={id:"app-container"},O_={id:"tabs-container"},I_="0",N_="1",M_="1",A_="5",k_=Me({__name:"App",setup(e){xm(c=>({"4c62f61c":o}));const t=be(null);function n(c){t.value&&t.value.selectTab(c)}let r=I_;r+="."+N_,r+="."+M_,r+="."+A_;const o=`'SCA JGantts - v${r}'`,s={loadFromFiles:null};function i(c){a.currentTab=c.tab.computedId}const a=yr();function l(c){if(c.defaultPrevented)return;(/Mac|iPod|iPhone|iPad/.test(navigator.platform)?c.metaKey:c.ctrlKey)&&(c.code=="KeyZ"&&(c.shiftKey?(c.preventDefault(),a.excuteRedo()):(c.preventDefault(),a.excuteUndo())),c.code=="KeyY"&&(c.preventDefault(),a.excuteRedo()))}return document.onkeydown=l,(c,u)=>(z(),X("div",C_,[Je(d_,{changeTab:n,"load-from-files":s}),he("div",O_,[Je(M(hh),{ref_key:"tabsHolder",ref:t,options:{useUrlFragment:!1},onChanged:i},{default:Qe(()=>[Je(M(ro),{id:"loadsave",name:"Load/Save"},{default:Qe(()=>[Je(u_,{changeTab:n,"load-from-files":s})]),_:1}),Je(M(ro),{id:"overview",name:"Overview"},{default:Qe(()=>[Je(Cg)]),_:1}),Je(M(ro),{id:"phonetypes",name:"Phone Types"},{default:Qe(()=>[Je(w_)]),_:1}),Je(M(ro),{id:"phones",name:"Phones"},{default:Qe(()=>[Je(v_)]),_:1}),Je(M(ro),{id:"familygraph",name:"Family Graph"},{default:Qe(()=>[Je(E_)]),_:1})]),_:1},512)])]))}});var D_=typeof global=="object"&&global&&global.Object===Object&&global;const ph=D_;var x_=typeof self=="object"&&self&&self.Object===Object&&self,L_=ph||x_||Function("return this")();const sn=L_;var R_=sn.Symbol;const vr=R_;var vh=Object.prototype,F_=vh.hasOwnProperty,j_=vh.toString,Io=vr?vr.toStringTag:void 0;function V_(e){var t=F_.call(e,Io),n=e[Io];try{e[Io]=void 0;var r=!0}catch{}var o=j_.call(e);return r&&(t?e[Io]=n:delete e[Io]),o}var U_=Object.prototype,z_=U_.toString;function B_(e){return z_.call(e)}var K_="[object Null]",H_="[object Undefined]",wu=vr?vr.toStringTag:void 0;function Hr(e){return e==null?e===void 0?H_:K_:wu&&wu in Object(e)?V_(e):B_(e)}function mr(e){return e!=null&&typeof e=="object"}var Z_="[object Symbol]";function mh(e){return typeof e=="symbol"||mr(e)&&Hr(e)==Z_}function W_(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Y_=Array.isArray;const Ur=Y_;var G_=1/0,Eu=vr?vr.prototype:void 0,Su=Eu?Eu.toString:void 0;function gh(e){if(typeof e=="string")return e;if(Ur(e))return W_(e,gh)+"";if(mh(e))return Su?Su.call(e):"";var t=e+"";return t=="0"&&1/e==-G_?"-0":t}var J_=/\s/;function X_(e){for(var t=e.length;t--&&J_.test(e.charAt(t)););return t}var Q_=/^\s+/;function q_(e){return e&&e.slice(0,X_(e)+1).replace(Q_,"")}function Tn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pu=0/0,ew=/^[-+]0x[0-9a-f]+$/i,tw=/^0b[01]+$/i,nw=/^0o[0-7]+$/i,rw=parseInt;function Zs(e){if(typeof e=="number")return e;if(mh(e))return Pu;if(Tn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=q_(e);var n=tw.test(e);return n||nw.test(e)?rw(e.slice(2),n?2:8):ew.test(e)?Pu:+e}var $u=1/0,ow=17976931348623157e292;function sw(e){if(!e)return e===0?e:0;if(e=Zs(e),e===$u||e===-$u){var t=e<0?-1:1;return t*ow}return e===e?e:0}function yh(e){var t=sw(e),n=t%1;return t===t?n?t-n:t:0}function bh(e){return e}var iw="[object AsyncFunction]",aw="[object Function]",lw="[object GeneratorFunction]",cw="[object Proxy]";function xl(e){if(!Tn(e))return!1;var t=Hr(e);return t==aw||t==lw||t==iw||t==cw}var uw=sn["__core-js_shared__"];const Bi=uw;var Tu=function(){var e=/[^.]+$/.exec(Bi&&Bi.keys&&Bi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dw(e){return!!Tu&&Tu in e}var fw=Function.prototype,hw=fw.toString;function Zr(e){if(e!=null){try{return hw.call(e)}catch{}try{return e+""}catch{}}return""}var pw=/[\\^$.*+?()[\]{}|]/g,vw=/^\[object .+?Constructor\]$/,mw=Function.prototype,gw=Object.prototype,yw=mw.toString,bw=gw.hasOwnProperty,_w=RegExp("^"+yw.call(bw).replace(pw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ww(e){if(!Tn(e)||dw(e))return!1;var t=xl(e)?_w:vw;return t.test(Zr(e))}function Ew(e,t){return e==null?void 0:e[t]}function Wr(e,t){var n=Ew(e,t);return ww(n)?n:void 0}var Sw=Wr(sn,"WeakMap");const Ea=Sw;var Cu=Object.create,Pw=function(){function e(){}return function(t){if(!Tn(t))return{};if(Cu)return Cu(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const $w=Pw;function Tw(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Cw(){}function Ow(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Iw=800,Nw=16,Mw=Date.now;function Aw(e){var t=0,n=0;return function(){var r=Mw(),o=Nw-(r-n);if(n=r,o>0){if(++t>=Iw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function kw(e){return function(){return e}}var Dw=function(){try{var e=Wr(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Ws=Dw;var xw=Ws?function(e,t){return Ws(e,"toString",{configurable:!0,enumerable:!1,value:kw(t),writable:!0})}:bh;const Lw=xw;var Rw=Aw(Lw);const Fw=Rw;function jw(e,t,n,r){for(var o=e.length,s=n+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1}function Vw(e){return e!==e}function Uw(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function zw(e,t,n){return t===t?Uw(e,t,n):jw(e,Vw,n)}function Bw(e,t){var n=e==null?0:e.length;return!!n&&zw(e,t,0)>-1}var Kw=9007199254740991,Hw=/^(?:0|[1-9]\d*)$/;function _h(e,t){var n=typeof e;return t=t??Kw,!!t&&(n=="number"||n!="symbol"&&Hw.test(e))&&e>-1&&e%1==0&&e<t}function Ll(e,t,n){t=="__proto__"&&Ws?Ws(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function as(e,t){return e===t||e!==e&&t!==t}var Zw=Object.prototype,Ww=Zw.hasOwnProperty;function Yw(e,t,n){var r=e[t];(!(Ww.call(e,t)&&as(r,n))||n===void 0&&!(t in e))&&Ll(e,t,n)}function Gw(e,t,n,r){var o=!n;n||(n={});for(var s=-1,i=t.length;++s<i;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),o?Ll(n,a,l):Yw(n,a,l)}return n}var Ou=Math.max;function Jw(e,t,n){return t=Ou(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=Ou(r.length-t,0),i=Array(s);++o<s;)i[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(i),Tw(e,this,a)}}function Xw(e,t){return Fw(Jw(e,t,bh),e+"")}var Qw=9007199254740991;function wh(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qw}function _i(e){return e!=null&&wh(e.length)&&!xl(e)}function Eh(e,t,n){if(!Tn(n))return!1;var r=typeof t;return(r=="number"?_i(n)&&_h(t,n.length):r=="string"&&t in n)?as(n[t],e):!1}function Sh(e){return Xw(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,i&&Eh(n[0],n[1],i)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,s)}return t})}var qw=Object.prototype;function Rl(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qw;return e===n}function eE(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var tE="[object Arguments]";function Iu(e){return mr(e)&&Hr(e)==tE}var Ph=Object.prototype,nE=Ph.hasOwnProperty,rE=Ph.propertyIsEnumerable,oE=Iu(function(){return arguments}())?Iu:function(e){return mr(e)&&nE.call(e,"callee")&&!rE.call(e,"callee")};const Sa=oE;function sE(){return!1}var $h=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,Nu=$h&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,iE=Nu&&Nu.exports===$h,Mu=iE?sn.Buffer:void 0,aE=Mu?Mu.isBuffer:void 0,lE=aE||sE;const Ys=lE;var cE="[object Arguments]",uE="[object Array]",dE="[object Boolean]",fE="[object Date]",hE="[object Error]",pE="[object Function]",vE="[object Map]",mE="[object Number]",gE="[object Object]",yE="[object RegExp]",bE="[object Set]",_E="[object String]",wE="[object WeakMap]",EE="[object ArrayBuffer]",SE="[object DataView]",PE="[object Float32Array]",$E="[object Float64Array]",TE="[object Int8Array]",CE="[object Int16Array]",OE="[object Int32Array]",IE="[object Uint8Array]",NE="[object Uint8ClampedArray]",ME="[object Uint16Array]",AE="[object Uint32Array]",rt={};rt[PE]=rt[$E]=rt[TE]=rt[CE]=rt[OE]=rt[IE]=rt[NE]=rt[ME]=rt[AE]=!0;rt[cE]=rt[uE]=rt[EE]=rt[dE]=rt[SE]=rt[fE]=rt[hE]=rt[pE]=rt[vE]=rt[mE]=rt[gE]=rt[yE]=rt[bE]=rt[_E]=rt[wE]=!1;function kE(e){return mr(e)&&wh(e.length)&&!!rt[Hr(e)]}function DE(e){return function(t){return e(t)}}var Th=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,Vo=Th&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,xE=Vo&&Vo.exports===Th,Ki=xE&&ph.process,LE=function(){try{var e=Vo&&Vo.require&&Vo.require("util").types;return e||Ki&&Ki.binding&&Ki.binding("util")}catch{}}();const Au=LE;var ku=Au&&Au.isTypedArray,RE=ku?DE(ku):kE;const Fl=RE;var FE=Object.prototype,jE=FE.hasOwnProperty;function Ch(e,t){var n=Ur(e),r=!n&&Sa(e),o=!n&&!r&&Ys(e),s=!n&&!r&&!o&&Fl(e),i=n||r||o||s,a=i?eE(e.length,String):[],l=a.length;for(var c in e)(t||jE.call(e,c))&&!(i&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_h(c,l)))&&a.push(c);return a}function Oh(e,t){return function(n){return e(t(n))}}var VE=Oh(Object.keys,Object);const UE=VE;var zE=Object.prototype,BE=zE.hasOwnProperty;function KE(e){if(!Rl(e))return UE(e);var t=[];for(var n in Object(e))BE.call(e,n)&&n!="constructor"&&t.push(n);return t}function HE(e){return _i(e)?Ch(e):KE(e)}function ZE(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var WE=Object.prototype,YE=WE.hasOwnProperty;function GE(e){if(!Tn(e))return ZE(e);var t=Rl(e),n=[];for(var r in e)r=="constructor"&&(t||!YE.call(e,r))||n.push(r);return n}function Ih(e){return _i(e)?Ch(e,!0):GE(e)}var JE=Wr(Object,"create");const qo=JE;function XE(){this.__data__=qo?qo(null):{},this.size=0}function QE(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qE="__lodash_hash_undefined__",eS=Object.prototype,tS=eS.hasOwnProperty;function nS(e){var t=this.__data__;if(qo){var n=t[e];return n===qE?void 0:n}return tS.call(t,e)?t[e]:void 0}var rS=Object.prototype,oS=rS.hasOwnProperty;function sS(e){var t=this.__data__;return qo?t[e]!==void 0:oS.call(t,e)}var iS="__lodash_hash_undefined__";function aS(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=qo&&t===void 0?iS:t,this}function zr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zr.prototype.clear=XE;zr.prototype.delete=QE;zr.prototype.get=nS;zr.prototype.has=sS;zr.prototype.set=aS;function lS(){this.__data__=[],this.size=0}function wi(e,t){for(var n=e.length;n--;)if(as(e[n][0],t))return n;return-1}var cS=Array.prototype,uS=cS.splice;function dS(e){var t=this.__data__,n=wi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():uS.call(t,n,1),--this.size,!0}function fS(e){var t=this.__data__,n=wi(t,e);return n<0?void 0:t[n][1]}function hS(e){return wi(this.__data__,e)>-1}function pS(e,t){var n=this.__data__,r=wi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Zn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zn.prototype.clear=lS;Zn.prototype.delete=dS;Zn.prototype.get=fS;Zn.prototype.has=hS;Zn.prototype.set=pS;var vS=Wr(sn,"Map");const es=vS;function mS(){this.size=0,this.__data__={hash:new zr,map:new(es||Zn),string:new zr}}function gS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ei(e,t){var n=e.__data__;return gS(t)?n[typeof t=="string"?"string":"hash"]:n.map}function yS(e){var t=Ei(this,e).delete(e);return this.size-=t?1:0,t}function bS(e){return Ei(this,e).get(e)}function _S(e){return Ei(this,e).has(e)}function wS(e,t){var n=Ei(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Yr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yr.prototype.clear=mS;Yr.prototype.delete=yS;Yr.prototype.get=bS;Yr.prototype.has=_S;Yr.prototype.set=wS;function Du(e){return e==null?"":gh(e)}function ES(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var SS=Oh(Object.getPrototypeOf,Object);const Nh=SS;var PS="[object Object]",$S=Function.prototype,TS=Object.prototype,Mh=$S.toString,CS=TS.hasOwnProperty,OS=Mh.call(Object);function Ah(e){if(!mr(e)||Hr(e)!=PS)return!1;var t=Nh(e);if(t===null)return!0;var n=CS.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Mh.call(n)==OS}function IS(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}var NS=sn.isFinite,MS=Math.min;function AS(e){var t=Math[e];return function(n,r){if(n=Zs(n),r=r==null?0:MS(yh(r),292),r&&NS(n)){var o=(Du(n)+"e").split("e"),s=t(o[0]+"e"+(+o[1]+r));return o=(Du(s)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var kS=Math.ceil,DS=Math.max;function jl(e,t,n){(n?Eh(e,t,n):t===void 0)?t=1:t=DS(yh(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,s=0,i=Array(kS(r/t));o<r;)i[s++]=IS(e,o,o+=t);return i}function xS(){this.__data__=new Zn,this.size=0}function LS(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function RS(e){return this.__data__.get(e)}function FS(e){return this.__data__.has(e)}var jS=200;function VS(e,t){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!es||r.length<jS-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yr(r)}return n.set(e,t),this.size=n.size,this}function Vn(e){var t=this.__data__=new Zn(e);this.size=t.size}Vn.prototype.clear=xS;Vn.prototype.delete=LS;Vn.prototype.get=RS;Vn.prototype.has=FS;Vn.prototype.set=VS;var kh=typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,xu=kh&&typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,US=xu&&xu.exports===kh,Lu=US?sn.Buffer:void 0,Ru=Lu?Lu.allocUnsafe:void 0;function zS(e,t){if(t)return e.slice();var n=e.length,r=Ru?Ru(n):new e.constructor(n);return e.copy(r),r}function BS(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}function KS(){return[]}var HS=Object.prototype,ZS=HS.propertyIsEnumerable,Fu=Object.getOwnPropertySymbols,WS=Fu?function(e){return e==null?[]:(e=Object(e),BS(Fu(e),function(t){return ZS.call(e,t)}))}:KS;const YS=WS;function GS(e,t,n){var r=t(e);return Ur(e)?r:ES(r,n(e))}function ju(e){return GS(e,HE,YS)}var JS=Wr(sn,"DataView");const Pa=JS;var XS=Wr(sn,"Promise");const $a=XS;var QS=Wr(sn,"Set");const co=QS;var Vu="[object Map]",qS="[object Object]",Uu="[object Promise]",zu="[object Set]",Bu="[object WeakMap]",Ku="[object DataView]",e1=Zr(Pa),t1=Zr(es),n1=Zr($a),r1=Zr(co),o1=Zr(Ea),Ir=Hr;(Pa&&Ir(new Pa(new ArrayBuffer(1)))!=Ku||es&&Ir(new es)!=Vu||$a&&Ir($a.resolve())!=Uu||co&&Ir(new co)!=zu||Ea&&Ir(new Ea)!=Bu)&&(Ir=function(e){var t=Hr(e),n=t==qS?e.constructor:void 0,r=n?Zr(n):"";if(r)switch(r){case e1:return Ku;case t1:return Vu;case n1:return Uu;case r1:return zu;case o1:return Bu}return t});const Hu=Ir;var s1=sn.Uint8Array;const Gs=s1;function i1(e){var t=new e.constructor(e.byteLength);return new Gs(t).set(new Gs(e)),t}function a1(e,t){var n=t?i1(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function l1(e){return typeof e.constructor=="function"&&!Rl(e)?$w(Nh(e)):{}}var c1="__lodash_hash_undefined__";function u1(e){return this.__data__.set(e,c1),this}function d1(e){return this.__data__.has(e)}function ts(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Yr;++t<n;)this.add(e[t])}ts.prototype.add=ts.prototype.push=u1;ts.prototype.has=d1;function f1(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Dh(e,t){return e.has(t)}var h1=1,p1=2;function xh(e,t,n,r,o,s){var i=n&h1,a=e.length,l=t.length;if(a!=l&&!(i&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,h=n&p1?new ts:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var y=e[d],E=t[d];if(r)var w=i?r(E,y,d,t,e,s):r(y,E,d,e,t,s);if(w!==void 0){if(w)continue;f=!1;break}if(h){if(!f1(t,function(p,v){if(!Dh(h,v)&&(y===p||o(y,p,n,r,s)))return h.push(v)})){f=!1;break}}else if(!(y===E||o(y,E,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function v1(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Vl(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var m1=1,g1=2,y1="[object Boolean]",b1="[object Date]",_1="[object Error]",w1="[object Map]",E1="[object Number]",S1="[object RegExp]",P1="[object Set]",$1="[object String]",T1="[object Symbol]",C1="[object ArrayBuffer]",O1="[object DataView]",Zu=vr?vr.prototype:void 0,Hi=Zu?Zu.valueOf:void 0;function I1(e,t,n,r,o,s,i){switch(n){case O1:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C1:return!(e.byteLength!=t.byteLength||!s(new Gs(e),new Gs(t)));case y1:case b1:case E1:return as(+e,+t);case _1:return e.name==t.name&&e.message==t.message;case S1:case $1:return e==t+"";case w1:var a=v1;case P1:var l=r&m1;if(a||(a=Vl),e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;r|=g1,i.set(e,t);var u=xh(a(e),a(t),r,o,s,i);return i.delete(e),u;case T1:if(Hi)return Hi.call(e)==Hi.call(t)}return!1}var N1=1,M1=Object.prototype,A1=M1.hasOwnProperty;function k1(e,t,n,r,o,s){var i=n&N1,a=ju(e),l=a.length,c=ju(t),u=c.length;if(l!=u&&!i)return!1;for(var d=l;d--;){var f=a[d];if(!(i?f in t:A1.call(t,f)))return!1}var h=s.get(e),y=s.get(t);if(h&&y)return h==t&&y==e;var E=!0;s.set(e,t),s.set(t,e);for(var w=i;++d<l;){f=a[d];var p=e[f],v=t[f];if(r)var b=i?r(v,p,f,t,e,s):r(p,v,f,e,t,s);if(!(b===void 0?p===v||o(p,v,n,r,s):b)){E=!1;break}w||(w=f=="constructor")}if(E&&!w){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(E=!1)}return s.delete(e),s.delete(t),E}var D1=1,Wu="[object Arguments]",Yu="[object Array]",Ss="[object Object]",x1=Object.prototype,Gu=x1.hasOwnProperty;function L1(e,t,n,r,o,s){var i=Ur(e),a=Ur(t),l=i?Yu:Hu(e),c=a?Yu:Hu(t);l=l==Wu?Ss:l,c=c==Wu?Ss:c;var u=l==Ss,d=c==Ss,f=l==c;if(f&&Ys(e)){if(!Ys(t))return!1;i=!0,u=!1}if(f&&!u)return s||(s=new Vn),i||Fl(e)?xh(e,t,n,r,o,s):I1(e,t,l,n,r,o,s);if(!(n&D1)){var h=u&&Gu.call(e,"__wrapped__"),y=d&&Gu.call(t,"__wrapped__");if(h||y){var E=h?e.value():e,w=y?t.value():t;return s||(s=new Vn),o(E,w,n,r,s)}}return f?(s||(s=new Vn),k1(e,t,n,r,o,s)):!1}function Lh(e,t,n,r,o){return e===t?!0:e==null||t==null||!mr(e)&&!mr(t)?e!==e&&t!==t:L1(e,t,n,r,Lh,o)}function R1(e){return function(t,n,r){for(var o=-1,s=Object(t),i=r(t),a=i.length;a--;){var l=i[e?a:++o];if(n(s[l],l,s)===!1)break}return t}}var F1=R1();const j1=F1;var V1=function(){return sn.Date.now()};const Zi=V1;var U1="Expected a function",z1=Math.max,B1=Math.min;function K1(e,t,n){var r,o,s,i,a,l,c=0,u=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(U1);t=Zs(t)||0,Tn(n)&&(u=!!n.leading,d="maxWait"in n,s=d?z1(Zs(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function h(m){var C=r,O=o;return r=o=void 0,c=m,i=e.apply(O,C),i}function y(m){return c=m,a=setTimeout(p,t),u?h(m):i}function E(m){var C=m-l,O=m-c,L=t-C;return d?B1(L,s-O):L}function w(m){var C=m-l,O=m-c;return l===void 0||C>=t||C<0||d&&O>=s}function p(){var m=Zi();if(w(m))return v(m);a=setTimeout(p,E(m))}function v(m){return a=void 0,f&&r?h(m):(r=o=void 0,i)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function _(){return a===void 0?i:v(Zi())}function S(){var m=Zi(),C=w(m);if(r=arguments,o=this,l=m,C){if(a===void 0)return y(l);if(d)return clearTimeout(a),a=setTimeout(p,t),h(l)}return a===void 0&&(a=setTimeout(p,t)),i}return S.cancel=b,S.flush=_,S}function Ta(e,t,n){(n!==void 0&&!as(e[t],n)||n===void 0&&!(t in e))&&Ll(e,t,n)}function H1(e){return mr(e)&&_i(e)}function Ca(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Z1(e){return Gw(e,Ih(e))}function W1(e,t,n,r,o,s,i){var a=Ca(e,n),l=Ca(t,n),c=i.get(l);if(c){Ta(e,n,c);return}var u=s?s(a,l,n+"",e,t,i):void 0,d=u===void 0;if(d){var f=Ur(l),h=!f&&Ys(l),y=!f&&!h&&Fl(l);u=l,f||h||y?Ur(a)?u=a:H1(a)?u=Ow(a):h?(d=!1,u=zS(l,!0)):y?(d=!1,u=a1(l,!0)):u=[]:Ah(l)||Sa(l)?(u=a,Sa(a)?u=Z1(a):(!Tn(a)||xl(a))&&(u=l1(l))):d=!1}d&&(i.set(l,u),o(u,l,r,s,i),i.delete(l)),Ta(e,n,u)}function Ul(e,t,n,r,o){e!==t&&j1(t,function(s,i){if(o||(o=new Vn),Tn(s))W1(e,t,i,n,Ul,r,o);else{var a=r?r(Ca(e,i),s,i+"",e,t,o):void 0;a===void 0&&(a=s),Ta(e,i,a)}},Ih)}var Y1=Sh(function(e,t,n,r){Ul(e,t,n,r)});const G1=Y1;function J1(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function lr(e,t){return Lh(e,t)}var X1=Sh(function(e,t,n){Ul(e,t,n)});const Q1=X1;var q1=AS("round");const Ju=q1;var eP=1/0,tP=co&&1/Vl(new co([,-0]))[1]==eP?function(e){return new co(e)}:Cw;const nP=tP;var rP=200;function oP(e,t,n){var r=-1,o=Bw,s=e.length,i=!0,a=[],l=a;if(n)i=!1,o=J1;else if(s>=rP){var c=t?null:nP(e);if(c)return Vl(c);i=!1,o=Dh,l=new ts}else l=t?[]:a;e:for(;++r<s;){var u=e[r],d=t?t(u):u;if(u=n||u!==0?u:0,i&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),a.push(u)}else o(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function sP(e){return e&&e.length?oP(e):[]}var iP=Object.defineProperty,aP=Object.defineProperties,lP=Object.getOwnPropertyDescriptors,Xu=Object.getOwnPropertySymbols,cP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,Lt=Math.pow,Qu=(e,t,n)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,At=(e,t)=>{for(var n in t||(t={}))cP.call(t,n)&&Qu(e,n,t[n]);if(Xu)for(var n of Xu(t))uP.call(t,n)&&Qu(e,n,t[n]);return e},Si=(e,t)=>aP(e,lP(t)),wn=(e,t,n)=>new Promise((r,o)=>{var s=l=>{try{a(n.next(l))}catch(c){o(c)}},i=l=>{try{a(n.throw(l))}catch(c){o(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,i);a((n=n.apply(e,t)).next())});const dP=["paths","node-labels","nodes","focusring","edge-labels","edges","base","grid","background","root"];function sr(e){return Rn(e)?e:Kt(e)}function Ge(e,t="Parameter"){if(e==null)throw new Error(`${t} is null`);return e}const Rh=Symbol("containers");function fP(e){Wt(Rh,e)}function zl(){const e=Ge(zt(Rh),"containers");return{container:e.container,svg:e.svg,viewport:e.viewport,svgPanZoom:e.svgPanZoom}}class fe{static value(t,n){return t instanceof Function?t(n):t}static values(t,n){return Object.values(t).filter(r=>r instanceof Function).length===0?t:Object.fromEntries(Object.entries(t).map(([r,o])=>[r,o instanceof Function?o(n):o]))}}var Pe=(e=>(e.CENTER="center",e.NORTH="north",e.NORTH_EAST="north-east",e.EAST="east",e.SOUTH_EAST="south-east",e.SOUTH="south",e.SOUTH_WEST="south-west",e.WEST="west",e.NORTH_WEST="north-west",e))(Pe||{});function Wi(e){const t={};return Object.assign(t,e(t))}function qu(e,t,n){const r=fe.values(t.normal,e);return r.type=="circle"?{width:r.radius*2*n,height:r.radius*2*n}:{width:r.width*n,height:r.height*n}}function hP(e,t,n,r){const o=Math.abs(e.x-n.x)<t.width/2+r.width/2,s=Math.abs(e.y-n.y)<t.height/2+r.height/2;return o&&s}function ls(e,t){let n=0;return t===1||e===void 0||e==="none"?n=e??0:typeof e=="string"?n=e.split(/\s+/).map(r=>parseInt(r)*t).filter(r=>!isNaN(r)).join(" "):n=e*t,n&&n!=="0"?n:void 0}function Pi(e){let t=0;if(e===void 0||e==="none")t=0;else if(typeof e=="string"){const n=e.split(/\s+/).map(r=>parseInt(r)).filter(r=>!isNaN(r));n.length%2===0?t=n.reduce((r,o)=>r+o,0):t=n.reduce((r,o)=>r+o,0)*2}else t=e*2;return t}const ed=20;class pP{activate(t){const{nodePositions:n,nodes:r,configs:o,emitter:s,scale:i,svgPanZoom:a}=t,l=d=>{for(const[f,h]of Object.entries(d)){const y=this.getOrCreateNodePosition(n,f);this.setNodePosition(y,h)}},c=d=>{const f=d.filter(E=>!(E in n.value)),h=a.getViewArea(),y=i.value;for(const E of f){const w=r.value[E],p=qu(w,o.node,y),v=At({},h.center);for(;;){let _=!1;for(const[S,m]of Object.entries(n.value)){if(E===S)continue;const C=r.value[S];if(!C)continue;const O=qu(C,o.node,y);if(_=hP(v,p,m,O),_)break}if(_)v.x+=p.width+ed*y,v.x+p.width/2>h.box.right&&(v.x=h.center.x,v.y+=p.height+ed*y);else break}const b=this.getOrCreateNodePosition(n,E);this.setNodePosition(b,v)}};c(Object.keys(r.value));const u=De(()=>lr(new Set(Object.keys(r.value)),new Set(Object.keys(n.value))),d=>{d||c(Object.keys(r.value))});s.on("node:dragstart",l),s.on("node:pointermove",l),s.on("node:dragend",l),this.onDeactivate=()=>{u(),s.off("node:dragstart",l),s.off("node:pointermove",l),s.off("node:dragend",l)}}deactivate(){this.onDeactivate&&this.onDeactivate()}setNodePosition(t,n){t.value.x=Ju(n.x,3),t.value.y=Ju(n.y,3)}getOrCreateNodePosition(t,n){const r=Dn(t.value,n);return r.value||(r.value={x:0,y:0}),r}}function vP(){return{view:{scalingObjects:!1,panEnabled:!0,zoomEnabled:!0,minZoomLevel:.1,maxZoomLevel:64,doubleClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,boxSelectionEnabled:!1,autoPanAndZoomOnLoad:"center-content",autoPanOnResize:!0,layoutHandler:new pP,onSvgPanZoomInitialized:void 0,grid:{visible:!1,interval:10,thickIncrements:5,line:{color:"#e0e0e0",width:1,dasharray:1},thick:{color:"#cccccc",width:1,dasharray:0}},selection:{box:{color:"#0000ff20",strokeWidth:1,strokeColor:"#aaaaff",strokeDasharray:0},detector:e=>{const t=/Mac OS/.test(navigator.userAgent)?e.metaKey:e.ctrlKey;return e.type==="keydown"?t:!t}},builtInLayerOrder:[],onBeforeInitialDisplay:void 0},node:Wi(e=>({normal:{type:"circle",radius:16,width:32,height:32,borderRadius:4,color:"#4466cc",strokeWidth:0,strokeColor:"#000000",strokeDasharray:0},hover:{type:t=>fe.value(e.normal.type,t),radius:t=>{var n;return((n=fe.value(e.normal.radius,t))!=null?n:0)+2},width:t=>{var n;return((n=fe.value(e.normal.width,t))!=null?n:0)+2},height:t=>{var n;return((n=fe.value(e.normal.height,t))!=null?n:0)+2},borderRadius:t=>{var n;return(n=fe.value(e.normal.borderRadius,t))!=null?n:0},strokeWidth:t=>fe.value(e.normal.strokeWidth,t),strokeColor:t=>fe.value(e.normal.strokeColor,t),strokeDasharray:t=>fe.value(e.normal.strokeDasharray,t),color:"#3355bb"},selected:void 0,draggable:!0,selectable:!1,label:{visible:!0,fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,direction:Pe.SOUTH,directionAutoAdjustment:!1,text:"name",handleNodeEvents:!0},focusring:{visible:!0,width:4,padding:3,color:"#eebb00"},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0})),edge:Wi(e=>({normal:{width:2,color:"#4466cc",dasharray:0,linecap:"butt",animate:!1,animationSpeed:50},hover:{width:t=>fe.value(e.normal.width,t)+1,color:"#3355bb",dasharray:t=>fe.value(e.normal.dasharray,t),linecap:t=>fe.value(e.normal.linecap,t),animate:t=>fe.value(e.normal.animate,t),animationSpeed:t=>fe.value(e.normal.animationSpeed,t)},selected:{width:t=>fe.value(e.normal.width,t)+1,color:"#dd8800",dasharray:t=>{const n=fe.value(e.normal.width,t);return`${n*1.5} ${n*2}`},linecap:t=>fe.value(e.normal.linecap,t),animate:t=>fe.value(e.normal.animate,t),animationSpeed:t=>fe.value(e.normal.animationSpeed,t)},selectable:!1,gap:3,type:"straight",marker:{source:{type:"none",width:5,height:5,margin:-1,offset:0,units:"strokeWidth",color:null},target:{type:"none",width:5,height:5,margin:-1,offset:0,units:"strokeWidth",color:null}},margin:null,summarize:(t,n)=>n.edge.type=="curve"?!1:null,summarized:{label:{fontSize:10,lineHeight:1,color:"#4466cc"},shape:{type:"rect",radius:6,width:12,height:12,borderRadius:3,color:"#ffffff",strokeWidth:1,strokeColor:"#4466cc",strokeDasharray:void 0},stroke:{width:5,color:"#4466cc",dasharray:void 0,linecap:void 0,animate:!1,animationSpeed:50}},selfLoop:{radius:12,isClockwise:!0,offset:10,angle:270},keepOrder:"clock",label:{fontFamily:void 0,fontSize:11,lineHeight:1.1,color:"#000000",background:void 0,margin:4,padding:4},zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0}})),path:Wi(e=>({visible:!1,clickable:!1,hoverable:!1,curveInNode:!1,end:"centerOfNode",margin:0,path:Kt({width:6,color:t=>{const n=["#d5000088","#c5116288","#aa00ff88","#6200ea88","#304ffe88","#2962ff88","#0091ea88","#00b8d488","#00bfa588","#00c85388","#64dd1788","#aeea0088","#ffd60088","#ffab0088","#ff6d0088","#dd2c0088"],r=t.edges.map(o=>o.split("").reduce((s,i)=>(s=(s<<5)-s+i.charCodeAt(0),s&s),0)).reduce((o,s)=>o+s,0);return n[Math.abs(r)%n.length]},dasharray:void 0,linecap:"round",linejoin:"round",animate:!1,animationSpeed:50}),normal:{width:t=>fe.value(e.path.width,t),color:t=>fe.value(e.path.color,t),dasharray:t=>fe.value(e.path.dasharray,t),linecap:t=>fe.value(e.path.linecap,t),linejoin:t=>fe.value(e.path.linejoin,t),animate:t=>fe.value(e.path.animate,t),animationSpeed:t=>fe.value(e.path.animationSpeed,t)},hover:{width:t=>fe.value(e.normal.width,t)+2,color:t=>fe.value(e.normal.color,t),dasharray:t=>fe.value(e.normal.dasharray,t),linecap:t=>fe.value(e.normal.linecap,t),linejoin:t=>fe.value(e.normal.linejoin,t),animate:t=>fe.value(e.normal.animate,t),animationSpeed:t=>fe.value(e.normal.animationSpeed,t)},selected:{width:t=>fe.value(e.normal.width,t)+2,color:t=>fe.value(e.normal.color,t),dasharray:"6 12",linecap:t=>fe.value(e.normal.linecap,t),linejoin:t=>fe.value(e.normal.linejoin,t),animate:t=>fe.value(e.normal.animate,t),animationSpeed:t=>fe.value(e.normal.animationSpeed,t)},selectable:!1,zOrder:{enabled:!1,zIndex:0,bringToFrontOnHover:!0,bringToFrontOnSelected:!0},transition:void 0}))}}const Fh=Symbol("style");function mP(e,t){return Ah(e)?Q1(e,t):t}function gP(e){const t=Kt(vP()),n=Object.keys(t);for(const r of n)De(()=>e.value[r],()=>{G1(t[r],e.value[r]||{},mP)},{immediate:!0,deep:!0});return Wt(Fh,t),t}function $i(e){return Ge(zt(Fh),`Configs(${e})`)[e]}function yP(){return $i("view")}function Ti(){return $i("node")}function Ci(){return $i("edge")}function jh(){return $i("path")}let bP=1;function _P(){return bP++}function Ut(e){return Object.entries(e)}function Fs(e,t){const n=new Set(Object.keys(e));Ut(t).forEach(([r,o])=>{lr(e[r],o)||(e[r]=o),n.delete(r)}),n.forEach(r=>delete e[r])}function wP(e){return e instanceof Promise||e&&typeof e.then=="function"}function EP(e,t,n){const r=sr({edgeLayoutPoints:{},edgeGroups:{},summarizedEdges:{}});return Jt(()=>{const{edgeLayoutPoints:o,edgeGroups:s}=PP(n,e.value,t.value);Fs(r.edgeLayoutPoints,o),Fs(r.edgeGroups,s)}),Jt(()=>{const o={};for(const[s,{edges:i,groupWidth:a}]of Object.entries(r.edgeGroups)){let l=!1;if(a==0)l=!1;else if(n.edge.summarize instanceof Function){const c=n.edge.summarize(i,n);c===null?l=td(e.value,i,n,a):l=c}else n.edge.summarize?l=td(e.value,i,n,a):l=!1;r.edgeGroups[s].summarize=l,l&&Object.keys(i).forEach(c=>o[c]=!0)}Fs(r.summarizedEdges,o)}),r}function SP(e,t,n,r,o,s){return e?t?nd(e.edge,n,r,o,0,0,s):nd(e.edge,n,r,o,e.groupWidth,e.pointInGroup,s):{p1:{x:0,y:0},p2:{x:0,y:0}}}function PP(e,t,n){const r={},o={},s={};for(const[a,l]of Object.entries(n)){if(!(l.source in t&&l.target in t))continue;const c=[l.source,l.target].sort().join("<=>"),u=s[c]||{};u[a]=l,s[c]=u}const i=e.edge.gap instanceof Function?e.edge.gap:(a,l)=>e.edge.gap;for(const[a,l]of Object.entries(s)){const c=Object.keys(l).length;if(c==0)continue;const u=i(l,e),[d,f]=Object.entries(l)[0];if(c===1)r[d]={edge:f,pointInGroup:0,groupWidth:0},o[a]={edges:l,groupWidth:0,summarize:!1};else{let h=0;const y=Object.entries(l).map(([p,v])=>{let b=fe.value(e.edge.normal.width,v);return isNaN(+b)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",p,b),b=1),b/2}),E=Object.entries(l).map(([p,v],b)=>(b>0&&(h+=y[b-1]+u+y[b]),[p,v,h])),w=h;E.forEach(([p,v,b])=>{r[p]={edge:v,pointInGroup:b,groupWidth:w}}),o[a]={edges:l,groupWidth:w,summarize:!1}}}return{edgeLayoutPoints:r,edgeGroups:o}}function td(e,t,n,r){if(Object.entries(t).length===1)return!1;const o=Math.min(...Object.values(t).flatMap(s=>[e[s.source],e[s.target]]).filter(s=>s).map(s=>{const i=fe.values(n.node.normal,s);return i.type==="circle"?i.radius*2:Math.min(i.width,i.height)}));return r>o}function nd(e,t,n,r,o,s,i){var a,l,c,u,d,f,h,y;let E,w,p,v;return e.source<e.target?[E,w,p,v]=rd((a=t==null?void 0:t.x)!=null?a:0,(l=t==null?void 0:t.y)!=null?l:0,(c=n==null?void 0:n.x)!=null?c:0,(u=n==null?void 0:n.y)!=null?u:0,r,o,s,i):[p,v,E,w]=rd((d=n==null?void 0:n.x)!=null?d:0,(f=n==null?void 0:n.y)!=null?f:0,(h=t==null?void 0:t.x)!=null?h:0,(y=t==null?void 0:t.y)!=null?y:0,r,o,s,i),{p1:{x:E,y:w},p2:{x:p,y:v}}}function rd(e,t,n,r,o,s,i,a){const l=n-e,c=r-t;let u=(s/2-i)*o;if(u!==0&&a!=="clock"){const d=Math.atan2(r-t,n-e);if(a==="vertical"){const f=Math.PI/2;(d<-f||d>=f)&&(u*=-1)}else a==="horizontal"&&d<0&&(u*=-1)}if(l===0){const d=c<0?-1:1;return[e+u*d,t,n+u*d,r]}else if(c===0){const d=l<0?1:-1;return[e,t+u*d,n,r+u*d]}else{const d=-1/(c/l);c<0&&(u=-u);const f=u/Math.sqrt(1+Math.pow(d,2));return[e+f,t+f*d,n+f,r+f*d]}}function Vh(e,t,n){return n||(n={x:0,y:0}),n.x=e.x+t.x,n.y=e.y+t.y,n}function Bl(e,t,n){return n||(n={x:0,y:0}),n.x=e.x-t.x,n.y=e.y-t.y,n}function Uh(e,t,n){return n||(n={x:0,y:0}),n.x=e.x*t.x,n.y=e.y*t.y,n}function zh(e,t,n){return n||(n={x:0,y:0}),n.x=e.x*t,n.y=e.y*t,n}function Kl(e,t,n){return n||(n={x:0,y:0}),n.x=e.x/t.x,n.y=e.y/t.y,n}function Bh(e,t){return e.x*t.x+e.y*t.y}function Kh(e,t){return e.x*t.y-e.y*t.x}function Hl(e){return e.x*e.x+e.y*e.y}function Zl(e){return Math.sqrt(Hl(e))}function Wl(e,t){const n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Hh(e,t){return Math.sqrt(Wl(e,t))}function Zh(e,t){t||(t={x:0,y:0});const n=Zl(e);return n===0?(t.x=1,t.y=0):Kl(e,{x:n,y:n},t),t}function Js(e,t,n){n||(n={x:0,y:0});const r=e.x*Math.cos(t)-e.y*Math.sin(t),o=e.x*Math.sin(t)+e.y*Math.cos(t);return n.x=r,n.y=o,n}const $P=180/Math.PI;function TP(e){return e*$P}function Yl(e){return Math.atan2(e.y,e.x)}function Gl(e){return TP(Yl(e))}const CP=Object.freeze(Object.defineProperty({__proto__:null,add:Vh,angle:Yl,angleDegree:Gl,cross:Kh,distance:Hh,distanceSquared:Wl,divide:Kl,dot:Bh,length:Zl,lengthSquared:Hl,multiply:Uh,multiplyScalar:zh,normalize:Zh,rotate:Js,subtract:Bl},Symbol.toStringTag,{value:"Module"}));class Le{static fromArray(t){return new Le(t[0]||0,t[1]||0)}static fromObject(t){return new Le(t.x,t.y)}constructor(t,n){this.x=t,this.y=n}add(t){return Vh(this,t,this)}subtract(t){return Bl(this,t,this)}multiply(t){return Uh(this,t,this)}multiplyScalar(t){return zh(this,t,this)}divide(t){return Kl(this,t,this)}dot(t){return Bh(this,t)}cross(t){return Kh(this,t)}lengthSquared(){return Hl(this)}length(){return Zl(this)}distanceSquared(t){return Wl(this,t)}distance(t){return Hh(this,t)}normalize(){return Zh(this,this)}angle(){return Yl(this)}angleDegree(){return Gl(this)}rotate(t){return Js(this,t,this)}isEqualTo(t){return this.x===t.x&&this.y===t.y}clone(){return new Le(this.x,this.y)}toObject(){return{x:this.x,y:this.y}}toArray(){return[this.x,this.y]}}const dt=At({Vector2D:Le},CP);class st{constructor(t,n,r){this.source=t,this.target=n,this.v=r}static fromLinePosition(t){const n=Le.fromObject(t.p1),r=Le.fromObject(t.p2);return new st(n,r,uo(n,r))}static fromPositions(t,n){const r=Le.fromObject(t),o=Le.fromObject(n);return new st(r,o,uo(r,o))}static fromVectors(t,n){return new st(t,n,uo(t,n))}}function uo(e,t){return t.clone().subtract(e)}function OP(e){return[Le.fromObject(e.p1),Le.fromObject(e.p2)]}function IP(e){return new Le((e.p1.x+e.p2.x)/2,(e.p1.y+e.p2.y)/2)}function Xs(e,t){return{p1:e,p2:t}}function Oa(e,t,n){const r=st.fromLinePosition(e);return NP(r,t,n)}function NP(e,t,n){const r=e.v.clone().normalize(),o=e.source.clone().add(r.clone().multiplyScalar(t)),s=e.target.clone().subtract(r.clone().multiplyScalar(n));let i=o.toObject(),a=s.toObject();const l=uo(o,s);if(e.v.angle()*l.angle()<0){const c=new Le((i.x+a.x)/2,(i.y+a.y)/2),u=c.clone().add(r.multiplyScalar(.5));i=c.toObject(),a=u.toObject()}return{p1:i,p2:a}}function MP(e){return{p1:e.p2,p2:e.p1}}function No(e){const t=e.v.clone().normalize().rotate(Math.PI/2);return st.fromVectors(e.target,e.target.clone().add(t))}function Jl(e,t){const n=t.v.clone().normalize(),r=t.source,o=dt.subtract(e,r),s=n.dot(o);return r.clone().add(n.multiplyScalar(s))}function Oi(e,t,n,r){if(!(dt.lengthSquared(dt.subtract(t,n))-r*r<=Math.pow(1,-10)))return null;const o=st.fromVectors(e,t),s=Jl(n,o),i=dt.length(dt.subtract(s,n));if(r<i)return null;if(r===i)return s;const a=Math.sqrt(Lt(r,2)-Lt(i,2)),l=o.v.normalize().multiplyScalar(a);return s.subtract(l)}function AP(e,t,n,r,o){if(!(dt.lengthSquared(dt.subtract(t,n))-r*r<=Math.pow(1,-10)))return null;const s=st.fromVectors(e,t),i=Jl(n,s),a=dt.length(dt.subtract(i,n));if(r<a)return null;if(r===a)return i;const l=Math.sqrt(Lt(r,2)-Lt(a,2)),c=s.v.normalize().multiplyScalar(l),u=i.clone().add(c),d=i.clone().subtract(c),f=o.distance(u),h=o.distance(d);return Math.abs(f-h)<2?d:f<h?u:d}function Nr(e,t){const n=dt.subtract(t.source,e.source),r=e.v,o=t.v,s=dt.cross(n,r)/dt.cross(r,o);return t.source.clone().add(o.clone().multiplyScalar(s))}function ns(e,t,n,r,o){const s=e,i=n.clone().subtract(s),a=i.length(),l=t+r;if(l<a)return null;const c=Math.abs(t-r);if(a<c)return null;if(a===l){const S=i.clone().normalize(),m=e.clone().add(S.multiplyScalar(t));return o?m:[m,m]}if(a===c){const S=i.clone().normalize(),m=t>r,C=e.clone().add(S.multiplyScalar(m?t:-t));return o?C:[C,C]}const u=t,d=r,f=(Lt(a,2)+Lt(u,2)-Lt(d,2))/(2*a*u),h=u*f,y=Math.sqrt(Lt(u,2)-Lt(h,2)),E=i.clone().normalize(),w=new Le(-E.y,E.x),p=E.clone().multiplyScalar(h),v=w.clone().multiplyScalar(y),b=e.clone().add(p).add(v),_=e.clone().add(p).subtract(v);if(o){const S=b.distance(o),m=_.distance(o);return S<m?b:_}else return[b,_]}function od(e,t,n,r){const o=st.fromPositions(e,t),s=(n.width+n.strokeWidth)/2*r,i=(n.height+n.strokeWidth)/2*r,a=n.borderRadius>0?(n.borderRadius+n.strokeWidth/2)*r:0,l=(o.v.angle()-Math.PI/2)%Math.PI,c=Math.PI/2-l%Math.PI,u=i*Math.abs(Math.tan(l)),d=s*Math.abs(Math.tan(c)),f=u<=s-a,h=d<=i-a;if(f||h||a===0)return Math.sqrt(f?Lt(i,2)+Lt(u,2):Lt(s,2)+Lt(d,2));{const y=t.x-s+a,E=t.y-i+a,w=t.x+s-a,p=t.y+i-a,v=[new Le(y,E),new Le(w,E),new Le(w,p),new Le(y,p)],b=Math.floor((o.v.angleDegree()+360)%360/90),_=v[b],S=Oi(o.source,Jl(_,o),_,a);return S?uo(S,o.target).length():uo(_,o.target).length()+a}}function Wh(e,t,n,r,o){const s=st.fromLinePosition(e),i=s.v.clone().normalize(),a=r===0?s.source:s.source.clone().add(i.clone().multiplyScalar(r*o)),l=r===0?s.target:s.target.clone().subtract(i.clone().multiplyScalar(r*o)),c=(t.width/2+n)*o,u=new Le(-i.y,i.x).multiplyScalar(c);let d=dt.subtract(a,u),f=dt.add(a,u),h=dt.subtract(l,u),y=dt.add(l,u);const E=s.v.angleDegree();return(E<-90||E>=90)&&([d,f]=[f,d],[h,y]=[y,h]),{source:{above:d,below:f},target:{above:h,below:y}}}function kP(e,t,n,r){let o;n.type==="circle"?o=n.radius+n.strokeWidth/2:o=od(t,e,n,1);let s;return r.type==="circle"?s=r.radius+r.strokeWidth/2:s=od(e,t,r,1),[o,s]}function fr(e,t,n){const{x:r,y:o}=e,s=r-t.x,i=o-t.y;return{x:s*Math.cos(n)-i*Math.sin(n)+t.x,y:s*Math.sin(n)+i*Math.cos(n)+t.y}}function Ia(e){return e>0?-(Math.PI*2-e):Math.PI*2+e}function Na(e,t,n,r){const o=[],s=st.fromVectors(t,e),i=st.fromVectors(t,n);let a=fo(s,i);r*a<0&&(a=Ia(a));const l=Le.fromObject(fr(e,t,-a/2)),c=st.fromVectors(t,l),u=No(c),d=fo(s,c);let f=No(s);if(Math.abs(d)<Math.PI/2){const y=Nr(f,u);o.push(y)}else{const y=Le.fromObject(fr(l,t,d/2)),E=No(st.fromVectors(t,Le.fromObject(y))),w=Nr(f,E),p=Nr(E,u);o.push(w,y,p)}o.push(l);const h=fo(i,c);if(f=No(i),Math.abs(h)<Math.PI/2){const y=Nr(f,u);o.push(y)}else{const y=Le.fromObject(fr(l,t,h/2)),E=No(st.fromVectors(t,Le.fromObject(y))),w=Nr(u,E),p=Nr(E,f);o.push(w,y,p)}return o}function fo(e,t){return Math.atan2(e.v.y*t.v.x-e.v.x*t.v.y,e.v.x*t.v.x+e.v.y*t.v.y)}function DP(e,t,n){const r=e.x,o=e.y,s=t.x,i=t.y,a=n.x,l=n.y,c=r-s,u=o-i,d=a-s,f=l-i,h=(f*(c*(r+s)+u*(o+i))-u*(d*(a+s)+f*(l+i)))/(2*c*f-2*u*d),y=(-d*(c*(r+s)+u*(o+i))+c*(d*(a+s)+f*(l+i)))/(2*c*f-2*u*d),E=Math.sqrt(Math.pow(r-h,2)+Math.pow(o-y,2));return[new Le(h,y),E]}function oo(e){return e.type=="circle"?e.radius:Math.min(e.width,e.height)/2}function Yi(e,t,n,r,o,s,i){const a=Kt({});De(()=>new Set(Object.keys(e.value)),(c,u)=>{u||(u=new Set([]));for(const d of c)u.has(d)||xP(e,a,d,!1,t,o);for(const d of u)c.has(d)||(n.delete(d),r.delete(d),s==null||s(d,a[d]),delete a[d])},{immediate:!0}),De(()=>[...n],(c,u)=>{const d=u?c.filter(h=>!u.includes(h)):c,f=u?u.filter(h=>!c.includes(h)):[];d.forEach(h=>{const y=a[h];y&&!y.selected&&(y.selected=!0)}),f.forEach(h=>{const y=a[h];y&&y.selected&&(y.selected=!1)})},{immediate:!0}),De(()=>[...r],(c,u)=>{const d=c.filter(h=>!u.includes(h)),f=u.filter(h=>!c.includes(h));d.forEach(h=>{const y=a[h];y&&!y.hovered&&(y.hovered=!0)}),f.forEach(h=>{const y=a[h];y&&y.hovered&&(y.hovered=!1)})});const l=se(()=>{const c=i?i():Object.values(a);return t.zOrder.enabled?LP(c,t.zOrder,r,n):c});return{states:a,zOrderedList:l}}function xP(e,t,n,r,o,s){const i={id:n,selected:r,hovered:!1,selectable:se(()=>e.value[n]?fe.value(o.selectable,e.value[n]):M(i.selectable)),zIndex:se(()=>e.value[n]?fe.value(o.zOrder.zIndex,e.value[n]):M(i.zIndex))};t[n]=i,s(e,n,t[n])}function LP(e,t,n,r){return t.bringToFrontOnHover&&t.bringToFrontOnSelected?e.sort((o,s)=>{const i=n.has(o.id),a=n.has(s.id);if(i!=a)return i?1:-1;const l=r.has(o.id),c=r.has(s.id);return l!=c?l?1:-1:o.zIndex-s.zIndex}):t.bringToFrontOnHover?e.sort((o,s)=>{const i=n.has(o.id),a=n.has(s.id);return i!=a?i?1:-1:o.zIndex-s.zIndex}):t.bringToFrontOnSelected?e.sort((o,s)=>{const i=r.has(o.id),a=r.has(s.id);return i!=a?i?1:-1:o.zIndex-s.zIndex}):e.sort((o,s)=>o.zIndex-s.zIndex)}function RP(e){return typeof btoa===void 0?Buffer.from(e).toString("base64").replaceAll("=",""):btoa(e).replaceAll("=","")}function FP(){return{markers:Kt({}),referenceCount:{}}}function jP(e){const{markers:t,referenceCount:n}=e;function r(a,l){var c;const u=(c=n[a])!=null?c:0;n[a]=u+1,u||(t[a]=l)}function o(a){var l;const c=(l=n[a])!=null?l:0;c&&(c-1===0?(delete t[a],delete n[a]):n[a]=c-1)}function s(a){a&&o(a)}function i(a,l,c,u,d){if(a.type==="none"){s(c);return}if(a.type==="custom")return s(c),a.customId;const f=VP(a,l,u),h=UP(f,d);return h===c||(s(c),r(h,f)),h}return{makeMarker:i,clearMarker:s}}function VP(e,t,n){var r;return Si(At({},e),{color:(r=e.color)!=null?r:n,isSource:t})}function UP(e,t){const n=RP(e.color),r=e.isSource?"L":"R",o=e.units==="strokeWidth"?"rel":"abs";return`marker_${t}_${e.type}_${e.width}_${e.height}_${e.margin}_${e.offset}_${n}_${r}_${o}`}function Gi(e,t,n){return{objects:e,selected:t,hovered:n}}const Yh=Symbol("states"),zP={type:"none",width:0,height:0,margin:0,offset:0,units:"strokeWidth",color:null};function BP(e,t,n,r,o,s,i){const a=Kt({}),l=sr({});Jt(()=>{const b=Object.fromEntries(Object.keys(e.objects.value).map(_=>[_,{}]));Object.entries(t.objects.value).forEach(([_,S])=>{b!=null&&b[S.source]||(b[S.source]={}),b!=null&&b[S.target]||(b[S.target]={}),b[S.source][_]=S.target,b[S.target][_]=S.source}),Fs(l,b)});const{states:c,zOrderedList:u}=Yi(e.objects,r.node,e.selected,e.hovered,(b,_,S)=>{ZP(b,_,S,r.node,l,o)},(b,_)=>{const S=o.nodes;delete S[b]}),d=_P(),f=EP(e.objects,t.objects,r),h=be([]),{states:y,zOrderedList:E}=Yi(t.objects,r.edge,t.selected,t.hovered,(b,_,S)=>{YP(b,_,S,r.edge,s,c,f,o,i,d)},(b,_)=>{var S;(S=_.stopWatchHandle)==null||S.call(_)},()=>h.value);Jt(()=>{h.value=GP(f.edgeGroups,y)}),De(f.edgeGroups,b=>QP(a,f,r),{immediate:!0});const{states:w,zOrderedList:p}=Yi(n.objects,r.path,n.selected,n.hovered,(b,_,S)=>{const m=S;m.clickable=se(()=>b.value[_]?fe.value(r.path.clickable,b.value[_]):!1),m.hoverable=se(()=>b.value[_]?fe.value(r.path.hoverable,b.value[_]):!1),m.path=b.value[_],m.edges=se(()=>b.value[_].edges.map(C=>({edgeId:C,edge:t.objects.value[C]})).filter(C=>C.edge))}),v={nodeStates:c,edgeStates:y,edgeGroupStates:f,summarizedEdgeStates:a,pathStates:w,layouts:o,nodeZOrderedList:u,edgeZOrderedList:E,pathZOrderedList:p};return Wt(Yh,v),v}function KP(e){return e.summarized}function On(){return Ge(zt(Yh),"states")}function HP(e,t,n,r){return n&&r.hover?fe.values(r.hover,e):Gh(e,t,r)}function Gh(e,t,n){return t&&n.selected?fe.values(n.selected,e):fe.values(n.normal,e)}function ZP(e,t,n,r,o,s){n.shape=se(()=>e.value[t]?HP(e.value[t],n.selected,n.hovered,r):M(n.shape)),n.staticShape=se(()=>e.value[t]?Gh(e.value[t],n.selected,r):M(n.staticShape)),n.label=se(()=>e.value[t]?fe.values(r.label,e.value[t]):M(n.label)),n.labelText=se(()=>{var i,a;return r.label.text instanceof Function?M(n.label).text:e.value[t]?(a=(i=e.value[t])==null?void 0:i[M(n.label).text])!=null?a:"":M(n.labelText)}),n.draggable=se(()=>e.value[t]?fe.value(r.draggable,e.value[t]):M(n.draggable)),n.oppositeNodeIds=Dn(o,t),n.oppositeNodes=se(()=>Object.entries(n.oppositeNodeIds).reduce((i,a)=>{const[l,c]=a,u=s.nodes[c];return u&&(i[l]={nodeId:c,pos:At({},u)}),i},{}))}function WP(e,t,n,r){return t?fe.values(r.selected,e):n&&r.hover?fe.values(r.hover,e):fe.values(r.normal,e)}function sd(e){return e.type==="none"?zP:e}function YP(e,t,n,r,o,s,i,a,l,c){const{makeMarker:u,clearMarker:d}=jP(o);Object.assign(n,{origin:{p1:{x:0,y:0},p2:{x:0,y:0}},labelPosition:{p1:{x:0,y:0},p2:{x:0,y:0}},position:{p1:{x:0,y:0},p2:{x:0,y:0}}}),n.label=se(()=>e.value[t]?fe.values(r.label,e.value[t]):M(n.label));const f=se(()=>{const p=e.value[t],v=WP(p,n.selected,n.hovered,r);isNaN(+v.width)&&(console.warn("[v-network-graph] Edge width is invalid value. id=[%s] value=[%s]",t,v.width),v.width=1),(v.color===void 0||v.color===null)&&(console.warn("[v-network-graph] Edge color is invalid value. id=[%s] value=[%s]",t,v.color),v.color="#000000");let b=fe.value(r.normal.width,p);isNaN(+b)&&(b=1);const _=sd(fe.values(r.marker.source,[p,v])),S=sd(fe.values(r.marker.target,[p,v]));return{stroke:v,normalWidth:b,source:_,target:S}});n.line=f;const h=Dn(i.edgeLayoutPoints,t),y=Dn(i.summarizedEdges,t),E=Jt(()=>{var p,v,b,_,S,m,C;const O=e.value[t];if(!O)return;const L=(p=s[O.source])==null?void 0:p.staticShape,V=(v=s[O.target])==null?void 0:v.staticShape;if(!L||!V)return;const W=(b=a.nodes[O==null?void 0:O.source])!=null?b:{x:0,y:0},F=(_=a.nodes[O==null?void 0:O.target])!=null?_:{x:0,y:0},J=SP(h.value,(S=y.value)!=null?S:!1,W,F,l.value,r.keepOrder),[te,ae]=kP(W,F,L,V),ne=l.value;n.labelPosition=Oa(J,te*ne,ae*ne);let pe=0,ue=0;const Ve=f.value;if(Ve.source.type!=="none"){const x=Ve.source;pe=x.margin+x.width,x.units==="strokeWidth"&&(pe*=Ve.normalWidth)}if(Ve.target.type!=="none"){const x=Ve.target;ue=x.margin+x.width,x.units==="strokeWidth"&&(ue*=Ve.normalWidth)}r.margin&&(pe+=r.margin,ue+=r.margin);const re=!!r.margin||Ve.source.type!=="none"||Ve.target.type!=="none";if(O.source===O.target){n.origin=Xs(W,F);const x=fe.values(r.selfLoop,O),[Y,j]=XP(W,L,x,re,pe,ue,(C=(m=h.value)==null?void 0:m.pointInGroup)!=null?C:0,ne);n.position=Y,n.loop=j,n.curve=void 0;return}else n.loop=void 0;if(re&&(pe+=te,ue+=ae),r.type==="straight"||y.value)n.origin=J,n.curve=void 0,pe===0&&ue===0?n.position=n.origin:n.position=Oa(n.origin,pe*ne,ue*ne);else{n.origin=Xs(W,F);const x=h.value?h.value.groupWidth/2-h.value.pointInGroup:0,[Y,j]=JP(n.origin,J,x,pe*ne,ue*ne);n.position=Y,n.curve=j}}),w=Jt(()=>{e.value[t]&&(n.sourceMarkerId=u(f.value.source,!0,n.sourceMarkerId,f.value.stroke.color,c),n.targetMarkerId=u(f.value.target,!1,n.targetMarkerId,f.value.stroke.color,c))});n.stopWatchHandle=()=>{E(),w(),d(n.sourceMarkerId),d(n.targetMarkerId)}}function GP(e,t){return Object.entries(e).map(([n,r])=>{var o;return r.summarize?{id:(o=Object.keys(r.edges)[0])!=null?o:n,summarized:!0,key:n,group:r,zIndex:Object.keys(r.edges).map(s=>{var i,a;return(a=(i=t[s])==null?void 0:i.zIndex)!=null?a:0}).reduce((s,i)=>Math.max(s,i))}:Object.entries(r.edges).map(([s,i])=>{var a,l;return{id:s,summarized:!1,key:s,edge:i,zIndex:(l=(a=t[s])==null?void 0:a.zIndex)!=null?l:0}})}).flat()}function JP(e,t,n,r,o){const s=st.fromLinePosition(e),i=st.fromLinePosition(t),a=IP(t),[l,c]=DP(s.source,s.target,a);let u,d;if(n===0)return r===0&&o===0?u=e:u=Oa(e,r,o),[u,d];const f=st.fromVectors(l,a),h=fo(st.fromVectors(l,s.source),f);if(r===0&&o===0)u=e;else{let p=r/c,v=o/c;h>0&&(p*=-1,v*=-1),u=Xs(fr(s.source,l,p),fr(s.target,l,-v));let b=fo(st.fromVectors(l,s.source),st.fromVectors(l,s.target)),_=fo(st.fromPositions(l,u.p1),st.fromPositions(l,u.p2));if(h*b<0&&(b=Ia(b),h*_<0&&(_=Ia(_))),b*_<0){const S=a.clone().add(i.v.normalize().multiplyScalar(.5));return u=Xs(a,S),[u,d]}}const[y,E]=OP(u),w=Na(y,l,E,h).map(p=>p.toObject());return d={center:a,theta:h,circle:{center:l,radius:c},control:w},[u,d]}function XP(e,t,n,r,o,s,i,a){const l=a,c=(n.radius+i/2)*l,u=n.offset*l+c,d=(n.angle-90)*(Math.PI/180),f=Le.fromObject({x:e.x+u*Math.cos(d),y:e.y+u*Math.sin(d)}),h=n.isClockwise;let y,E;if(r){const v=ns(f,c,Le.fromObject(e),oo(t)*l);if(v){[y,E]=v;let b=1;if(h||([y,E]=[E,y],b=-1),o!==0||s!==0){const _=o*l/c*b,S=s*l/c*b;y=fr(y,f,_),E=fr(E,f,-S)}}}if(y===void 0||E===void 0){const v=Le.fromObject(e).subtract(f).normalize().multiplyScalar(c);let b=1*(Math.PI/180);h||(b*=-1),y=f.clone().add(Js(v,b)),E=f.clone().add(Js(v,-b))}const w=Le.fromObject(y).subtract(f).angleDegree(),p=(Le.fromObject(E).subtract(f).angleDegree()+360-w)%360>=180;return[{p1:y,p2:E},{center:f,radius:[c,c],isLargeArc:h?p:!p,isClockwise:h}]}function QP(e,t,n){const r=t.edgeGroups;Object.entries(r).filter(([o,s])=>s.summarize&&!(o in e)).forEach(([o,s])=>{const i={stroke:void 0};i.stroke=se(()=>fe.values(n.edge.summarized.stroke,s.edges)),e[o]=i}),Object.keys(e).forEach(o=>{var s;(s=t.edgeGroups[o])!=null&&s.summarize||delete e[o]})}class Uo{static valueOf(t){return Array.from(t.values())}}const qP=3,e$=6,Jh=500;function js(e){return e==="touch"?e$:qP}function Xl(e,t,n,r){let o=e.get(t);if(o)o.id!==n&&(o=void 0);else{const a=Array.from(e.entries()).find(([l,c])=>c.id===n);if(a){const[l,c]=a;e.delete(l),o=c}}let s,i;return[o,s,i]=Xh(o,r,n),e.set(t,o),[s,i]}function Xh(e,t,n){const r=Date.now();e&&r-e.lastTime<=Jh?(e.count++,e.lastTime=r):e={count:1,lastTime:r,id:n};const o={view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,button:t.button,buttons:t.buttons,detail:e.count};let s,i;return t instanceof PointerEvent?(Object.assign(o,{pointerId:t.pointerId,width:t.width,height:t.height,pressure:t.pressure,tangentialPressure:t.tangentialPressure,tiltX:t.tiltX,tiltY:t.tiltY,twist:t.twist,pointerType:t.pointerType,isPrimary:t.isPrimary}),s=new PointerEvent("click",o),e.count===2&&(i=new PointerEvent("dblclick",o))):(s=new MouseEvent("click",o),e.count===2&&(i=new MouseEvent("dblclick",o))),[e,s,i]}function Ql(e){const t=Date.now();Array.from(e.entries()).filter(([n,r])=>t-r.lastTime>Jh).map(([n,r])=>e.delete(n))}function t$(e,t,n,r,o,s,i){const a={pointers:new Map,follow:{followedPointerId:-1,nodeBasePositions:{}},hoveredNodesPre:new Set,clicks:new Map},l={pointermove:h,pointerup:E,pointercancel:y};function c(_){const S=a.follow.followedPointerId===_.pointerId,m=o.has(_.nodeId),C=!(_.pointerId in a.pointers);if(S&&C||S&&!m){const O=Uo.valueOf(a.pointers).find(L=>o.has(L.nodeId));if(!O){a.follow={followedPointerId:-1,nodeBasePositions:{}};return}_=O,a.follow.followedPointerId=_.pointerId}else{const O=a.pointers.get(a.follow.followedPointerId);if(!O){a.follow={followedPointerId:-1,nodeBasePositions:{}};return}_=O}if(S||m){const O=Uo.valueOf(a.pointers).map(L=>L.nodeId);a.follow.nodeBasePositions=Object.fromEntries(Array.from(o).filter(L=>!O.includes(L)).filter(L=>{var V;return(V=e[L])==null?void 0:V.draggable}).map(L=>[L,Ji(t.nodes,L)])),_.dragBasePosition=At({},_.latestPosition),_.nodeBasePosition=Ji(t.nodes,_.nodeId)}}De(o,_=>{const S=a.pointers.get(a.follow.followedPointerId);S&&c(S),_.size>0&&n.selectionMode.value!=="node"?n.selectionMode.value="node":_.size===0&&n.selectionMode.value==="node"&&(n.selectionMode.value="container")}),De(n.selectionMode,_=>{_!=="node"&&o.clear()});function u(_,S){const m=_.dragBasePosition.x-S.pageX,C=_.dragBasePosition.y-S.pageY,O=a.follow.followedPointerId==_.pointerId?At({[_.nodeId]:_.nodeBasePosition},a.follow.nodeBasePositions):{[_.nodeId]:_.nodeBasePosition},L=s.value;return Object.fromEntries(Object.entries(O).map(([V,W])=>[V,{x:W.x-m/L,y:W.y-C/L}]))}function d(_,S){var m,C;if(S.isTrusted||S.shiftKey&&!["container","node"].includes(n.selectionMode.value))return;n.selectionMode.value="node";const O=(C=(m=e[_])==null?void 0:m.selectable)!=null?C:!1;if(O){const L=Uo.valueOf(a.pointers).filter(V=>o.has(V.nodeId)).length>0;S.shiftKey||L?o.has(_)?o.delete(_):typeof O=="number"&&o.size>=O||o.add(_):o.has(_)||(o.clear(),o.add(_))}i.emit("node:click",{node:_,event:S})}function f(_,S){S.isTrusted||i.emit("node:dblclick",{node:_,event:S})}function h(_){var S;_.stopPropagation();const m=a.pointers.get(_.pointerId);if(!m)return;m.latestPosition={x:_.pageX,y:_.pageY},m.moveCounter++;const C=js(_.pointerType);if(m.moveCounter<=C||!((S=e[m.nodeId])!=null&&S.draggable))return;if(m.moveCounter===C+1){const L=u(m,{pointerId:m.pointerId,pageX:m.dragBasePosition.x,pageY:m.dragBasePosition.y});i.emit("node:dragstart",L)}const O=u(m,_);i.emit("node:pointermove",O)}function y(_){_.stopPropagation();let S=a.pointers.get(_.pointerId);if(S){for(S of a.pointers.values()){const m=S.nodeId,C=js(_.pointerType);if(S.moveCounter>C){const O=u(S,{pointerId:S.pointerId,pageX:S.latestPosition.x,pageY:S.latestPosition.y});i.emit("node:dragend",O)}i.emit("node:pointerup",{node:m,event:_})}a.pointers.clear(),a.follow={followedPointerId:-1,nodeBasePositions:{}},Ut(l).forEach(([m,C])=>{document.removeEventListener(m,C)}),n.viewMode.value="default"}}function E(_){var S,m,C;_.stopPropagation();const O=a.pointers.get(_.pointerId);if(!O)return;a.pointers.delete(_.pointerId);const L=O.nodeId,V=js(_.pointerType),W=O.moveCounter>V;if(W){if((S=e[O.nodeId])!=null&&S.draggable){const F=u(O,_);i.emit("node:dragend",F),i.emit("node:pointerup",{node:L,event:_})}}else i.emit("node:pointerup",{node:L,event:_});if(!W){const[F,J]=Xl(a.clicks,O.pointerId,L,_);(m=O.eventTarget)==null||m.dispatchEvent(F),J&&((C=O.eventTarget)==null||C.dispatchEvent(J))}a.pointers.size===0?(a.follow={followedPointerId:-1,nodeBasePositions:{}},Ut(l).forEach(([F,J])=>{document.removeEventListener(F,J)}),Ql(a.clicks),n.viewMode.value="default"):c(O),r.clear(),a.hoveredNodesPre.forEach(r.add,r)}function w(_,S){if(S.button==2||(S.stopPropagation(),!["default","node"].includes(n.viewMode.value)))return;a.pointers.size==0&&(n.viewMode.value="node",Ut(l).forEach(([C,O])=>{document.addEventListener(C,O)}));const m={pointerId:S.pointerId,nodeId:_,moveCounter:0,nodeBasePosition:Ji(t.nodes,_),dragBasePosition:{x:S.pageX,y:S.pageY},latestPosition:{x:S.pageX,y:S.pageY},eventTarget:S.currentTarget};a.pointers.set(S.pointerId,m),o.has(_)&&(a.follow.followedPointerId<0?(a.follow.followedPointerId=S.pointerId,c(m)):delete a.follow.nodeBasePositions[m.nodeId]),i.emit("node:pointerdown",{node:_,event:S})}function p(_,S){a.hoveredNodesPre.add(_),!(a.pointers.size>0)&&(r.add(_),i.emit("node:pointerover",{node:_,event:S}))}function v(_,S){a.hoveredNodesPre.delete(_),!(a.pointers.size>0)&&(r.delete(_),i.emit("node:pointerout",{node:_,event:S}))}function b(_,S){S.stopPropagation(),i.emit("node:contextmenu",{node:_,event:S})}return{handleNodePointerDownEvent:w,handleNodePointerOverEvent:p,handleNodePointerOutEvent:v,handleNodeClickEvent:d,handleNodeDoubleClickEvent:f,handleNodeContextMenu:b}}function Ji(e,t){var n;const r=(n=e[t])!=null?n:{x:0,y:0};return At({},r)}function n$(e,t,n,r,o){const s={pointers:new Map,pointerPeekCount:0,clicks:new Map},i={pointerup:l,pointercancel:c};De(r,S=>{S.size>0&&t.selectionMode.value!=="edge"?t.selectionMode.value="edge":S.size===0&&t.selectionMode.value==="edge"&&(t.selectionMode.value="container")}),De(t.selectionMode,S=>{S!=="edge"&&r.clear()});function a(S,m){if(m.button==2||(m.stopPropagation(),!["default","edge"].includes(t.viewMode.value)))return;s.pointers.size==0&&(t.viewMode.value="edge",Ut(i).forEach(([O,L])=>{document.addEventListener(O,L)}),s.pointerPeekCount=0),s.pointerPeekCount++;const C={pointerId:m.pointerId,id:S,eventTarget:m.currentTarget};s.pointers.set(m.pointerId,C),o.emit("edge:pointerdown",en(S,m))}function l(S){var m,C;S.stopPropagation();const O=s.pointers.get(S.pointerId);if(!O)return;s.pointers.delete(S.pointerId);const L=O.id;o.emit("edge:pointerup",en(L,S));const[V,W]=Xl(s.clicks,O.pointerId,L instanceof Array?L.join(","):L,S);(m=O.eventTarget)==null||m.dispatchEvent(V),W&&((C=O.eventTarget)==null||C.dispatchEvent(W)),s.pointers.size===0&&(s.pointerPeekCount=0,Ut(i).forEach(([F,J])=>{document.removeEventListener(F,J)}),Ql(s.clicks),t.viewMode.value="default")}function c(S){if(S.stopPropagation(),!!s.pointers.get(S.pointerId)){for(const m of s.pointers.values()){const C=m.id;o.emit("edge:pointerup",en(C,S))}s.pointers.clear(),s.pointerPeekCount=0,Ut(i).forEach(([m,C])=>{document.removeEventListener(m,C)}),o.emit("view:mode","default")}}function u(S,m){var C;if(m.isTrusted||m.shiftKey&&!["container","edge"].includes(t.selectionMode.value))return;t.selectionMode.value="edge";const O=S instanceof Array?S:[S],L=Uo.valueOf(s.pointers).filter(V=>(V.id instanceof Array?V.id:[V.id]).every(W=>r.has(W))).length>0;if(S instanceof Array)O.find(V=>{var W;return(W=e[V])==null?void 0:W.selectable})&&(m.shiftKey||L?O.some(V=>r.has(V))?O.forEach(V=>r.delete(V)):O.forEach(V=>{var W;const F=(W=e[V])==null?void 0:W.selectable;typeof F=="number"&&r.size>=F||r.add(V)}):(r.clear(),O.forEach(V=>r.add(V))));else{const V=(C=e[S])==null?void 0:C.selectable;V&&(m.shiftKey||L?r.has(S)?r.delete(S):typeof V=="number"&&r.size>=V||r.add(S):r.has(S)||(r.clear(),r.add(S)))}o.emit("edge:click",en(S,m))}function d(S,m){m.isTrusted||o.emit("edge:dblclick",en(S,m))}function f(S,m){n.add(S),o.emit("edge:pointerover",en(S,m))}function h(S,m){n.delete(S),o.emit("edge:pointerout",en(S,m))}function y(S,m){m.stopPropagation(),o.emit("edge:contextmenu",en(S,m))}function E(S,m){if(m.button==2||(m.stopPropagation(),!["default","edge"].includes(t.viewMode.value)))return;s.pointers.size==0&&(t.viewMode.value="edge",Ut(i).forEach(([O,L])=>{document.addEventListener(O,L)}),s.pointerPeekCount=0),s.pointerPeekCount++;const C={pointerId:m.pointerId,id:S,eventTarget:m.currentTarget};s.pointers.set(m.pointerId,C),o.emit("edge:pointerdown",en(S,m))}function w(S,m){S.forEach(C=>n.add(C)),o.emit("edge:pointerover",en(S,m))}function p(S,m){S.forEach(C=>n.delete(C)),o.emit("edge:pointerout",en(S,m))}function v(S,m){u(S,m)}function b(S,m){d(S,m)}function _(S,m){m.stopPropagation(),o.emit("edge:contextmenu",en(S,m))}return{handleEdgePointerDownEvent:a,handleEdgePointerOverEvent:f,handleEdgePointerOutEvent:h,handleEdgeClickEvent:u,handleEdgeDoubleClickEvent:d,handleEdgeContextMenu:y,handleEdgesPointerDownEvent:E,handleEdgesPointerOverEvent:w,handleEdgesPointerOutEvent:p,handleEdgesClickEvent:v,handleEdgesDoubleClickEvent:b,handleEdgesContextMenu:_}}function en(e,t){return e instanceof Array?{edges:e,event:t,summarized:!0}:{edge:e,edges:[e],event:t,summarized:!1}}function r$(e,t,n,r){const o={moveCounter:0,pointerCounter:0,clickState:void 0},s={pointermove:a,pointerup:l,pointercancel:l};function i(h){o.moveCounter=0,o.pointerCounter===0&&Ut(s).forEach(([y,E])=>{document.addEventListener(y,E,{passive:!0})}),o.pointerCounter++}function a(h){o.moveCounter++}function l(h){if(o.pointerCounter--,o.pointerCounter<=0){o.pointerCounter=0,Ut(s).forEach(([E,w])=>{document.removeEventListener(E,w)});const y=js(h.pointerType);if(o.moveCounter<=y){if(h.shiftKey&&t.selectionMode.value!=="container")return;t.selectionMode.value="container";const[E,w,p]=Xh(o.clickState,h,"view");o.clickState=E,e.value.dispatchEvent(w),p&&e.value.dispatchEvent(p)}}}function c(h){h.isTrusted||(h.stopPropagation(),r.emit("view:click",{event:h}))}function u(h){h.isTrusted||(h.stopPropagation(),r.emit("view:dblclick",{event:h}))}function d(h){r.emit("view:contextmenu",{event:h}),o.pointerCounter>0&&(o.pointerCounter=0,Ut(s).forEach(([y,E])=>{var w;(w=e.value)==null||w.removeEventListener(y,E)}))}const f=h=>{h.preventDefault()};Cn(()=>{const h=e.value;h&&(h.addEventListener("pointerdown",i,{passive:!0}),h.addEventListener("click",c,{passive:!1}),h.addEventListener("dblclick",u,{passive:!1}),h.addEventListener("contextmenu",d,{passive:!1}),n.value&&h.addEventListener("wheel",f,{passive:!1}))}),gr(()=>{const h=e.value;h&&(h.removeEventListener("pointerdown",i),h.removeEventListener("click",c),h.removeEventListener("dblclick",u),h.removeEventListener("contextmenu",d),n.value&&h.removeEventListener("wheel",f))}),De(n,(h,y)=>{const E=e.value;!E||h===y||(h?E.addEventListener("wheel",f,{passive:!1}):E.removeEventListener("wheel",f))})}function o$(e,t,n,r,o,s){const i={pointers:new Map,pointerPeekCount:0,clicks:new Map};function a(p,v){var b,_;return o.value?{path:(_=(b=e[p])==null?void 0:b.path)!=null?_:p,event:v}:{path:p,event:v}}const l={pointerup:u,pointercancel:d};De(r,p=>{p.size>0&&t.selectionMode.value!=="path"?t.selectionMode.value="path":p.size===0&&t.selectionMode.value==="path"&&(t.selectionMode.value="container")}),De(t.selectionMode,p=>{p!=="path"&&r.clear()});function c(p,v){var b;if(!((b=e[p])!=null&&b.clickable)||v.button==2||(v.stopPropagation(),!["default","path"].includes(t.viewMode.value)))return;i.pointers.size==0&&(t.viewMode.value="path",Ut(l).forEach(([S,m])=>{document.addEventListener(S,m)}),i.pointerPeekCount=0),i.pointerPeekCount++;const _={pointerId:v.pointerId,id:p,eventTarget:v.currentTarget};i.pointers.set(v.pointerId,_),s.emit("path:pointerdown",a(p,v))}function u(p){var v,b;const _=i.pointers.get(p.pointerId);if(!_)return;p.stopPropagation(),i.pointers.delete(p.pointerId);const S=_.id;s.emit("path:pointerup",a(S,p));const[m,C]=Xl(i.clicks,_.pointerId,S,p);(v=_.eventTarget)==null||v.dispatchEvent(m),C&&((b=_.eventTarget)==null||b.dispatchEvent(C)),i.pointers.size===0&&(i.pointerPeekCount=0,Ut(l).forEach(([O,L])=>{document.removeEventListener(O,L)}),Ql(i.clicks),t.viewMode.value="default")}function d(p){if(i.pointers.get(p.pointerId)){p.stopPropagation();for(const v of i.pointers.values()){const b=v.id;s.emit("path:pointerup",a(b,p))}i.pointers.clear(),i.pointerPeekCount=0,Ut(l).forEach(([v,b])=>{document.removeEventListener(v,b)}),s.emit("view:mode","default")}}function f(p,v){var b;(b=e[p])!=null&&b.hoverable&&(n.add(p),s.emit("path:pointerover",a(p,v)))}function h(p,v){var b;(b=e[p])!=null&&b.hoverable&&(n.delete(p),s.emit("path:pointerout",a(p,v)))}function y(p,v){var b,_,S;if(v.isTrusted||!((b=e[p])!=null&&b.clickable)||v.shiftKey&&!["container","path"].includes(t.selectionMode.value))return;t.selectionMode.value="path";const m=(S=(_=e[p])==null?void 0:_.selectable)!=null?S:!1;if(m){const C=Uo.valueOf(i.pointers).filter(O=>r.has(O.id)).length>0;v.shiftKey||C?r.has(p)?r.delete(p):typeof m=="number"&&r.size>=m||r.add(p):r.has(p)||(r.clear(),r.add(p))}s.emit("path:click",a(p,v))}function E(p,v){var b;v.isTrusted||(b=e[p])!=null&&b.clickable&&s.emit("path:dblclick",a(p,v))}function w(p,v){var b;(b=e[p])!=null&&b.clickable&&(v.stopPropagation(),s.emit("path:contextmenu",a(p,v)))}return{handlePathPointerDownEvent:c,handlePathPointerOverEvent:f,handlePathPointerOutEvent:h,handlePathClickEvent:y,handlePathDoubleClickEvent:E,handlePathContextMenu:w}}function s$(e){return wn(this,null,function*(){const t=yield(yield fetch(e)).blob();return new Promise((n,r)=>{try{const o=new FileReader;o.onload=function(){n(this.result)},o.readAsDataURL(t)}catch(o){r(o)}})})}function Ma(e,t,n){var r;const o=e.createSVGPoint();o.x=n.x,o.y=n.y;const s=o.matrixTransform((r=t.getCTM())==null?void 0:r.inverse());return{x:s.x,y:s.y}}function i$(e,t,n){const r=e.createSVGPoint();r.x=n.x,r.y=n.y;const o=r.matrixTransform(t.getCTM());return{x:o.x,y:o.y}}function Qh(e,t,n){var r;const o=e.cloneNode(!0),s=t.getBBox(),i=1/n,a={x:Math.floor((s.x-10)*i),y:Math.floor((s.y-10)*i),width:Math.ceil((s.width+20)*i),height:Math.ceil((s.height+20)*i)};o.setAttribute("width",a.width.toString()),o.setAttribute("height",a.height.toString());const l=o.querySelector(".v-ng-viewport");l.setAttribute("transform",`translate(${-a.x} ${-a.y}), scale(${i})`),l.removeAttribute("style"),o.setAttribute("viewBox",`0 0 ${a.width} ${a.height}`),o.removeAttribute("style");const c=document.createNodeIterator(o,NodeFilter.SHOW_COMMENT);for(;c.nextNode();){const u=c.referenceNode;(r=u.parentNode)==null||r.removeChild(u)}return o}function a$(e){return wn(this,null,function*(){let t=!1,n=e.getAttribute("href");if(n||(t=!0,n=e.getAttribute("xlink:href")),!(!n||n.startsWith("data:")))try{const r=yield s$(n);e.setAttribute(t?"xlink:href":"href",r)}catch{console.warn("Image download failed.",n);return}})}function l$(e,t,n){return wn(this,arguments,function*(r,o,s,i={}){const a=Qh(r,o,s);if(i.embedImages){const l=Array.from(a.querySelectorAll("image")).map(c=>a$(c));yield Promise.all(l)}return a})}function c$(e,t,n,r,o,s){const i=se(()=>!!s.node.selectable&&s.view.boxSelectionEnabled),a=se(()=>t.viewMode.value==="box-selection"),l=be(),c=be(),u={pointers:new Set,points:new Map,startPoint:null,selectedNodesAtSelectStarted:new Set,selectionType:"append",options:{stopTrigger:"pointerup",selectionType:"append",selectionTypeWithShiftKey:"same"}},d=K1(()=>{u$(Ge(e.value,"container"),Ge(l.value,"viewport"),c,n.nodes,r,o,u.selectedNodesAtSelectStarted,u.selectionType)},50,{maxWait:100}),f=new d$(e,y,E,w,h,p);function h(m){if(u.options.stopTrigger!=="click"||u.pointers.size>0)return;const C={x:m.offsetX,y:m.offsetY};u.startPoint&&Le.fromObject(u.startPoint).distance(C)>10||S()}function y(m){m.stopPropagation();const C={x:m.offsetX,y:m.offsetY};u.pointers.size===0&&(u.startPoint=C,f.activate(),u.selectedNodesAtSelectStarted.clear(),o.forEach(O=>u.selectedNodesAtSelectStarted.add(O)),u.options.selectionTypeWithShiftKey==="same"?u.selectionType=u.options.selectionType:u.selectionType=m.shiftKey?u.options.selectionTypeWithShiftKey:u.options.selectionType),u.pointers.has(m.pointerId)||u.pointers.add(m.pointerId),u.points.set(m.pointerId,C),v()}function E(m){if(u.pointers.delete(m.pointerId),u.pointers.size===1){const C=Ge(e.value).getBoundingClientRect(),O={x:m.x-C.x,y:m.y-C.y};u.startPoint=O}else u.pointers.size===0&&(f.deactivate(),u.options.stopTrigger==="pointerup"&&S(),u.selectedNodesAtSelectStarted.clear());v()}function w(m){const C=Ge(e.value).getBoundingClientRect(),O={x:m.x-C.x,y:m.y-C.y};u.points.set(m.pointerId,O),v(),d()}function p(m){m.key==="Escape"&&u.options.stopTrigger!=="manual"&&(m.stopPropagation(),S())}function v(){let m,C;const O=Array.from(u.pointers);if(O.length>=2){const L=O[0],V=O[O.length-1];m=u.points.get(L),C=u.points.get(V)}else if(u.startPoint&&O.length===1){const L=O[0];m=u.startPoint,C=u.points.get(L)}else m=void 0,C=void 0;m&&C?(c.value={pos:{x:Math.min(m.x,C.x),y:Math.min(m.y,C.y)},size:{width:Math.abs(C.x-m.x),height:Math.abs(C.y-m.y)}},c.value.size.width===0&&(c.value.size.width=1),c.value.size.height===0&&(c.value.size.height=1)):c.value&&(c.value=void 0)}const b=new f$(e,m=>{i.value&&s.view.selection.detector(m)&&(_({stop:"manual",type:"append",withShiftKey:"invert"}),b.activate())},m=>{i.value&&s.view.selection.detector(m)&&(u.pointers.size===0?S():u.options.stopTrigger="pointerup",b.deactivate())});De(i,m=>{m?b.register():b.unregister()}),Cn(()=>{var m;l.value=(m=e.value)==null?void 0:m.querySelector(".v-ng-viewport"),i.value&&b.register()}),gr(()=>{S(),i.value&&b.unregister()});function _(m={}){var C,O,L;u.options={stopTrigger:(C=m.stop)!=null?C:"pointerup",selectionType:(O=m.type)!=null?O:"append",selectionTypeWithShiftKey:(L=m.withShiftKey)!=null?L:"same"},t.viewMode.value!=="box-selection"&&(t.viewMode.value="box-selection",u.pointers.clear(),f.register())}function S(){t.viewMode.value==="box-selection"&&(t.viewMode.value="default",f.unregister())}return{isBoxSelectionMode:a,selectionBox:c,startBoxSelection:_,stopBoxSelection:S}}function u$(e,t,n,r,o,s,i,a){if(!n.value)return;const l=n.value,c=Ma(e,t,l.pos),u=Ma(e,t,{x:l.pos.x+l.size.width,y:l.pos.y+l.size.height}),d=new Set(Object.entries(r).filter(([f,h])=>c.x<=h.x&&h.x<=u.x&&c.y<=h.y&&h.y<=u.y).map(([f,h])=>f));if(a==="append")s.forEach(f=>{d.has(f)||s.delete(f)}),d.forEach(f=>{var h,y;const E=(y=(h=o[f])==null?void 0:h.selectable)!=null?y:!1;(E===!0||typeof E=="number"&&s.size<E)&&s.add(f)});else{const f=new Set(i);f.forEach(h=>{d.has(h)&&f.delete(h)}),d.forEach(h=>{var y,E;if(!i.has(h)){const w=(E=(y=o[h])==null?void 0:y.selectable)!=null?E:!1;(w===!0||typeof w=="number"&&f.size<w)&&f.add(h)}}),s.clear(),f.forEach(h=>s.add(h))}}class d${constructor(t,n,r,o,s,i){this._container=t,this._handlePointerDownEvent=n,this._handlePointerUpEvent=r,this._handlePointerMoveEvent=o,this._handleClickEvent=s,this._handleKeyDownEvent=i,this._ignoreEvent=a=>a.stopPropagation()}register(){const t={capture:!0,passive:!1},n=Ge(this._container.value,"container");n.addEventListener("pointerdown",this._handlePointerDownEvent,t),n.addEventListener("click",this._handleClickEvent,t),n.addEventListener("pointerenter",this._ignoreEvent,t),n.addEventListener("pointerleave",this._ignoreEvent,t),document.addEventListener("keydown",this._handleKeyDownEvent,t)}activate(){const t={capture:!0,passive:!1};document.addEventListener("pointermove",this._handlePointerMoveEvent,t),document.addEventListener("pointerup",this._handlePointerUpEvent,t)}deactivate(){const t={capture:!0};document.removeEventListener("pointermove",this._handlePointerMoveEvent,t),document.removeEventListener("pointerup",this._handlePointerUpEvent,t)}unregister(){this.deactivate();const t={capture:!0};if(this._container.value){const n=this._container.value;n.removeEventListener("pointerdown",this._handlePointerDownEvent,t),n.removeEventListener("click",this._handleClickEvent,t),n.removeEventListener("pointerenter",this._ignoreEvent,t),n.removeEventListener("pointerleave",this._ignoreEvent,t),document.removeEventListener("keydown",this._handleKeyDownEvent,t)}}}class f${constructor(t,n,r){this._container=t,this._handleKeyDownEvent=n,this._handleKeyUpEvent=r,this._preventDefault=o=>{o.stopPropagation(),o.preventDefault()}}register(){document.addEventListener("keydown",this._handleKeyDownEvent,{capture:!0,passive:!0})}activate(){document.addEventListener("keyup",this._handleKeyUpEvent,{capture:!0,passive:!0}),Ge(this._container.value,"container").addEventListener("contextmenu",this._preventDefault,{passive:!1})}deactivate(){document.removeEventListener("keyup",this._handleKeyUpEvent,{capture:!0}),this._container.value&&this._container.value.removeEventListener("contextmenu",this._preventDefault)}unregister(){this.deactivate(),document.removeEventListener("keydown",this._handleKeyDownEvent,{capture:!0})}}const qh=Symbol("mouseEventHandlers");function h$(e,t,n,r,o,s,i,a,l,c,u,d,f,h,y,E){const w={selectionMode:be("container"),viewMode:be("default")};i.size>0?w.selectionMode.value="node":a.size>0?w.selectionMode.value="edge":l.size>0&&(w.selectionMode.value="path"),De(w.viewMode,v=>{E.emit("view:mode",v)}),r$(e,w,h,E);const p=At(At(At(At({selectedNodes:i,hoveredNodes:c,selectedEdges:a,hoveredEdges:u,selectedPaths:l,hoveredPaths:d},t$(r,t,w,c,i,n,E)),n$(o,w,u,a,E)),o$(s,w,d,l,f,E)),c$(e,w,t,r,i,y));return Wt(qh,p),p}function cs(){return Ge(zt(qh),"mouseEventHandlers")}function p$(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(o){o(n)}),(r=e.get("*"))&&r.slice().map(function(o){o(t,n)})}}}const ep=Symbol("emitter");function v$(){const e=p$();return Wt(ep,e),e}function m$(){return Ge(zt(ep),"event emitter")}var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ii={getGlobalThis:function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Qs<"u")return Qs;if(typeof this<"u")return this;throw new Error("Unable to locate global `this`")},extend:function(e,t){e=e||{};for(var n in t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isObject:function(e){return Object.prototype.toString.call(e)==="[object Object]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else if(typeof e=="string"||e instanceof String){if(t=document.querySelector(e),!t)throw new Error("Provided selector did not find any elements. Selector: "+e)}else throw new Error("Provided selector is not an HTML object nor String");if(t.tagName.toLowerCase()==="svg")n=t;else if(t.tagName.toLowerCase()==="object")n=t.contentDocument.documentElement;else if(t.tagName.toLowerCase()==="embed")n=t.getSVGDocument().documentElement;else throw t.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(e.clientX===void 0||e.clientX===null)if(e.clientX=0,e.clientY=0,e.touches!==void 0&&e.touches.length){if(e.touches[0].clientX!==void 0)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(e.touches[0].pageX!==void 0){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},touchNormalize:function(e,t,n){if(e.touches!==void 0&&e.touches.length){if(e.touches[n].clientX!==void 0)e.clientX=e.touches[n].clientX,e.clientY=e.touches[n].clientY;else if(e.touches[n].pageX!==void 0){var r=t.getBoundingClientRect();e.clientX=e.touches[n].pageX-r.left,e.clientY=e.touches[n].pageY-r.top}}else(e.clientX===void 0||e.clientX===null)&&(e.clientX=0,e.clientY=0,e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY))},isDblClick:function(e,t){if(e.detail===2)return!0;if(t!=null){var n=e.timeStamp-t.timeStamp,r=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&r<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(e,t,n){var r=this,o,s,i,a=null,l=0;n||(n={});var c=function(){l=n.leading===!1?0:r.now(),a=null,i=e.apply(o,s),a||(o=s=null)};return function(){var u=r.now();!l&&n.leading===!1&&(l=u);var d=t-(u-l);return o=this,s=arguments,d<=0||d>t?(clearTimeout(a),a=null,l=u,i=e.apply(o,s),a||(o=s=null)):!a&&n.trailing!==!1&&(a=setTimeout(c,d)),i}},createRequestAnimationFrame:function(e){var t=null;return e!=="auto"&&e<60&&e>1&&(t=Math.floor(1e3/e)),t===null?window.requestAnimationFrame||id(33):id(t)},calculateDistance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}};function id(e){return function(t){window.setTimeout(t,e)}}var y$=Ii,b$=function(){var e="",t,n,r,o=[],s={passive:!0},i={passive:!1};y$.getGlobalThis().addEventListener?(t="addEventListener",n="removeEventListener"):(t="attachEvent",n="detachEvent",e="on");function a(){return r||(r="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll"),r}function l(E,w){var p=function(v){!v&&(v=window.event);var b={originalEvent:v,target:v.target||v.srcElement,type:"wheel",deltaMode:v.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){v.preventDefault?v.preventDefault():v.returnValue=!1}};return a()=="mousewheel"?(b.deltaY=-.025*v.wheelDelta,v.wheelDeltaX&&(b.deltaX=-.025*v.wheelDeltaX)):b.deltaY=v.detail,w(b)};return o.push({element:E,fn:p}),p}function c(E){for(var w=0;w<o.length;w++)if(o[w].element===E)return o[w].fn;return function(){}}function u(E){for(var w=0;w<o.length;w++)if(o[w].element===E)return o.splice(w,1)}function d(E,w,p,v){var b;a()==="wheel"?b=p:b=l(E,p),E[t](e+w,b,v?s:i)}function f(E,w,p,v){var b;a()==="wheel"?b=p:b=c(E),E[n](e+w,b,v?s:i),u(E)}function h(E,w,p){d(E,a(),w,p),a()=="DOMMouseScroll"&&d(E,"MozMousePixelScroll",w,p)}function y(E,w,p){f(E,a(),w,p),a()=="DOMMouseScroll"&&f(E,"MozMousePixelScroll",w,p)}return{on:h,off:y}}(),Ps=Ii,tp="unknown";typeof document<"u"&&document.documentMode&&(tp="ie");var ql={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(Ps.isElement(t)?n=t:n=e.querySelector(t),!n){var r=Array.prototype.slice.call(e.childNodes||e.children).filter(function(l){return l.nodeName!=="defs"&&l.nodeName!=="#text"});r.length===1&&r[0].nodeName==="g"&&r[0].getAttribute("transform")===null&&(n=r[0])}if(!n){var o="viewport-"+new Date().toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",o);var s=e.childNodes||e.children;if(s&&s.length>0)for(var i=s.length;i>0;i--)s[s.length-i].nodeName!=="defs"&&n.appendChild(s[s.length-i]);e.appendChild(n)}var a=[];return n.getAttribute("class")&&(a=n.getAttribute("class").split(" ")),~a.indexOf("svg-pan-zoom_viewport")||(a.push("svg-pan-zoom_viewport"),n.setAttribute("class",a.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var t=e.getAttribute("style")||"";t.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:Ps.throttle(function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var r=e[n];r.parentNode.insertBefore(r,r)}},Qs?Qs.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var r=this,o="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",o),"transform"in e.style?e.style.transform=o:"-ms-transform"in e.style?e.style["-ms-transform"]=o:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=o),tp==="ie"&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){r.refreshDefsGlobal()},r.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return Ps.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getTouchPoint:function(e,t,n){var r=t.createSVGPoint();return Ps.touchNormalize(e,t,n),r.x=e.clientX,r.y=e.clientY,r},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var r=e.createSVGPoint();return r.x=t,r.y=n,r}},Ht=ql,_$={enable:function(e){var t=e.svg.querySelector("defs");t||(t=document.createElementNS(Ht.svgNS,"defs"),e.svg.appendChild(t));var n=t.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var r=document.createElementNS(Ht.svgNS,"style");r.setAttribute("id","svg-pan-zoom-controls-styles"),r.setAttribute("type","text/css"),r.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(r)}var o=document.createElementNS(Ht.svgNS,"g");o.setAttribute("id","svg-pan-zoom-controls"),o.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),o.setAttribute("class","svg-pan-zoom-control"),o.appendChild(this._createZoomIn(e)),o.appendChild(this._createZoomReset(e)),o.appendChild(this._createZoomOut(e)),e.svg.appendChild(o),e.controlIcons=o},_createZoomIn:function(e){var t=document.createElementNS(Ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(Ht.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ht.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomReset:function(e){var t=document.createElementNS(Ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().reset()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var n=document.createElementNS(Ht.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ht.svgNS,"path");r.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r);var o=document.createElementNS(Ht.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomOut:function(e){var t=document.createElementNS(Ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(Ht.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var r=document.createElementNS(Ht.svgNS,"path");return r.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}},w$=ql,hr=Ii,_t=function(e,t){this.init(e,t)};_t.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=hr.proxy(this.updateCTM,this),this.requestAnimationFrame=hr.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()};_t.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter(function(r){return r}).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=isFinite(n)?n:1,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};_t.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height};_t.prototype.getViewBox=function(){return hr.extend({},this.viewBox)};_t.prototype.processCTM=function(){var e=this.getCTM();if(this.options.fit||this.options.contain){var t;this.options.fit?t=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):t=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t=isFinite(t)?t:1,e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t}if(this.options.center){var n=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*e.a)*.5,r=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*e.a)*.5;e.e=n,e.f=r}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e};_t.prototype.getOriginalState=function(){return hr.extend({},this.originalState)};_t.prototype.getState=function(){return hr.extend({},this.activeState)};_t.prototype.getZoom=function(){return this.activeState.zoom};_t.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};_t.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom};_t.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};_t.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e};_t.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))===!1?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var r=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),o=!1,s=!1;r===!1?(e.e=this.getPan().x,e.f=this.getPan().y,o=s=!0):hr.isObject(r)&&(r.x===!1?(e.e=this.getPan().x,o=!0):hr.isNumber(r.x)&&(e.e=r.x),r.y===!1?(e.f=this.getPan().y,s=!0):hr.isNumber(r.y)&&(e.f=r.y)),o&&s||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}};_t.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a};_t.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f};_t.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f};_t.prototype.pendingUpdate=!1;_t.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};_t.prototype.updateCTM=function(){var e=this.getCTM();w$.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)};var E$=function(e,t){return new _t(e,t)},np=b$,Aa=_$,Vt=Ii,Ct=ql,S$=E$,Ye=function(e,t){this.init(e,t)},P$={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},rp={passive:!0},op={passive:!1};Ye.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),Ct.setupSvgAttributes(this.svg),this.options=Vt.extend(Vt.extend({},P$),t),this.state="none";var r=Ct.getBoundingClientRectNormalized(e);this.width=r.width,this.height=r.height,this.viewport=S$(Ct.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(s,i){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(s,i)},onZoom:function(s){if(n.viewport&&n.options.onZoom)return n.options.onZoom(s)},beforePan:function(s,i){if(n.viewport&&n.options.beforePan)return n.options.beforePan(s,i)},onPan:function(s){if(n.viewport&&n.options.onPan)return n.options.onPan(s)},onUpdatedCTM:function(s){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(s)}});var o=this.getPublicInstance();o.setBeforeZoom(this.options.beforeZoom),o.setOnZoom(this.options.onZoom),o.setBeforePan(this.options.beforePan),o.setOnPan(this.options.onPan),o.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&Aa.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};Ye.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={pointerdown:function(s){if(s.pointerType!=="touch"){var i=e.handleMouseDown(s,t);return t=s,i}},touchstart:function(s){var i=e.handleTouchStart(s,t);return t=s,i},pointerup:function(s){if(s.pointerType!=="touch")return e.handleMouseUp(s)},touchend:function(s){return e.handleTouchEnd(s)},pointermove:function(s){if(s.pointerType!=="touch")return e.handleMouseMove(s)},touchmove:function(s){return e.handleTouchMove(s)},pointerleave:function(s){if(s.pointerType!=="touch")return e.handleMouseUp(s)},pointercancel:function(s){if(s.pointerType!=="touch")return e.handleMouseUp(s)},touchleave:function(s){return e.handleTouchEnd(s)},touchcancel:function(s){return e.handleTouchEnd(s)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var r=n.length-1;r>=0;r--)this.eventListeners.hasOwnProperty(n[r])&&delete this.eventListeners[n[r]]}for(var o in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(o,this.eventListeners[o],this.options.preventMouseEventsDefault?op:rp);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};Ye.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(n){return e.handleMouseWheel(n)};var t=!this.options.preventMouseEventsDefault;np.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}};Ye.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;np.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}};Ye.prototype.handleMouseWheel=function(e){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,r=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&e.deltaMode===0&&e.wheelDelta&&(t=e.deltaY===0?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/r;var o=this.svg.getScreenCTM().inverse(),s=Ct.getEventPoint(e,this.svg).matrixTransform(o),i=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(i,s)}};Ye.prototype.zoomAtPoint=function(e,t,n){var r=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*r.zoom,Math.min(this.options.maxZoom*r.zoom,e)),e=e/this.getZoom()):this.getZoom()*e<this.options.minZoom*r.zoom?e=this.options.minZoom*r.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*r.zoom&&(e=this.options.maxZoom*r.zoom/this.getZoom());var o=this.viewport.getCTM(),s=t.matrixTransform(o.inverse()),i=this.svg.createSVGMatrix().translate(s.x,s.y).scale(e).translate(-s.x,-s.y),a=o.multiply(i);a.a!==o.a&&this.viewport.setCTM(a)};Ye.prototype.zoom=function(e,t){this.zoomAtPoint(e,Ct.getSvgCenterPoint(this.svg,this.width,this.height),t)};Ye.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)};Ye.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),Vt.getType(t)!=="SVGPoint")if("x"in t&&"y"in t)t=Ct.createSVGPoint(this.svg,t.x,t.y);else throw new Error("Given point is invalid");this.zoomAtPoint(e,t,n)};Ye.prototype.getZoom=function(){return this.viewport.getZoom()};Ye.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};Ye.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom};Ye.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)};Ye.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};Ye.prototype.reset=function(){this.resetZoom(),this.resetPan()};Ye.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var t=e.target.getAttribute("class")||"";if(t.indexOf("svg-pan-zoom-control")>-1)return!1}var n;e.shiftKey?n=1/((1+this.options.zoomScaleSensitivity)*2):n=(1+this.options.zoomScaleSensitivity)*2;var r=Ct.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,r)};Ye.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),Vt.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&Vt.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=Ct.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))};Ye.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var t=Ct.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}};Ye.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&(this.state="none")};Ye.prototype.handleTouchStart=function(e,t){if(e.touches.length==1)this.handleMouseDown(e,t);else{this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM();var n=Ct.getTouchPoint(e,this.svg,0),r=Ct.getTouchPoint(e,this.svg,1);this.firstDistance=Vt.calculateDistance(n,r),n.x=(n.x+r.x)/2,n.y=(n.y+r.y)/2,this.stateOrigin=n.matrixTransform(this.firstEventCTM.inverse()),this.firstZoomLevel=this.getZoom()}};Ye.prototype.handleTouchMove=function(e){if(e.touches.length==1)this.handleMouseMove(e);else{if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),!this.options.panEnabled&&!this.options.zoomEnabled)return;var t=Ct.getTouchPoint(e,this.svg,0),n=Ct.getTouchPoint(e,this.svg,1),r=this.svg.createSVGPoint();if(r.x=(t.x+n.x)/2,r.y=(t.y+n.y)/2,this.state==="pan"&&this.options.panEnabled){var o=r.matrixTransform(this.firstEventCTM.inverse()),s=this.firstEventCTM.translate(o.x-this.stateOrigin.x,o.y-this.stateOrigin.y);this.viewport.setCTM(s)}if(this.options.zoomEnabled){var i=Vt.calculateDistance(t,n),a=i/this.firstDistance,l=this.svg.getScreenCTM().inverse(),c=r.matrixTransform(l);this.zoomAtPoint(this.firstZoomLevel*a,c,!0)}}};Ye.prototype.handleTouchEnd=function(e){if(e.touches.length==0)this.handleMouseUp(e);else if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.firstEventCTM=this.viewport.getCTM(),e.touches.length==1)this.stateOrigin=Ct.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse());else{var t=Ct.getTouchPoint(e,this.svg,0),n=Ct.getTouchPoint(e,this.svg,1);this.firstDistance=Vt.calculateDistance(t,n),t.x=(t.x+n.x)/2,t.y=(t.y+n.y)/2,this.stateOrigin=t.matrixTransform(this.firstEventCTM.inverse())}};Ye.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)};Ye.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)};Ye.prototype.center=function(){var e=this.viewport.getViewBox(),t=(this.width-(e.width+e.x*2)*this.getZoom())*.5,n=(this.height-(e.height+e.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:t,y:n})};Ye.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};Ye.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)};Ye.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)};Ye.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}};Ye.prototype.resize=function(){var e=Ct.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};Ye.prototype.destroy=function(){var e=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var t in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],this.options.preventMouseEventsDefault?op:rp);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),or=or.filter(function(n){return n.svg!==e.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};Ye.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=t===null?null:Vt.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=t===null?null:Vt.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,Aa.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,Aa.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=t===null?null:Vt.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=t===null?null:Vt.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=t===null?null:Vt.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var or=[],$$=function(e,t){var n=Vt.getSvg(e);if(n===null)return null;for(var r=or.length-1;r>=0;r--)if(or[r].svg===n)return or[r].instance.getPublicInstance();return or.push({svg:n,instance:new Ye(n,t)}),or[or.length-1].instance.getPublicInstance()},T$=$$;const C$=g$(T$),O$={fitToContents(){return this.fit().center().zoomOut().zoomOut(),this},getViewArea(){const e=this.getSizes(),t=this.getPan(),n=e.realZoom;t.x/=n,t.y/=n;const r={width:e.width/n,height:e.height/n};return{box:{top:-t.y,bottom:r.height-t.y,left:-t.x,right:r.width-t.x},center:{x:r.width/2-t.x,y:r.height/2-t.y}}},getViewBox(){return this.getViewArea().box},setViewBox(e){const t=e.right-e.left,n=e.bottom-e.top,{width:r,height:o}=this.getSizes(),s=t/n,i=r/o,a=s<i?n*i:t,l=s>i?t/i:n,c=Math.min(r/a,o/l),u=this.getRealZoom(),d=this.getZoom(),f=u/d;this.zoom(c/f);const h={x:(e.left+t/2)*c,y:(e.top+n/2)*c};this.pan({x:-h.x+a/2*c,y:-h.y+l/2*c})},getRealZoom(){return this.getSizes().realZoom},applyAbsoluteZoomLevel(e,t,n){const r=Math.max(1e-4,t),o=Math.max(r,n),s=Math.max(Math.min(o,e),r),i=this.getRealZoom(),a=this.getZoom(),l=i/a;this.setMinZoom(r/l).setMaxZoom(o/l).zoom(s/l)},isPanEnabled(){return this._isPanEnabled},enablePan(){return this._isPanEnabled=!0,this._internalEnablePan(),this},disablePan(){return this._isPanEnabled=!1,this._internalDisablePan(),this},isZoomEnabled(){return this._isZoomEnabled},enableZoom(){return this._isZoomEnabled=!0,this._internalEnableZoom(),this},disableZoom(){return this._isZoomEnabled=!1,this._internalDisableZoom(),this},setPanEnabled(e){return e?this.enablePan():this.disablePan(),this},setZoomEnabled(e){return e?(this.enableZoom(),this.enableDblClickZoom()):(this.disableZoom(),this.disableDblClickZoom()),this}};function I$(e,t){var n,r;const o=e;return o._isPanEnabled=(n=t.panEnabled)!=null?n:!0,o._isZoomEnabled=(r=t==null?void 0:t.zoomEnabled)!=null?r:!0,o._internalIsPanEnabled=o.isPanEnabled,o._internalEnablePan=o.enablePan,o._internalDisablePan=o.disablePan,o._internalIsZoomEnabled=o.isZoomEnabled,o._internalEnableZoom=o.enableZoom,o._internalDisableZoom=o.disableZoom,Object.assign(e,O$),o}function N$(e,t){var n,r,o,s,i,a;const l=(r=(n=t.customEventsHandler)==null?void 0:n.init)!=null?r:d=>{},c=(s=(o=t.customEventsHandler)==null?void 0:o.destroy)!=null?s:d=>{},u=(a=(i=t.customEventsHandler)==null?void 0:i.haltEventListeners)!=null?a:[];return t.mouseWheelZoomEnabled===void 0&&(t.mouseWheelZoomEnabled=t.zoomEnabled),t.customEventsHandler={init:d=>{I$(d.instance,t),l(d)},destroy:d=>c(d),haltEventListeners:u},C$(e,t)}function M$(e,t){const n=be();let r=0;const o=[],s=[],i=()=>{r=1,o.forEach(l=>l()),o.length=0},a=()=>{r=2,s.forEach(l=>l()),s.length=0};return Cn(()=>{var l,c,u,d,f,h;const y=Ge(e.value,"<svg>"),E=(c=(l=t.customEventsHandler)==null?void 0:l.init)!=null?c:b=>{},w=(d=(u=t.customEventsHandler)==null?void 0:u.destroy)!=null?d:b=>{},p=(h=(f=t.customEventsHandler)==null?void 0:f.haltEventListeners)!=null?h:[];t.customEventsHandler={init:b=>{n.value=b.instance,E(b),i()},destroy:b=>{a(),w(b)},haltEventListeners:p};const v=()=>{const b=y.getBoundingClientRect();b.width!==0&&b.height!==0?N$(y,t):setTimeout(v,200)};v()}),gr(()=>{var l;(l=n.value)==null||l.destroy(),n.value=void 0}),{svgPanZoom:n,onSvgPanZoomMounted:l=>{r===0?o.push(l):r===1&&l()},onSvgPanZoomUnmounted:l=>{r===0||r===1?s.push(l):l()}}}const sp=Symbol("zoomLevel");function A$(e,t){const n=se(()=>t.scalingObjects?1:1/e.value);return Wt(sp,{zoomLevel:e,scale:n}),{scale:n}}function Xt(){return Ge(zt(sp),"zoomLevel")}function k$(e){return e instanceof Promise||e&&typeof e.then=="function"}function D$(){let e=null;const t=be({enabled:!1,duration:300,timingFunction:"linear"});function n(r,o=300,s="linear"){e&&(clearTimeout(e),e=null),t.value={enabled:!0,duration:o,timingFunction:s},rs(()=>wn(this,null,function*(){const i=r();k$(i)&&(yield i),e&&clearTimeout(e),e=window==null?void 0:window.setTimeout(()=>{t.value.enabled=!1,e=null},o)}))}return{transitionWhile:n,transitionOption:t}}function x$(e){const t=be({}),n=be(!1);let r=1;const o=new Map;return Jt(()=>{if(e.value instanceof Array){const s=new Set([]);if(t.value=Object.fromEntries(e.value.map(i=>{let a=i.id;return a||(n.value||(n.value=!0,console.warn("[v-network-graph] Please specify the `id` field for the `Path` object. Currently, this works for compatibility, but in the future, the id field will be required.")),a=o.get(i),a||(a="path-"+r++,o.set(i,a))),s.add(a),[a,i]})),n.value)for(const[i,a]of Array.from(o.entries()))s.has(a)||o.delete(i)}else t.value=e.value}),{objects:t,isInCompatibilityModeForPath:n}}function L$(e,t,n,r){if(r){const s=be(r(e[t])),i=a=>{lr(a,s.value)||(s.value=a),lr(a,e[t])||n(`update:${t}`,a)};return De(()=>r(s.value),i),De(()=>e[t],a=>i(r(a))),s.value!==e[t]&&n(`update:${t}`,s.value),s}const o=be(e[t]);return De(()=>e[t],s=>{lr(s,o.value)||(o.value=s)}),De(o,s=>{lr(s,e[t])||n(`update:${t}`,s)}),o}function Xi(e,t,n,r){const o=Kt(new Set);return De(()=>e[t],()=>{const s=e[t].filter(i=>i in n.value);lr(s,Array.from(o))||(o.clear(),s.forEach(o.add,o))},{deep:!0,immediate:!0}),De(o,()=>{const s=Array.from(o);lr(e[t],s)||r(`update:${t}`,s)}),sr(o)}const ip=Symbol("selection");function R$(e,t,n){Wt(ip,{selectedNodes:e,selectedEdges:t,selectedPaths:n})}function F$(){return Ge(zt(ip),"Selections")}const ap=Symbol("layouts");function j$(e){Wt(ap,e)}function ec(){return Ge(zt(ap),"Layouts")}function V$(e,t){for(let n=0;n<e.length-1;n++)t(e[n],e[n+1])}function Mo(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function U$(e,t,n){const r=e.indexOf(t);r<0||e.splice(r+1,0,n)}function z$(e,t){const n=["edges","edge-labels","focusring","nodes","node-labels","paths"];return se(()=>{const r=sP(e.view.builtInLayerOrder).filter(s=>{const i=n.includes(s);return i||console.warn(`Layer ${s} is not a built-in layer.`),i}).reverse(),o=[...n];return V$(r,(s,i)=>{Mo(o,i),U$(o,s,i)}),"edge-label"in t||"edges-label"in t||Mo(o,"edge-labels"),e.node.focusring.visible||Mo(o,"focusring"),e.node.label.visible===!1&&Mo(o,"node-labels"),e.path.visible||Mo(o,"paths"),o})}const ad=()=>new Promise(e=>rs(e)),B$=["x","y","width","height","fill","stroke","stroke-width","stroke-dasharray"],K$=Me({__name:"VSelectionBox",props:{box:null,config:null},setup(e){return(t,n)=>(z(),X("rect",{class:"v-ng-selection-box",x:Math.round(e.box.pos.x),y:Math.round(e.box.pos.y),width:Math.ceil(e.box.size.width),height:Math.ceil(e.box.size.height),fill:e.config.color,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeDasharray},null,8,B$))}}),H$=["points","fill"],Z$=Me({__name:"VMarkerHeadArrow",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const t=e,n=se(()=>{const r=t.width,o=t.height;return t.isSource?`${r} ${o}, 0 ${o/2}, ${r} 0`:`0 0, ${r} ${o/2}, 0 ${o}`});return(r,o)=>(z(),X("polygon",{points:M(n),fill:e.color},null,8,H$))}}),W$=["points","stroke-width","stroke"],Y$=Me({__name:"VMarkerHeadAngle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){const t=e,n=se(()=>t.units==="strokeWidth"?1:Math.min(t.width,t.height)/5),r=se(()=>{const o=n.value/2,s=t.width,i=t.height;return t.isSource?`${s-o} ${i-o}, ${o} ${i/2}, ${s-o} ${o}`:`${o} ${o}, ${s-o} ${i/2}, ${o} ${i-o}`});return(o,s)=>(z(),X("polyline",{points:M(r),fill:"none","stroke-width":M(n),stroke:e.color,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,W$))}}),G$=["fill","cx","cy","rx","ry"],J$=Me({__name:"VMarkerHeadCircle",props:{width:null,height:null,refX:null,color:null,isSource:{type:Boolean},units:null},setup(e){return(t,n)=>(z(),X("ellipse",{fill:e.color,cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2},null,8,G$))}}),X$=["id","markerWidth","markerHeight","refX","refY","markerUnits"],Q$=Me({__name:"VMarkerHead",props:{id:null,marker:null,scale:null},setup(e){const t=e,n={arrow:Z$,angle:Y$,circle:J$},r=se(()=>t.marker.width*(t.marker.units==="strokeWidth"?1:t.scale)),o=se(()=>t.marker.height*(t.marker.units==="strokeWidth"?1:t.scale)),s=se(()=>{const a=t.marker.margin*(t.marker.units==="strokeWidth"?1:t.scale);return t.marker.isSource?r.value+a:-a}),i=se(()=>{const a=t.marker.offset*(t.marker.units==="strokeWidth"?1:t.scale);return t.marker.isSource?a:-a});return(a,l)=>e.marker.type!=="none"&&e.marker.type!=="custom"?(z(),X("marker",{key:0,id:e.id,markerWidth:M(r),markerHeight:M(o),refX:M(s),refY:M(o)/2+M(i),orient:"auto",markerUnits:e.marker.units,class:"v-ng-marker"},[(z(),ke(Qd(n[e.marker.type]),{width:M(r),height:M(o),refX:M(s),color:e.marker.color,"is-source":e.marker.isSource,units:e.marker.units},null,8,["width","height","refX","color","is-source","units"]))],8,X$)):gt("",!0)}}),q$={class:"v-ng-background-grid","shape-rendering":"crispEdges"},eT=["d"],tT=["d"],nT=["d"],rT=["d"],oT=Me({__name:"VBackgroundGrid",setup(e){const{container:t,svgPanZoom:n}=zl(),{zoomLevel:r}=Xt(),o=m$(),s=yP(),i=be({x:0,y:0}),a=be({width:500,height:500});Cn(()=>{var f;const h=(f=n.value)==null?void 0:f.getPan();h&&(i.value={x:-h.x,y:-h.y});const y=t.value.getBoundingClientRect();a.value={width:y.width,height:y.height}}),o.on("view:resize",f=>{a.value={width:f.width,height:f.height}}),o.on("view:pan",f=>{i.value={x:-f.x,y:-f.y}}),o.on("view:zoom",()=>{var f;const h=(f=n.value)==null?void 0:f.getPan();h&&(i.value={x:-h.x,y:-h.y})});const l=be([]),c=be([]),u=be([]),d=be([]);return Jt(()=>{const f=[],h=[],y=[],E=[],w=1/r.value,p=s.grid.interval,v=i.value.x*w,b=i.value.y*w,_=Math.floor(a.value.width/p+1)*p,S=Math.floor(a.value.height/p+1)*p,m=(i.value.x+_)*w,C=(i.value.y+S)*w,O=s.grid.thickIncrements,L=s.grid.line.dasharray,V=s.grid.thick.dasharray;let W={stroke:s.grid.thick.color,"stroke-width":s.grid.thick.width,"stroke-dasharray":V,"stroke-dashoffset":V?v/w:void 0},F={stroke:s.grid.line.color,"stroke-width":s.grid.line.width,"stroke-dasharray":L,"stroke-dashoffset":L?v/w:void 0};const J=(i.value.x+_)*w;for(let ae=b;ae<=C;ae+=p){const ne=Math.floor(ae/p);O&&ne%O===0?f.push([ne,ne*p,v,J,W]):y.push([ne,ne*p,v,J,F])}W=At({},W),W["stroke-dashoffset"]=V?b/w:void 0,F=At({},F),F["stroke-dashoffset"]=L?b/w:void 0;const te=(i.value.y+S)*w;for(let ae=v;ae<=m;ae+=p){const ne=Math.floor(ae/p);O&&ne%O===0?h.push([ne,ne*p,b,te,W]):E.push([ne,ne*p,b,te,F])}c.value=f,l.value=h,d.value=y,u.value=E}),(f,h)=>(z(),X("g",q$,[(z(!0),X(me,null,xe(d.value,([y,E,w,p,v])=>(z(),X("path",hn({key:`nv${y}`,d:`M ${w} ${E} L ${p} ${E}`},v,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,eT))),128)),(z(!0),X(me,null,xe(u.value,([y,E,w,p,v])=>(z(),X("path",hn({key:`nh${y}`,d:`M ${E} ${w} L ${E} ${p}`},v,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,tT))),128)),(z(!0),X(me,null,xe(c.value,([y,E,w,p,v])=>(z(),X("path",hn({key:`tv${y}`,d:`M ${w} ${E} L ${p} ${E}`},v,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,nT))),128)),(z(!0),X(me,null,xe(l.value,([y,E,w,p,v])=>(z(),X("path",hn({key:`th${y}`,d:`M ${E} ${w} L ${E} ${p}`},v,{style:{"vector-effect":"non-scaling-stroke"}}),null,16,rT))),128))]))}}),sT=Me({__name:"VBackgroundViewport",setup(e){const{viewport:t}=zl(),n=be(),r=(s,i,a)=>{s.forEach(l=>{var c;return i.setAttribute(l,(c=a.getAttribute(l))!=null?c:"")})},o=new MutationObserver(s=>{if(!n.value)return;const i=s.map(a=>{var l;return(l=a.attributeName)!=null?l:""}).filter(Boolean);r(i,n.value,t.value)});return Cn(()=>{const s=["transform","style"];o.observe(t.value,{attributes:!0,attributeFilter:s}),n.value&&r(s,n.value,t.value)}),gr(()=>{o.disconnect()}),(s,i)=>(z(),X("g",{ref_key:"background",ref:n,class:"v-ng-background-viewport"},[Xe(s.$slots,"default")],512))}}),iT=["d","stroke-width"],aT=Me({__name:"VEdgeBackground",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const t=e,{scale:n}=Xt(),r=Ci(),{handleEdgePointerDownEvent:o,handleEdgePointerOverEvent:s,handleEdgePointerOutEvent:i,handleEdgeClickEvent:a,handleEdgeDoubleClickEvent:l,handleEdgeContextMenu:c}=cs(),u=se(()=>{const f=t.state.position;if(t.state.loop){const{radius:h,isLargeArc:y,isClockwise:E}=t.state.loop,[w,p]=h,v=y?1:0,b=E?1:0;return`M ${f.p1.x} ${f.p1.y} A ${w} ${p} 0 ${v} ${b} ${f.p2.x} ${f.p2.y}`}else{if(r.type==="straight"||!t.state.curve)return`M ${f.p1.x} ${f.p1.y} L ${f.p2.x} ${f.p2.y}`;{const h=[...t.state.curve.control,{x:f.p2.x,y:f.p2.y}],y=[];return y.push(`M ${f.p1.x} ${f.p1.y}`),jl(h,2).forEach(([E,w])=>y.push(`Q ${E.x} ${E.y} ${w.x} ${w.y}`)),y.join(" ")}}}),d=se(()=>(t.state.line.stroke.width+10)*n.value);return(f,h)=>(z(),X("path",{class:at({"v-ng-line-background":!0,selectable:e.state.selectable}),d:M(u),stroke:"transparent","stroke-width":M(d),fill:"none",onPointerdown:h[0]||(h[0]=vn(y=>M(o)(e.id,y),["stop"])),onPointerenterPassive:h[1]||(h[1]=y=>M(s)(e.id,y)),onPointerleavePassive:h[2]||(h[2]=y=>M(i)(e.id,y)),onClick:h[3]||(h[3]=vn(y=>M(a)(e.id,y),["stop"])),onDblclick:h[4]||(h[4]=vn(y=>M(l)(e.id,y),["stop"])),onContextmenu:h[5]||(h[5]=y=>M(c)(e.id,y))},null,42,iT))}}),lT=Me({__name:"VEdgeBackgrounds",setup(e){const{edgeStates:t,edgeGroupStates:n,layouts:r}=On();return(o,s)=>(z(!0),X(me,null,xe(M(n).edgeGroups,({summarize:i,edges:a})=>(z(),X(me,null,[i?gt("",!0):(z(!0),X(me,{key:0},xe(a,(l,c)=>(z(),ke(aT,{key:c,id:c,state:M(t)[c],"source-pos":M(r).nodes[l.source],"target-pos":M(r).nodes[l.target]},null,8,["id","state","source-pos","target-pos"]))),128))],64))),256))}}),cT=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],lp=Me({__name:"VLine",props:{p1:null,p2:null,config:null},setup(e){const t=e,{scale:n}=Xt(),r=se(()=>t.config.width*n.value),o=se(()=>ls(t.config.dasharray,n.value)),s=se(()=>{const i=t.config.animate?Pi(t.config.dasharray)*t.config.animationSpeed*n.value:!1;return i?{"--animation-speed":i}:void 0});return(i,a)=>(z(),X("path",{class:at({"v-ng-line":!0,animate:e.config.animate}),d:`M ${e.p1.x} ${e.p1.y} L ${e.p2.x} ${e.p2.y}`,stroke:e.config.color,"stroke-width":M(r),"stroke-dasharray":M(o),"stroke-linecap":e.config.linecap,style:Bn(M(s))},null,14,cT))}}),uT=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap"],dT=Me({__name:"VArc",props:{p1:null,p2:null,radius:null,isLargeArc:{type:Boolean},isClockwise:{type:Boolean},config:null},setup(e){const t=e,{scale:n}=Xt(),r=se(()=>t.config.width*n.value),o=se(()=>ls(t.config.dasharray,n.value)),s=se(()=>{const a=t.config.animate?Pi(t.config.dasharray)*t.config.animationSpeed*n.value:!1;return a?{"--animation-speed":a}:void 0}),i=se(()=>{const{p1:a,p2:l,radius:c,isLargeArc:u,isClockwise:d}=t,[f,h]=c,y=u?1:0,E=d?1:0;return`M ${a.x} ${a.y} A ${f} ${h} 0 ${y} ${E} ${l.x} ${l.y}`});return(a,l)=>(z(),X("path",{class:at({"v-ng-line":!0,animate:e.config.animate}),d:M(i),stroke:e.config.color,"stroke-width":M(r),"stroke-dasharray":M(o),"stroke-linecap":e.config.linecap,style:Bn(M(s)),fill:"none"},null,14,uT))}}),fT=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","marker-start","marker-end"],hT=Me({__name:"VEdgeCurved",props:{state:null,config:null,markerStart:{default:void 0},markerEnd:{default:void 0}},setup(e){const t=e,{scale:n}=Xt(),r=se(()=>{var a,l;const c=t.state.position,u=[...(l=(a=t.state.curve)==null?void 0:a.control)!=null?l:[],{x:c.p2.x,y:c.p2.y}],d=[];return d.push(`M ${c.p1.x} ${c.p1.y}`),jl(u,2).forEach(([f,h])=>d.push(`Q ${f.x} ${f.y} ${h.x} ${h.y}`)),d.join(" ")}),o=se(()=>t.config.width*n.value),s=se(()=>ls(t.config.dasharray,n.value)),i=se(()=>{const a=t.config.animate?Pi(t.config.dasharray)*t.config.animationSpeed*n.value:!1;return a?{"--animation-speed":a}:void 0});return(a,l)=>(z(),X("path",{class:at({"v-ng-line":!0,animate:e.config.animate}),d:M(r),fill:"none",stroke:e.config.color,"stroke-width":M(o),"stroke-dasharray":M(s),"stroke-linecap":e.config.linecap,style:Bn(M(i)),"marker-start":e.markerStart,"marker-end":e.markerEnd},null,14,fT))}}),pT=Me({__name:"VEdge",props:{id:null,state:null,sourcePos:{default:void 0},targetPos:{default:void 0}},setup(e){const t=Ci();return(n,r)=>e.state.loop?(z(),ke(dT,hn({key:0},e.state.position,{radius:e.state.loop.radius,"is-large-arc":e.state.loop.isLargeArc,"is-clockwise":e.state.loop.isClockwise,class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["radius","is-large-arc","is-clockwise","class","config","marker-start","marker-end"])):M(t).type=="straight"||!e.state.curve?(z(),ke(lp,hn({key:1,"data-edge-id":e.id},e.state.position,{class:[{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"],config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0}),null,16,["data-edge-id","class","config","marker-start","marker-end"])):(z(),ke(hT,{key:2,"data-edge-id":e.id,class:at([{selectable:e.state.selectable,hover:e.state.hovered,selected:e.state.selected},"v-ng-edge"]),state:e.state,config:e.state.line.stroke,"marker-start":e.state.sourceMarkerId?`url('#${e.state.sourceMarkerId}')`:void 0,"marker-end":e.state.targetMarkerId?`url('#${e.state.targetMarkerId}')`:void 0},null,8,["data-edge-id","class","state","config","marker-start","marker-end"]))}}),vT=["cx","cy","r","fill","stroke","stroke-width","stroke-dasharray"],mT=["x","y","width","height","rx","ry","fill","stroke","stroke-width","stroke-dasharray"],Ni=Me({__name:"VShape",props:{baseX:{default:0},baseY:{default:0},config:null},setup(e){const t=e,{scale:n}=Xt(),r=be(t.baseX),o=be(t.baseY),s=be(0),i=be("#000000"),a=be(void 0),l=be(0),c=be(0),u=be(0),d=be(0);return Jt(()=>{var f;const h=n.value;s.value=t.config.strokeWidth*h,i.value=(f=t.config.strokeColor)!=null?f:"none",a.value=ls(t.config.strokeDasharray,h),t.config.type==="circle"?(r.value=t.baseX,o.value=t.baseY,l.value=t.config.radius*h):(c.value=t.config.width*h,u.value=t.config.height*h,d.value=t.config.borderRadius*h,r.value=t.baseX-c.value/2,o.value=t.baseY-u.value/2)}),(f,h)=>e.config.type==="circle"?(z(),X("circle",{key:0,class:"v-ng-shape-circle",cx:r.value,cy:o.value,r:l.value,fill:e.config.color,stroke:i.value,"stroke-width":s.value,"stroke-dasharray":a.value},null,8,vT)):(z(),X("rect",{key:1,class:"v-ng-shape-rect",x:r.value,y:o.value,width:c.value,height:u.value,rx:d.value,ry:d.value,fill:e.config.color,stroke:i.value,"stroke-width":s.value,"stroke-dasharray":a.value},null,8,mT))}}),gT=["rx","ry","fill","transform"],yT=["x","y","dominant-baseline","font-family","font-size","fill"],bT=["x","dy","dominant-baseline"],Mi=Me({__name:"VLabelText",props:{text:null,x:{default:0},y:{default:0},dominantBaseline:{default:"central"},config:null},setup(e){const t=e,n=zv(),{scale:r}=Xt(),o=se(()=>{var w,p;return(p=(w=t.text)==null?void 0:w.toString().split(/\r?\n/))!=null?p:""}),s=se(()=>{var w;return(w=n["font-size"])!=null?w:t.config.fontSize*r.value}),i=se(()=>s.value*t.config.lineHeight),a=se(()=>{const w=t.dominantBaseline;return w==="hanging"?0:w==="central"?-(i.value*(o.value.length-1))/2:-i.value*(o.value.length-1)}),l=be(),c=be(""),u=Kt({x:0,y:0,width:0,height:0}),d=se(()=>{var w,p;const v=t.config.background;if(!v)return u;let b,_;v.padding instanceof Object?(b=v.padding.vertical,_=v.padding.horizontal):(b=(w=v.padding)!=null?w:0,_=(p=v.padding)!=null?p:0);const S=i.value-s.value;return{x:u.x-_*r.value,y:u.y-b*r.value-S/2,width:u.width+_*2*r.value,height:u.height+b*2*r.value+S}});let f;const h=()=>{t.config.background&&t.config.background.visible?!f&&l.value&&(f=E(l.value,u,c)):(f==null||f.disconnect(),f=void 0)};Cn(()=>h()),De(()=>t.config.background&&t.config.background.visible,(w,p)=>{w!=p&&h()}),gr(()=>{f==null||f.disconnect(),f=void 0});function y(w,p,v){var b;const _=w.getBBox();p.x=_.x,p.y=_.y,p.width=_.width,p.height=_.height,v.value=(b=w.getAttribute("transform"))!=null?b:void 0}function E(w,p,v){const b=new MutationObserver(()=>{y(w,p,v)});return b.observe(w,{attributes:!0,attributeFilter:["x","y","transform","font-size"]}),y(w,p,v),b}return(w,p)=>{var v,b,_,S,m,C;return z(),X(me,null,[e.config.background&&e.config.background.visible?(z(),X("rect",hn({key:0,class:"v-ng-text-background"},M(d),{rx:((b=(v=e.config.background)==null?void 0:v.borderRadius)!=null?b:0)*M(r),ry:((S=(_=e.config.background)==null?void 0:_.borderRadius)!=null?S:0)*M(r),fill:(C=(m=e.config.background)==null?void 0:m.color)!=null?C:"#ffffff",transform:c.value}),null,16,gT)):gt("",!0),he("text",hn({ref_key:"element",ref:l,class:"v-ng-text"},w.$attrs,{x:e.x,y:e.y,"dominant-baseline":e.dominantBaseline,"font-family":w.$attrs["font-family"]?`${w.$attrs["font-family"]}`:e.config.fontFamily,"font-size":M(s),fill:w.$attrs.fill?`${w.$attrs.fill}`:e.config.color}),[M(o).length<=1?(z(),X(me,{key:0},[Ro(Et(e.text),1)],64)):(z(!0),X(me,{key:1},xe(M(o),(O,L)=>(z(),X("tspan",{key:L,x:e.x,dy:L==0?M(a):M(i),"dominant-baseline":e.dominantBaseline},Et(O),9,bT))),128))],16,yT)],64)}}}),_T=Me({__name:"VEdgeSummarized",props:{edges:null,layouts:null},setup(e){const t=e,n=Ci(),{handleEdgesPointerDownEvent:r,handleEdgesPointerOverEvent:o,handleEdgesPointerOutEvent:s,handleEdgesClickEvent:i,handleEdgesDoubleClickEvent:a,handleEdgesContextMenu:l}=cs(),{edgeStates:c}=On(),u=be({p1:{x:0,y:0},p2:{x:0,y:0}}),d=be({x:0,y:0});Jt(()=>{const b=Object.keys(t.edges).find(_=>_ in c);b&&(u.value=c[b].position,d.value={x:(u.value.p1.x+u.value.p2.x)/2,y:(u.value.p1.y+u.value.p2.y)/2})});const f=se(()=>Object.keys(t.edges)),h=se(()=>fe.values(n.summarized.label,t.edges)),y=se(()=>fe.values(n.summarized.shape,t.edges)),E=se(()=>fe.values(n.summarized.stroke,t.edges)),w=se(()=>f.value.some(b=>c[b].hovered)),p=se(()=>f.value.some(b=>c[b].selectable)),v=se(()=>f.value.some(b=>c[b].selected));return(b,_)=>(z(),X("g",{class:at({"v-ng-line-summarized":!0,hovered:M(w),selectable:M(p),selected:M(v)}),onPointerdown:_[0]||(_[0]=vn(S=>M(r)(M(f),S),["stop"])),onPointerenterPassive:_[1]||(_[1]=S=>M(o)(M(f),S)),onPointerleavePassive:_[2]||(_[2]=S=>M(s)(M(f),S)),onClick:_[3]||(_[3]=vn(S=>M(i)(M(f),S),["stop"])),onDblclick:_[4]||(_[4]=vn(S=>M(a)(M(f),S),["stop"])),onContextmenu:_[5]||(_[5]=S=>M(l)(M(f),S))},[Je(lp,hn(u.value,{config:M(E),"data-edge-id":M(f)[0]}),null,16,["config","data-edge-id"]),Je(Ni,{"base-x":d.value.x,"base-y":d.value.y,config:M(y)},null,8,["base-x","base-y","config"]),Je(Mi,{text:Object.keys(e.edges).length.toString(),x:d.value.x,y:d.value.y,config:M(h),"text-anchor":"middle","dominant-baseline":"central"},null,8,["text","x","y","config"])],34))}}),wT={class:"v-ng-edge-overlay"},ld=Me({__name:"VEdgeOverlay",props:{edgeId:{default:void 0},edge:{default:void 0},edges:{default:()=>({})},state:null,isSummarized:{type:Boolean}},setup(e){const t=e,{svg:n}=zl(),{scale:r}=Xt(),o=Ci();function s(){return t.isSummarized?fe.values(o.summarized.stroke,t.edges):t.state.line.stroke}function i(u){return{source:u.p1,target:u.p2}}function a(u){if(u.curve)return u.curve.center;{const d=u.origin.p1,f=u.origin.p2;return{x:(d.x+f.x)/2,y:(d.y+f.y)/2}}}function l(){var u;if(!n.value)return 0;const d=(u=t.edgeId)!=null?u:Object.keys(t.edges)[0],f=n.value.querySelector(`path[data-edge-id="${d}"]`);return f?f.getTotalLength():0}function c(u){var d;if(!n.value||!isFinite(u))return t.state.position.p1;t.state;const f=(d=t.edgeId)!=null?d:Object.keys(t.edges)[0],h=n.value.querySelector(`path[data-edge-id="${f}"]`);if(!h)return t.state.position.p1;const y=h.getPointAtLength(u);return{x:y.x,y:y.y}}return(u,d)=>(z(),X("g",wT,[e.isSummarized?Xe(u.$slots,"default",{key:0,edges:e.edges,isSummarized:e.isSummarized,stroke:s(),position:i(e.state.origin),center:a(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:M(r),length:l(),pointAtLength:c}):Xe(u.$slots,"default",{key:1,edgeId:e.edgeId,edge:e.edge,edges:{[e.edgeId]:e.edge},isSummarized:e.isSummarized,stroke:s(),position:i(e.state.origin),center:a(e.state),hovered:e.state.hovered,selected:e.state.selected,scale:M(r),length:l(),pointAtLength:c})]))}}),ET=Me({__name:"VEdgeGroups",props:{hasEdgeOverlaySlot:{type:Boolean}},setup(e){const{edgeStates:t,edgeZOrderedList:n,layouts:r}=On();return(o,s)=>(z(!0),X(me,null,xe(M(n),i=>(z(),X(me,null,[M(KP)(i)?(z(),X(me,{key:0},[(z(),ke(_T,{key:i.key,edges:i.group.edges,layouts:M(r).nodes},null,8,["edges","layouts"])),e.hasEdgeOverlaySlot?(z(),ke(ld,{key:i.key,edges:i.group.edges,state:M(t)[Object.keys(i.group.edges)[0]],"is-summarized":!0},{default:Qe(a=>[Xe(o.$slots,"default",jt(xt(a)))]),_:2},1032,["edges","state"])):gt("",!0)],64)):(z(),X(me,{key:1},[(z(),ke(pT,{id:i.key,key:i.key,state:M(t)[i.key],"source-pos":M(r).nodes[i.edge.source],"target-pos":M(r).nodes[i.edge.target]},null,8,["id","state","source-pos","target-pos"])),e.hasEdgeOverlaySlot?(z(),ke(ld,{key:i.key,"edge-id":i.key,edge:i.edge,state:M(t)[i.key],"is-summarized":!1},{default:Qe(a=>[Xe(o.$slots,"default",jt(xt(a)))]),_:2},1032,["edge-id","edge","state"])):gt("",!0)],64))],64))),256))}}),ST={class:"v-ng-layer-edges"},PT=Me({__name:"VEdgesLayer",setup(e){const t=ui(),n=se(()=>"edge-overlay"in t);return(r,o)=>(z(),X("g",ST,[Je(lT),Je(ET,{"has-edge-overlay-slot":M(n)},Qa({_:2},[M(n)?{name:"default",fn:Qe(s=>[Xe(r.$slots,"edge-overlay",jt(xt(s)))]),key:"0"}:void 0]),1032,["has-edge-overlay-slot"])]))}}),$T=Me({__name:"VEdgeLabelPlace",props:{edgeId:null,edge:null,state:null},setup(e){const t=e,{scale:n}=Xt(),r=se(()=>Wh(t.state.labelPosition,t.state.line.stroke,t.state.label.margin,t.state.label.padding,n.value));return(o,s)=>e.state.loop?gt("",!0):Xe(o.$slots,"default",{key:0,edgeId:e.edgeId,edge:e.edge,config:e.state.label,area:M(r),hovered:e.state.hovered,selected:e.state.selected,scale:M(n)})}}),TT=Me({__name:"VEdgeLabelsPlace",props:{edges:null,state:null,summarizeState:null},setup(e){const t=e,{scale:n}=Xt(),r=se(()=>{var o,s;return Wh(t.state.labelPosition,(s=(o=t.summarizeState)==null?void 0:o.stroke)!=null?s:t.state.line.stroke,t.state.label.margin,t.state.label.padding,n.value)});return(o,s)=>e.state.loop?gt("",!0):Xe(o.$slots,"default",{key:0,edges:e.edges,config:e.state.label,area:M(r),hovered:e.state.hovered,selected:e.state.selected,scale:M(n)})}}),CT={class:"v-ng-edge-labels"},OT=Me({__name:"VEdgeLabels",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){const{edgeStates:t,edgeGroupStates:n,summarizedEdgeStates:r}=On(),o=se(()=>{const i={},a={};return Object.entries(n.edgeGroups).forEach(([l,c])=>{Object.keys(c.edges).length>0&&(c.summarize?a[l]=c:i[l]=c)}),{individual:i,summarized:a}});function s(i){return Object.keys(i.edges)[0]}return(i,a)=>(z(),X("g",CT,[e.enableEdgeLabel?(z(!0),X(me,{key:0},xe(M(o).individual,(l,c)=>(z(),X(me,{key:c},[(z(!0),X(me,null,xe(l.edges,(u,d)=>(z(),ke($T,{key:d,"edge-id":d,edge:u,state:M(t)[d]},{default:Qe(f=>[Xe(i.$slots,"edge-label",jt(xt(f)))]),_:2},1032,["edge-id","edge","state"]))),128))],64))),128)):gt("",!0),e.enableEdgesLabel?(z(!0),X(me,{key:1},xe(M(o).summarized,(l,c)=>(z(),ke(TT,{key:c,edges:l.edges,state:M(t)[s(l)],"summarize-state":M(r)[s(l)]},{default:Qe(u=>[Xe(i.$slots,"edges-label",jt(xt(u)))]),_:2},1032,["edges","state","summarize-state"]))),128)):gt("",!0)]))}}),IT=Me({__name:"VEdgeLabelsLayer",props:{enableEdgeLabel:{type:Boolean,default:!1},enableEdgesLabel:{type:Boolean,default:!1}},setup(e){return(t,n)=>(z(),ke(OT,{"enable-edge-label":e.enableEdgeLabel,"enable-edges-label":e.enableEdgesLabel,class:"v-ng-layer-edge-labels"},Qa({_:2},[e.enableEdgeLabel?{name:"edge-label",fn:Qe(r=>[Xe(t.$slots,"edge-label",jt(xt(r)))]),key:"0"}:void 0,e.enableEdgesLabel?{name:"edges-label",fn:Qe(r=>[Xe(t.$slots,"edges-label",jt(xt(r)))]),key:"1"}:void 0]),1032,["enable-edge-label","enable-edges-label"]))}}),NT=Me({__name:"VNodeFocusRing",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=se(()=>{var i;return((i=t.pos)==null?void 0:i.x)||0}),r=se(()=>{var i;return((i=t.pos)==null?void 0:i.y)||0}),o=Ti(),s=Kt({});return Jt(()=>{var i,a,l;const c=t.state.shape;if(c.type==="circle"){const u={type:"circle",radius:c.radius+((i=c.strokeWidth)!=null?i:0)/2+o.focusring.padding+o.focusring.width/2,color:"none",strokeWidth:o.focusring.width,strokeColor:o.focusring.color,strokeDasharray:o.focusring.dasharray};Object.assign(s,u)}else{const u={type:"rect",width:c.width+((a=c.strokeWidth)!=null?a:0)+o.focusring.padding*2+o.focusring.width,height:c.height+((l=c.strokeWidth)!=null?l:0)+o.focusring.padding*2+o.focusring.width,borderRadius:c.borderRadius>0?c.borderRadius+o.focusring.padding:0,color:"none",strokeWidth:o.focusring.width,strokeColor:o.focusring.color,strokeDasharray:o.focusring.dasharray};Object.assign(s,u)}}),(i,a)=>(z(),ke(Ni,{class:"v-ng-node-focusring","base-x":M(n),"base-y":M(r),config:s},null,8,["base-x","base-y","config"]))}}),MT={class:"v-ng-layer-nodes-selections"},AT=Me({__name:"VFocusringLayer",setup(e){const{nodeStates:t}=On(),{selectedNodes:n}=F$(),r=ec();return(o,s)=>(z(),X("g",MT,[(z(!0),X(me,null,xe(M(n),i=>(z(),ke(NT,{id:i,key:i,state:M(t)[i],pos:M(r).nodes[i]},null,8,["id","state","pos"]))),128))]))}}),kT=["transform"],cd=Me({__name:"VNode",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=se(()=>{var d;return((d=t.pos)==null?void 0:d.x)||0}),r=se(()=>{var d;return((d=t.pos)==null?void 0:d.y)||0}),{scale:o}=Xt(),{handleNodePointerDownEvent:s,handleNodePointerOverEvent:i,handleNodePointerOutEvent:a,handleNodeClickEvent:l,handleNodeDoubleClickEvent:c,handleNodeContextMenu:u}=cs();return(d,f)=>(z(),X("g",{class:at({"v-ng-node":!0,hover:e.state.hovered,selected:e.state.selected}),transform:`translate(${M(n)} ${M(r)})`,onPointerdown:f[0]||(f[0]=vn(h=>M(s)(e.id,h),["stop"])),onPointerenterPassive:f[1]||(f[1]=h=>M(i)(e.id,h)),onPointerleavePassive:f[2]||(f[2]=h=>M(a)(e.id,h)),onClick:f[3]||(f[3]=vn(h=>M(l)(e.id,h),["stop"])),onDblclick:f[4]||(f[4]=vn(h=>M(c)(e.id,h),["stop"])),onContextmenu:f[5]||(f[5]=h=>M(u)(e.id,h))},[Xe(d.$slots,"override-node",{nodeId:e.id,scale:M(o),config:e.state.shape,class:at({draggable:e.state.draggable,selectable:e.state.selectable})},()=>[Je(Ni,{config:e.state.shape,class:at({"v-ng-node-default":!0,draggable:e.state.draggable,selectable:e.state.selectable})},null,8,["config","class"])])],42,kT))}}),DT=Me({__name:"VNodesLayer",setup(e){const t=ui(),n=se(()=>"override-node"in t),{nodeZOrderedList:r}=On(),o=Ti(),s=ec();return(i,a)=>M(n)?(z(),ke(Go,{key:0,name:M(o).transition,css:!!M(o).transition,tag:"g",class:"v-ng-layer-nodes"},{default:Qe(()=>[(z(!0),X(me,null,xe(M(r),l=>(z(),ke(cd,{id:l.id,key:l.id,state:l,pos:M(s).nodes[l.id]},{"override-node":Qe(c=>[Xe(i.$slots,"override-node",jt(xt(c)))]),_:2},1032,["id","state","pos"]))),128))]),_:3},8,["name","css"])):(z(),ke(Go,{key:1,name:M(o).transition,css:!!M(o).transition,tag:"g",class:"v-ng-layer-nodes"},{default:Qe(()=>[(z(!0),X(me,null,xe(M(r),l=>(z(),ke(cd,{id:l.id,key:l.id,state:l,pos:M(s).nodes[l.id]},null,8,["id","state","pos"]))),128))]),_:1},8,["name","css"]))}}),cp={[Pe.NORTH]:0,[Pe.NORTH_EAST]:1,[Pe.EAST]:2,[Pe.SOUTH_EAST]:3,[Pe.SOUTH]:4,[Pe.SOUTH_WEST]:5,[Pe.WEST]:6,[Pe.NORTH_WEST]:7,[Pe.CENTER]:-1},xT=[(e,t)=>qn(e,0,t?90:60),(e,t)=>qn(e,45,t?90:45),(e,t)=>qn(e,90,t?60:30),(e,t)=>qn(e,135,t?90:45),(e,t)=>qn(e,180,t?90:60),(e,t)=>qn(e,225,t?90:45),(e,t)=>qn(e,270,t?60:30),(e,t)=>qn(e,315,t?90:45)];function LT(e,t,n,r,o){if(o===Pe.CENTER)return Pe.CENTER;const s=[];Object.entries(n).forEach(([l,c])=>{let u=!1;if(c.nodeId===e){const f=r(l);f&&(u=!0,c=Si(At({},c),{pos:{x:f.x,y:f.y}}))}const d=(Gl(Bl(c.pos,t))+360+90)%360;s.push([d,u])});const i=RT(o),a=[i,(i+4)%8,(i+2)%8,(i-2+8)%8,(i+1)%8,(i-1+8)%8,(i+3)%8,(i-3+8)%8].find(l=>s.every(c=>!xT[l](...c)));return a===void 0?o:FT(a,o)}function qn(e,t,n){e%=360;const r=(t-n+360)%360,o=(t+n)%360;return r<=o?r<e&&e<o:r<e||e<o}function RT(e){var t;return(t=cp[e])!=null?t:0}function FT(e,t){var n,r;return(r=(n=Object.entries(cp)[e])==null?void 0:n[0])!=null?r:t}const jT=["transform"],ud=Me({__name:"VNodeLabel",props:{id:null,state:null,pos:{default:void 0}},setup(e){const t=e,n=Ti(),{edgeStates:r}=On(),{scale:o}=Xt(),{handleNodePointerDownEvent:s,handleNodePointerOverEvent:i,handleNodePointerOutEvent:a,handleNodeClickEvent:l,handleNodeDoubleClickEvent:c,handleNodeContextMenu:u}=cs(),d=se(()=>{var V;return((V=t.pos)==null?void 0:V.x)||0}),f=se(()=>{var V;return((V=t.pos)==null?void 0:V.y)||0}),h=se(()=>t.state.label.direction===Pe.CENTER?0:t.state.label.margin*o.value),y=be(0),E=be(0),w=be(0),p=be(0),v=se(()=>{var V;const W=t.state.label.direction,F=t.state.label.directionAutoAdjustment;if(F===!1)return W;const J={x:d.value,y:f.value};return F===!0?LT(t.state.id,J,t.state.oppositeNodes,te=>{var ae,ne;return(ne=(ae=r[te])==null?void 0:ae.loop)==null?void 0:ne.center},W):(V=F({nodeId:t.state.id,pos:J,oppositeNodes:t.state.oppositeNodes}))!=null?V:W}),b=se(()=>{switch(v.value){case Pe.CENTER:case Pe.NORTH:case Pe.SOUTH:return"middle";case Pe.EAST:case Pe.NORTH_EAST:case Pe.SOUTH_EAST:return"start";case Pe.WEST:case Pe.NORTH_WEST:case Pe.SOUTH_WEST:default:return"end"}}),_=se(()=>{switch(v.value){case Pe.NORTH:case Pe.NORTH_EAST:case Pe.NORTH_WEST:return"text-top";case Pe.SOUTH:case Pe.SOUTH_EAST:case Pe.SOUTH_WEST:return"hanging";case Pe.CENTER:case Pe.EAST:case Pe.WEST:default:return"central"}}),S=se(()=>{switch(v.value){case Pe.CENTER:case Pe.NORTH:case Pe.SOUTH:return 0;case Pe.EAST:return E.value;case Pe.WEST:return-E.value;case Pe.NORTH_EAST:case Pe.SOUTH_EAST:return p.value;case Pe.NORTH_WEST:case Pe.SOUTH_WEST:default:return-p.value}}),m=se(()=>{switch(v.value){case Pe.NORTH:return-y.value;case Pe.SOUTH:return y.value;case Pe.CENTER:case Pe.EAST:case Pe.WEST:return 0;case Pe.NORTH_EAST:case Pe.NORTH_WEST:return-w.value;case Pe.SOUTH_EAST:case Pe.SOUTH_WEST:default:return w.value}});Jt(()=>{const V=o.value,W=t.state.shape;if(W.type=="circle"){const F=W.radius*V,J=F+h.value,te=Math.sqrt(Lt(J,2)/2);y.value=F+h.value,E.value=F+h.value,w.value=te,p.value=te}else{const F=W.borderRadius*V,J=W.width*V,te=W.height*V,ae=F+h.value,ne=Math.sqrt(Lt(ae,2)/2);y.value=te/2+h.value,E.value=J/2+h.value,w.value=te/2-F+ne,p.value=J/2-F+ne}});const C=se(()=>V=>n.label.handleNodeEvents?{pointerdown:W=>{W.stopPropagation(),s(V,W)},pointerenter:W=>i(V,W),pointerleave:W=>a(V,W),click:W=>{W.stopPropagation(),l(V,W)},dblclick:W=>{W.stopPropagation(),c(V,W)},contextmenu:W=>{u(V,W)}}:{}),O=se(()=>{const V=n.label.handleNodeEvents;return{"v-ng-node-label":!0,hover:V&&t.state.hovered,selected:V&&t.state.selected}}),L=se(()=>{const V=n.label.handleNodeEvents;return{draggable:V&&t.state.draggable,selectable:V&&t.state.selectable}});return(V,W)=>(z(),X("g",hn({class:M(O),transform:`translate(${M(d)} ${M(f)})`},Vv(M(C)(e.id),!0)),[Xe(V.$slots,"override-node-label",{nodeId:e.id,scale:M(o),text:e.state.labelText,x:M(S),y:M(m),config:e.state.label,shape:e.state.shape,textAnchor:M(b),dominantBaseline:M(_),class:at(M(L))},()=>[Je(Mi,{text:e.state.labelText,x:0,y:0,config:e.state.label,"text-anchor":M(b),"dominant-baseline":M(_),class:at(M(L)),transform:`translate(${M(S)} ${M(m)})`},null,8,["text","config","text-anchor","dominant-baseline","class","transform"])])],16,jT))}}),VT=Me({__name:"VNodeLabelsLayer",setup(e){const t=ui(),n=se(()=>"override-node-label"in t),{nodeZOrderedList:r}=On(),o=Ti(),s=ec(),i=se(()=>a(r.value));function a(l){return l.filter(c=>{var u;return c.label.visible&&((u=c.labelText)!=null?u:!1)})}return(l,c)=>M(n)?(z(),ke(Go,{key:0,name:M(o).transition,css:!!M(o).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:Qe(()=>[(z(!0),X(me,null,xe(M(i),u=>(z(),ke(ud,{id:u.id,key:u.id,state:u,pos:M(s).nodes[u.id]},{"override-node-label":Qe(d=>[Xe(l.$slots,"override-node-label",jt(xt(d)))]),_:2},1032,["id","state","pos"]))),128))]),_:3},8,["name","css"])):(z(),ke(Go,{key:1,name:M(o).transition,css:!!M(o).transition,tag:"g",class:"v-ng-layer-node-labels"},{default:Qe(()=>[(z(!0),X(me,null,xe(M(i),u=>(z(),ke(ud,{id:u.id,key:u.id,state:u,pos:M(s).nodes[u.id]},null,8,["id","state","pos"]))),128))]),_:1},8,["name","css"]))}});function $s(...e){return e.find(t=>!!t)}const UT=Number.EPSILON*100;function zT(e,t,n,r,o,s,i,a){var l,c;const u=e.edges,d=BT(u),f=u.map((p,v)=>HT(p,d[v],r[p.edgeId])),h=[];let y=!1,E=!1;{const p=f[0];let v=oo(t[p.source].shape)*o;const b=a+(i==="edgeOfNode"?v:0),_=b<=0?p.line.source:dd(p,b,n,!0);h.push(_),v=oo(t[p.target].shape)*o,a>0&&dt.distance(p.line.source,p.line.target)<=b+v&&(y=!0)}const w=u.length;for(let p=1;p<w;p++){const v=f[p-1],b=f[p],_=b.source,S=Le.fromObject((l=n[_])!=null?l:{x:0,y:0}),m=KT(v,b,S),C=oo(t[_].shape)*o,O=Math.max(C*(2/3),C-4*o),L=ka(v),V=ka(b),W=Ts(v,S,O,L),F=Ts(b,S,O,!V),J=Ts(v,S,C,L),te=Ts(b,S,C,!V);let ae;if(m){const ne=dt.distance(m,S);if(ne<O)ae=[$s(W,J,v.line.target),m,$s(F,te,b.line.source)];else if(ne<=C){let pe,ue;J&&W?pe=dt.distance(m,W)<dt.distance(m,J)?W:J:pe=J||v.line.target,te&&F?ue=dt.distance(m,F)<dt.distance(m,te)?F:te:ue=te||b.line.source,ae=[pe,m,ue]}else W&&F?ae=[W,S,F]:J&&te?ae=[J,S,te]:ae=[$s(W,J,v.line.target),S,$s(F,te,b.line.source)]}else W&&F?ae=[W,S,F]:J&&te?ae=[J,S,te]:ae=[v.line.target,S,b.line.source];if(v.curve){const ne=h[h.length-1];if(ne){const pe=ne instanceof Array?ne[ne.length-1]:ne;let ue;ae instanceof Array?ue=s?ae[0]:ae[1]:ue=ae;const Ve=Na(pe,v.curve.circle.center,ue,v.curve.theta);ae instanceof Array&&s?h.push([...Ve,...ae]):h.push([...Ve,ue])}}else if(v.loop){const[ne,pe,ue]=hd(S,v,C);h.push(ne),h.push(ue),ae instanceof Array&&s?h.push([pe,ae[1],ae[2]]):h.push(ae[2])}else s||!(ae instanceof Array)?h.push(ae):b.curve?h.push(ae[1]):b.loop?h.push(ae[0]):h.push(ae[0],ae[2])}{const p=f[f.length-1];let v=oo(t[p.target].shape)*o;const b=a+(i==="edgeOfNode"?v:0),_=b<=0?p.line.target:dd(p,b,n,!1);if(v=oo(t[p.source].shape)*o,p.loop){const S=Le.fromObject((c=n[p.target])!=null?c:{x:0,y:0}),[m,C,O]=hd(S,p,v);h.push(m),h.push(O)}else if(p.curve){const S=h[h.length-1],m=S instanceof Array?S[S.length-1]:S,C=Na(m,p.curve.circle.center,_,p.curve.theta);h.push([...C,_])}else h.push(_);a>0&&dt.distance(p.line.source,p.line.target)<=b+v&&(E=!0)}return y&&(h.shift(),h[0]instanceof Array&&h.unshift(h[0][0])),E&&h.pop(),h}function BT(e){const t=e.length;if(t<=1)return[!0];const n=[];let r=null,o=!0;for(let s=0;s<t;s++){const i=e[s].edge.source,a=e[s].edge.target;if(s===0)if(t>2){const l=[i,a].sort(),c=[e[1].edge.source,e[1].edge.target].sort();l[0]===c[0]&&l[1]===c[1]?[e[2].edge.source,e[2].edge.target].includes(e[1].edge.target)?o=a===e[1].edge.source:o=a===e[1].edge.target:o=[e[1].edge.source,e[1].edge.target].includes(a)}else o=[e[1].edge.source,e[1].edge.target].includes(a);else i===a||(o=r===i);n.push(o),r=o?a:i}return n}function dd(e,t,n,r){const o=r?e.source:e.target,s=e.curve;if(s){let i=t/s.circle.radius;return s.theta>0&&(i*=-1),r||(i*=-1),Le.fromObject(fr(r?e.line.source:e.line.target,s.circle.center,i))}else{let i,a;if(r?(i=e.line.target,a=e.line.source):(i=e.line.source,a=e.line.target),n[o]){const l=Oi(i,a,Le.fromObject(n[o]),t);return l===null?i:l}else return i}}function KT(e,t,n){let r=null;if(e.loop||t.loop)r=null;else if(e.curve)if(t.curve){if(e.line.target.isEqualTo(t.line.source))return e.line.target.clone();r=ns(e.curve.circle.center,e.curve.circle.radius,t.curve.circle.center,t.curve.circle.radius,e.curve.center)}else r=AP(t.line.target,t.line.source,e.curve.circle.center,e.curve.circle.radius,n);else if(t.curve)r=Oi(e.line.source,e.line.target,t.curve.circle.center,t.curve.circle.radius);else{const o=fd(e.line),s=fd(t.line);!isFinite(o)&&!isFinite(s)||Math.abs(o-s)<UT?r=null:r=Nr(e.line,t.line)}return r}function Ts(e,t,n,r){if(e.loop){const o=ns(t,n,e.loop.center,e.loop.radius[0]);return o?r?o[0]:o[1]:null}else return e.curve?ns(t,n,e.curve.circle.center,e.curve.circle.radius,Le.fromObject(e.curve.center)):Oi(r?e.line.source:e.line.target,r?e.line.target:e.line.source,t,n)}function HT(e,t,n){let r=n.origin,o=e.edge.source,s=e.edge.target,i=n.curve;const a=n.loop;a?r=n.position:t||(r=MP(r),o=e.edge.target,s=e.edge.source,i&&(i=Si(At({},i),{theta:-i.theta})));const l=st.fromLinePosition(r);return{edgeId:e.edgeId,source:o,target:s,line:l,direction:t,curve:i,loop:a}}function fd(e){return(e.target.y-e.source.y)/(e.target.x-e.source.x)}function hd(e,t,n){const{radius:r,center:o}=Ge(t.loop,"Loop of edge parameter"),[s,i]=r,a=ns(e,n,o,r[0]);let[l,c]=a?a.reverse():[t.line.source,t.line.target];const u=ka(t);u||([l,c]=[c,l]);const d=l,f=c,h=Le.fromObject(d).subtract(o).angleDegree();let y=(Le.fromObject(f).subtract(o).angleDegree()+360-h)%360>=180;return y=u?y:!y,[d,f,`A ${s} ${i} 0 ${y?1:0} ${u?1:0} ${f.x} ${f.y}`]}function ka(e){return e.loop?e.direction?e.loop.isClockwise:!e.loop.isClockwise:!0}const ZT=["d","stroke","stroke-width","stroke-dasharray","stroke-linecap","stroke-linejoin"],WT=Me({__name:"VPath",props:{path:null},setup(e){const t=e,{nodeStates:n,edgeStates:r,layouts:o}=On(),{scale:s}=Xt(),i=jh();function a(f){if(f.edges.length===0)return[];const h=fe.value(i.margin,f.path)*s.value;return zT(f,n,o.nodes,r,s.value,i.curveInNode,i.end,h)}function l(f){const h=a(f);let y=!0;return h.map(E=>{if(E===null)y=!0;else{if(typeof E=="string")return E;if(E instanceof Array){E=[...E];const w=[];if(E.length%2===1){const p=E[0];E=E.slice(1),w.push(`L ${p.x} ${p.y}`)}return jl(E,2).map(([p,v])=>w.push(`Q ${p.x} ${p.y} ${v.x} ${v.y}`)),w.join(" ")}else{const w=y;return y=!1,`${w?"M ":"L "}${E.x} ${E.y}`}}}).join(" ")}const c=se(()=>{const f=t.path;return f.selected?fe.values(i.selected,f.path):f.hovered&&i.hover?fe.values(i.hover,f.path):fe.values(i.normal,f.path)}),u=se(()=>ls(c.value.dasharray,s.value)),d=se(()=>{const f=c.value.animate?Pi(c.value.dasharray)*c.value.animationSpeed*s.value:!1;return f?{"--animation-speed":f}:void 0});return(f,h)=>(z(),X("path",{class:at({"v-ng-path":!0,animate:M(c).animate,clickable:e.path.clickable,hoverable:e.path.hoverable}),d:l(e.path),fill:"none",stroke:M(c).color,"stroke-width":M(c).width*M(s),"stroke-dasharray":M(u),"stroke-linecap":M(c).linecap,"stroke-linejoin":M(c).linejoin,style:Bn(M(d))},null,14,ZT))}}),YT=Me({__name:"VPaths",setup(e){const{pathZOrderedList:t}=On(),n=jh(),{handlePathPointerDownEvent:r,handlePathPointerOverEvent:o,handlePathPointerOutEvent:s,handlePathClickEvent:i,handlePathDoubleClickEvent:a,handlePathContextMenu:l}=cs();return(c,u)=>(z(),ke(Go,{name:M(n).transition,css:!!M(n).transition,tag:"g",class:"v-ng-paths"},{default:Qe(()=>[(z(!0),X(me,null,xe(M(t),d=>(z(),ke(WT,{key:d.id,path:d,onPointerdown:f=>M(r)(d.id,f),onPointerenterPassive:f=>M(o)(d.id,f),onPointerleavePassive:f=>M(s)(d.id,f),onClick:vn(f=>M(i)(d.id,f),["stop"]),onDblclick:vn(f=>M(a)(d.id,f),["stop"]),onContextmenu:f=>M(l)(d.id,f)},null,8,["path","onPointerdown","onPointerenterPassive","onPointerleavePassive","onClick","onDblclick","onContextmenu"]))),128))]),_:1},8,["name","css"]))}}),GT=Me({__name:"VPathsLayer",setup(e){return(t,n)=>(z(),ke(YT))}}),JT={key:0},XT=Me({__name:"VNetworkGraph",props:{nodes:{default:()=>({})},edges:{default:()=>({})},paths:{default:()=>({})},layouts:{default:()=>({})},zoomLevel:{default:1},selectedNodes:{default:()=>[]},selectedEdges:{default:()=>[]},selectedPaths:{default:()=>[]},configs:{default:()=>({})},layers:{default:()=>({})},eventHandlers:{default:()=>({})}},emits:["update:zoomLevel","update:selectedNodes","update:selectedEdges","update:selectedPaths","update:layouts"],setup(e,{expose:t,emit:n}){const r=e,o=["override-node","override-node-label","edge-overlay","edge-label","edges-label"],s=ui(),i=Dn(r,"nodes"),a=Dn(r,"edges"),{objects:l,isInCompatibilityModeForPath:c}=x$(Dn(r,"paths")),u=v$();Object.entries(r.eventHandlers).forEach(([Z,ye])=>{u.on(Z,ye)});const d=gP(Dn(r,"configs")),f=se(()=>{const Z=new Set(Object.keys(s));o.forEach(ve=>Z.delete(ve));const ye=Object.fromEntries(dP.map(ve=>[ve,[]]));return Object.assign(ye,Object.entries(r.layers).reduce((ve,[Ne,wt])=>(Z.delete(Ne),wt in ve?ve[wt].push(Ne):ve[wt]=[Ne],ve),{})),ye.root.push(...Z),ye}),h=se(()=>d.view.grid.visible),y=se(()=>{const Z=f.value;return h.value||Z.background.length>0||Z.grid.length>0}),E=z$(d,s),w=be(),p=be(),v=be(),b=be(0),_=se(()=>b.value!==0),S=L$(r,"zoomLevel",n,Z=>(Z=Math.max(Z,d.view.minZoomLevel),Z=Math.min(Z,d.view.maxZoomLevel),Z)),{svgPanZoom:m,onSvgPanZoomMounted:C,onSvgPanZoomUnmounted:O}=M$(p,{viewportSelector:".v-ng-viewport",minZoom:d.view.minZoomLevel,maxZoom:d.view.maxZoomLevel,dblClickZoomEnabled:Wn(d.view),mouseWheelZoomEnabled:kt(d.view),fit:d.view.autoPanAndZoomOnLoad==="fit-content",center:d.view.autoPanAndZoomOnLoad!==!1,zoomEnabled:d.view.zoomEnabled,preventMouseEventsDefault:!1,onZoom:Z=>{var ye,ve;if(b.value===2)return;const Ne=(ve=(ye=m.value)==null?void 0:ye.getRealZoom())!=null?ve:1;Math.abs(S.value-Ne)>=1e-6&&(S.value=Ne,u.emit("view:zoom",Ne))},panEnabled:d.view.panEnabled,onPan:Z=>{b.value!==2&&u.emit("view:pan",Z)}});fP({container:w,svg:p,viewport:v,svgPanZoom:m});const L={width:0,height:0},V=globalThis.ResizeObserver?new ResizeObserver(()=>{var Z,ye,ve;if((Z=m.value)==null||Z.resize(),!d.view.autoPanOnResize)return;const Ne=(ye=w.value)==null?void 0:ye.getBoundingClientRect();if(Ne){const wt=-(L.width-Ne.width)/2,_o=-(L.height-Ne.height)/2;(ve=m.value)==null||ve.panBy({x:wt,y:_o});const{width:_r,height:wo}=Ne;(L.width!==_r||L.height!==wo)&&(Object.assign(L,{width:_r,height:wo}),u.emit("view:resize",{x:Ne.x,y:Ne.y,width:_r,height:wo}))}}):void 0;C(()=>{var Z,ye,ve;const Ne=Ge(w.value,"svg-pan-zoom container");V==null||V.observe(Ne),(ye=(Z=d.view).onSvgPanZoomInitialized)==null||ye.call(Z,Ge(m.value,"svg-pan-zoom instance"));const wt=Ne.getBoundingClientRect(),{width:_o,height:_r}=wt;Object.assign(L,{width:_o,height:_r}),(ve=v.value)==null||ve.addEventListener("touchstart",Yn,{passive:!1})}),O(()=>{var Z;V==null||V.disconnect(),(Z=v.value)==null||Z.removeEventListener("touchstart",Yn)});const W=Z=>{var ye;(ye=m.value)==null||ye.applyAbsoluteZoomLevel(Z,d.view.minZoomLevel,d.view.maxZoomLevel)};De(()=>d.view.panEnabled,Z=>{var ye;(ye=m.value)==null||ye.setPanEnabled(Z)}),De(()=>[d.view.zoomEnabled,Wn(d.view),kt(d.view)],()=>{const Z=m.value;Z&&an(Z,d.view.zoomEnabled,d.view.doubleClickZoomEnabled,d.view.mouseWheelZoomEnabled)}),De(S,Z=>W(Z)),De(()=>[d.view.minZoomLevel,d.view.maxZoomLevel],Z=>{W(S.value)});const{scale:F}=A$(S,d.view);C(()=>{const Z=r.zoomLevel;W(Z)});const J=()=>wn(this,null,function*(){var Z;Object.keys(r.nodes).length>0&&((Z=m.value)==null||Z.updateBBox(),yield ad())}),te=()=>wn(this,null,function*(){yield J(),m.value&&(m.value.fitToContents(),u.emit("view:fit",void 0))}),ae=()=>wn(this,null,function*(){var Z;yield J(),(Z=m.value)==null||Z.center()}),ne=()=>{var Z,ye;return(ye=(Z=m.value)==null?void 0:Z.getViewBox())!=null?ye:{top:0,bottom:0,left:0,right:0}},pe=Z=>{var ye;return(ye=m.value)==null?void 0:ye.setViewBox(Z)},ue=Xi(r,"selectedNodes",i,n);De(ue,Z=>u.emit("node:select",Array.from(Z)));const Ve=Xi(r,"selectedEdges",a,n);De(Ve,Z=>u.emit("edge:select",Array.from(Z)));const re=Xi(r,"selectedPaths",l,n);De(re,Z=>u.emit("path:select",Array.from(Z))),R$(ue,Ve,re);const x=sr(new Set),Y=sr(new Set),j=sr(new Set),P=sr({nodes:{}});j$(P),De(()=>r.layouts,()=>Object.assign(P,r.layouts),{deep:!0,immediate:!0}),De(P,()=>n("update:layouts",P),{deep:!0});const I=FP(),K=be(!1);u.on("node:dragstart",Z=>K.value=!0),u.on("node:dragend",Z=>K.value=!1),u.on("view:mode",Z=>{var ye,ve,Ne,wt;d.view.panEnabled&&(Z==="default"?(ye=m.value)==null||ye.enablePan():(ve=m.value)==null||ve.disablePan()),d.view.zoomEnabled&&(Z==="default"?(Ne=m.value)==null||Ne.enableZoom():(wt=m.value)==null||wt.disableZoom())});const le=se(()=>d.view.panEnabled||d.view.zoomEnabled||d.node.draggable),{nodeStates:ce,edgeStates:Te,pathStates:Oe}=BP(Gi(i,ue,x),Gi(a,Ve,Y),Gi(l,re,j),Mr(d),P,I,F),D=se(()=>kt(d.view)),{isBoxSelectionMode:g,selectionBox:$,startBoxSelection:A,stopBoxSelection:R}=h$(p,Mr(P),Mr(S),ce,Te,Oe,ue,Ve,re,x,Y,j,c,D,d,u),U=()=>({layouts:sr(P.nodes),nodePositions:Dn(P,"nodes"),nodes:i,edges:a,configs:Mr(d),scale:Mr(F),emitter:u,svgPanZoom:Ge(m.value)});De(()=>d.view.layoutHandler,(Z,ye)=>{ye.deactivate(),Z.activate(U())});const{transitionWhile:Q,transitionOption:oe}=D$(),q=se(()=>{const Z=oe.value;return Z.enabled?{"--transition-duration":Z.duration+"ms","--transition-function":Z.timingFunction}:{}});C(()=>wn(this,null,function*(){if(d.view.onBeforeInitialDisplay){const ve=d.view.onBeforeInitialDisplay();wP(ve)&&(yield ve)}const Z=Ge(m.value,"svg-pan-zoom");d.view.layoutHandler.activate(U()),yield ad();const ye=d.view.autoPanAndZoomOnLoad;if(d.view.fit||ye!==!1){const ve=Object.keys(r.nodes).length==0,Ne=Z.getPan();if(ve||ye==="center-zero"){yield J();const wt=Z.getSizes();Z.pan({x:wt.width/2,y:wt.height/2})}else ye==="fit-content"||d.view.fit?yield te():ye==="center-content"?yield ae():yield J();rs(()=>{const wt=Z.getPan();Ne.x===wt.x&&Ne.y===wt.y&&u.emit("view:pan",wt)})}else yield J();u.emit("view:load"),b.value=1})),O(()=>{b.value=2,u.emit("view:unload"),d.view.layoutHandler.deactivate()});function ee(){var Z;(Z=m.value)==null||Z.zoomIn()}function G(){var Z;(Z=m.value)==null||Z.zoomOut()}function de(Z){var ye;(ye=m.value)==null||ye.pan(Z)}function ie(Z){var ye;(ye=m.value)==null||ye.panBy(Z)}function ge(){return Ge(m.value).getPan()}function Se(){const Z=Ge(m.value).getSizes();return{width:Z.width,height:Z.height,viewBox:Z.viewBox}}function Ce(Z){return Ma(Ge(p.value,"svg"),Ge(v.value,"viewport"),Z)}function Be(Z){return i$(Ge(p.value,"svg"),Ge(v.value,"viewport"),Z)}function Ue(){return Qh(Ge(p.value,"svg"),Ge(v.value,"viewport"),F.value).outerHTML}function ze(){return wn(this,arguments,function*(Z={}){return(yield ft(Z)).outerHTML})}function ft(){return wn(this,arguments,function*(Z={}){return l$(Ge(p.value,"svg"),Ge(v.value,"viewport"),F.value,Z)})}t({fitToContents:te,panToCenter:ae,getViewBox:ne,setViewBox:pe,transitionWhile:Q,startBoxSelection:A,stopBoxSelection:R,zoomIn:ee,zoomOut:G,panTo:de,panBy:ie,getPan:ge,getSizes:Se,translateFromDomToSvgCoordinates:Ce,translateFromSvgToDomCoordinates:Be,getAsSvg:Ue,exportAsSvgText:ze,exportAsSvgElement:ft});function an(Z,ye,ve,Ne){Z.setZoomEnabled(ye),ye&&ve?Z.enableDblClickZoom():Z.disableDblClickZoom(),ye&&Ne?Z.enableMouseWheelZoom():Z.disableMouseWheelZoom()}function Wn(Z){return Z.zoomEnabled&&Z.doubleClickZoomEnabled}function kt(Z){return Z.zoomEnabled&&Z.mouseWheelZoomEnabled}function Yn(Z){Z.stopPropagation()}return(Z,ye)=>(z(),X("div",{ref_key:"container",ref:w,class:"v-network-graph v-ng-container"},[(z(),X("svg",{ref_key:"svg",ref:p,class:at(["v-ng-canvas",{show:M(_),dragging:K.value,touches:M(le),"box-selection-mode":M(g)}]),width:"100%",height:"100%"},[(z(!0),X(me,null,xe(M(f).root,ve=>Xe(Z.$slots,ve,{key:ve,scale:M(F)})),128)),Object.keys(M(I).markers).length>0?(z(),X("defs",JT,[(z(!0),X(me,null,xe(M(I).markers,(ve,Ne)=>(z(),ke(Q$,{id:Ne,key:Ne,marker:ve,scale:M(F)},null,8,["id","marker","scale"]))),128))])):gt("",!0),M(y)?(z(),ke(sT,{key:1},{default:Qe(()=>[(z(!0),X(me,null,xe(M(f).background,ve=>(z(),X("g",{key:ve,class:"v-ng-layer"},[Xe(Z.$slots,ve,{scale:M(F)})]))),128)),M(h)?(z(),ke(oT,{key:0})):gt("",!0),(z(!0),X(me,null,xe(M(f).grid,ve=>(z(),X("g",{key:ve,class:"v-ng-layer"},[Xe(Z.$slots,ve,{scale:M(F)})]))),128))]),_:3})):gt("",!0),he("g",{ref_key:"viewport",ref:v,class:at(["v-ng-viewport",{"v-ng-transition":M(oe).enabled}]),style:Bn(M(q))},[(z(!0),X(me,null,xe(M(f).base,ve=>(z(),X("g",{key:ve,class:"v-ng-layer"},[Xe(Z.$slots,ve,{scale:M(F)})]))),128)),(z(!0),X(me,null,xe(M(E),ve=>(z(),X(me,{key:ve},[ve==="edges"?(z(),ke(PT,{key:0},Qa({_:2},["edge-overlay"in M(s)?{name:"edge-overlay",fn:Qe(Ne=>[Xe(Z.$slots,"edge-overlay",jt(xt(Ne)))]),key:"0"}:void 0]),1024)):ve==="edge-labels"?(z(),ke(IT,{key:1,"enable-edge-label":"edge-label"in M(s),"enable-edges-label":"edges-label"in M(s)},{"edge-label":Qe(Ne=>[Xe(Z.$slots,"edge-label",jt(xt(Ne)))]),"edges-label":Qe(Ne=>[Xe(Z.$slots,"edges-label",jt(xt(Ne)))]),_:3},8,["enable-edge-label","enable-edges-label"])):ve==="focusring"?(z(),ke(AT,{key:2})):ve==="nodes"?(z(),ke(DT,{key:3},{"override-node":Qe(Ne=>[Xe(Z.$slots,"override-node",jt(xt(Ne)))]),_:3})):ve==="node-labels"?(z(),ke(VT,{key:4},{"override-node-label":Qe(Ne=>[Xe(Z.$slots,"override-node-label",jt(xt(Ne)))]),_:3})):ve==="paths"?(z(),ke(GT,{key:5})):gt("",!0),(z(!0),X(me,null,xe(M(f)[ve],Ne=>(z(),X("g",{key:Ne,class:"v-ng-layer"},[Xe(Z.$slots,Ne,{scale:M(F)})]))),128))],64))),128))],6),M($)?(z(),ke(K$,{key:2,box:M($),config:M(d).view.selection.box},null,8,["box","config"])):gt("",!0)],2))],512))}}),QT=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},qT={};function eC(e,t){return z(),X("defs",null,[(z(),ke(Qd("style"),null,{default:Qe(()=>[Xe(e.$slots,"default")]),_:3}))])}const tC=QT(qT,[["render",eC]]),nC=Me({__name:"VEdgeLabel",props:{area:null,config:null,text:{default:""},align:{default:"center"},verticalAlign:{default:"center"},edge:{default:void 0},hovered:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},scale:{default:void 0}},setup(e){const t=e,n=be(0),r=be(0),o=be("middle"),s=be("central"),i=be(0);Jt(()=>{const l=t.area.source,c=t.area.target;t.align==="source"?(l.above.x==c.above.x?o.value=l.above.y>c.above.y?"start":"end":o.value=l.above.x<c.above.x?"start":"end",t.verticalAlign==="above"?(n.value=l.above.x,r.value=l.above.y,s.value="text-top"):t.verticalAlign==="below"?(n.value=l.below.x,r.value=l.below.y,s.value="hanging"):(n.value=(l.above.x+l.below.x)/2,r.value=(l.above.y+l.below.y)/2,s.value="central")):t.align==="target"?(l.above.x==c.above.x?o.value=l.above.y<c.above.y?"start":"end":o.value=l.above.x>c.above.x?"start":"end",t.verticalAlign==="above"?(n.value=c.above.x,r.value=c.above.y,s.value="text-top"):t.verticalAlign==="below"?(n.value=c.below.x,r.value=c.below.y,s.value="hanging"):(n.value=(c.above.x+c.below.x)/2,r.value=(c.above.y+c.below.y)/2,s.value="central")):(o.value="middle",t.verticalAlign==="above"?(n.value=(l.above.x+c.above.x)/2,r.value=(l.above.y+c.above.y)/2,s.value="text-top"):t.verticalAlign==="below"?(n.value=(l.below.x+c.below.x)/2,r.value=(l.below.y+c.below.y)/2,s.value="hanging"):(n.value=(l.above.x+c.below.x)/2,r.value=(l.above.y+c.below.y)/2,s.value="central"));let u=st.fromPositions(l.above,c.above).v.angleDegree();(u<-90||u>=90)&&(u=u+180,u>180&&(u-=360)),i.value=u});const a=se(()=>s.value==="central"&&!t.config.background?Si(At({},t.config),{background:{visible:!0,color:"#ffffff",padding:{vertical:1,horizontal:4},borderRadius:2}}):t.config);return(l,c)=>(z(),ke(Mi,{class:"v-ng-edge-label",text:e.text,x:n.value,y:r.value,config:M(a),"text-anchor":o.value,"dominant-baseline":s.value,transform:`rotate(${i.value} ${n.value} ${r.value})`},null,8,["text","x","y","config","text-anchor","dominant-baseline","transform"]))}}),rC=Object.freeze(Object.defineProperty({__proto__:null,VEdgeLabel:nC,VLabelText:Mi,VNetworkGraph:XT,VShape:Ni,VStyle:tC},Symbol.toStringTag,{value:"Module"})),oC=function(e){Object.entries(rC).forEach(([t,n])=>{e.component(t,n)})},sC=rg();Qm(k_).component("tabs",hh).component("tab",ro).use(sC).use(oC).mount("#app")});export default iC();
