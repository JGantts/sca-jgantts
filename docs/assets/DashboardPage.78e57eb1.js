var R=Object.defineProperty;var V=(t,e,n)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _=(t,e,n)=>(V(t,typeof e!="symbol"?e+"":e,n),n);import{c as $,h as N}from"./render.c8a7d7ff.js";import{i as U,q as k,s as O,J as Q,c as A,h as W,g as j,d as T,r as S,w as B,M as u,W as c,G as q,a0 as E,V as r,S as x,F as v,X as w,Q as F,Z as H,N as z,O as K,f as M}from"./index.a1cfdcbd.js";import{u as D}from"./example-store.3a312324.js";var G=$({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=j(),o=U(O,k);if(o===k)return console.error("QPage needs to be a deep child of QLayout"),k;if(U(Q,k)===k)return console.error("QPage needs to be child of QPageContainer"),k;const i=A(()=>{const d=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof t.styleFn=="function"){const f=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return t.styleFn(d,f)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-d+"px":n.screen.height===0?d!==0?`calc(100vh - ${d}px)`:"100vh":n.screen.height-d+"px"}}),p=A(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>W("main",{class:p.value,style:i.value},N(e.default))}});function J(t,e){const n=[],o=[];let a=!1;for(const i of t.split(".")){const p=X(i,e),d=[],f=[],I=[];let m=!1;for(const g of p)switch(g.syllabic){case"Syllabic":if(m)throw new Error("Couldn't parse syllables.");m=!0,f.push(C(g));break;case"Nonsyllabic":switch(o.push(C(g)),e.data.phoneTypes[g.typeID].articulation){case"Vowel":f.push(C(g));break;case"Consonant":m?I.push(C(g)):d.push(C(g));break}break}a=a||m,n.push({id:crypto.randomUUID(),onset:d,rhyme:{nucleus:f,coda:I}})}return a?{id:crypto.randomUUID(),kind:"syllables",syllables:n}:{id:crypto.randomUUID(),kind:"phones",phones:o}}function X(t,e){const n=[];let o=!1,a=0,i=0;for(;!o;){const p=Object.values(e.data.languages)[0].phonemesAll[i];if(!p){o=!0;break}t.substring(a,a+p.IPA.length)===p.IPA?(n.push(p),a+=p.IPA.length,i=0):(i+=1,i>=Object.values(e.data.languages)[0].phonemesAll.length&&(i=0,a+=1,a>=t.length&&(o=!0)))}return n}function C(t){if(!t)return{id:crypto.randomUUID(),type:"",features:{}};const e={};for(const n of t.featureStops)e[n.categoryId]=n.stopId;return{id:crypto.randomUUID(),type:t.typeID,features:e}}function Z(t){const e=D();!e.languages||e.languages.data.words.push(t)}function Y(t){console.log("blarg");const e=D();if(!e.languages)return;const n=e.languages.data.words.filter(a=>a.id===t.id)[0],o=e.languages.data.words.indexOf(n);e.languages.data.words.splice(o,1)}class ee{constructor(e){_(this,"kind","add");_(this,"lexeme");_(this,"do",()=>{switch(this.kind){case"add":this.addLexeme();break;case"remove":this.removeLexeme();break}});_(this,"undo",()=>{switch(this.kind){case"add":this.removeLexeme();break;case"remove":this.addLexeme();break}});this.lexeme=e}addLexeme(){Z(this.lexeme)}removeLexeme(){Y(this.lexeme)}}class te extends ee{constructor(){super(...arguments);_(this,"kind","add")}}function ne(t){return{id:crypto.randomUUID(),entryForm:t.word,entryTreeLimb:"",entryDate:0}}const re=r("br",null,null,-1),se={key:0},oe=r("tr",null,[r("th",null,"O"),r("th",null,"N"),r("th",null,"C")],-1),ae={key:1},le=r("tr",null,[r("th",null,"Nonsyllabic")],-1),ue={class:"ipa"},ie=r("br",null,null,-1),ce=r("br",null,null,-1),de=r("br",null,null,-1),he=r("h2",null,"List of words:",-1),pe=T({__name:"ExampleComponent",setup(t){const e=D();function n(l){let s="";switch(l.kind){case"syllables":for(const y of l.syllables)s!==""&&(s+="."),s+=o(y);break;case"phones":s+=a(l.phones);break}return s}function o(l){let s=a(l.onset);return s+=a(l.rhyme.nucleus),s+=a(l.rhyme.coda),s}function a(l){let s="";for(const y of l)s+=i(y);return s}function i(l){var s,y;return l==null||e.languages==null?"":(y=(s=Object.values(e.languages.data.phonemes).filter(P=>P.featureStops.every(L=>p(l,L)))[0])==null?void 0:s.IPA)!=null?y:"Error]"}function p(l,s){return l.features[s.categoryId]===s.stopId}const d=S(""),f=S(null),I=S({});B(d,()=>{if(console.log(e.languages),!!e.languages)try{m=J(d.value,e.languages),f.value=m,I.value=n(m)}catch{}});let m=null;function g(){!m||e.executeDo(new te(ne({word:m})))}return(l,s)=>{var y,P,L;return u(),c(v,null,[q(r("input",{"onUpdate:modelValue":s[0]||(s[0]=h=>d.value=h),placeholder:"type new word here"},null,512),[[E,d.value]]),re,r("p",null,"Interpretation: "+x(I.value),1),((y=f.value)==null?void 0:y.kind)=="syllables"?(u(),c("div",se,[r("table",null,[oe,(u(!0),c(v,null,w(f.value.syllables,h=>(u(),c("tr",{key:h.id},[r("td",null,[(u(!0),c(v,null,w(h.onset,b=>(u(),c("span",{key:b.id},x(i(b)),1))),128))]),r("td",null,[(u(!0),c(v,null,w(h.rhyme.nucleus,b=>(u(),c("span",{key:b.id},x(i(b)),1))),128))]),r("td",null,[(u(!0),c(v,null,w(h.rhyme.coda,b=>(u(),c("span",{key:b.id},x(i(b)),1))),128))])]))),128))])])):F("",!0),((P=f.value)==null?void 0:P.kind)=="phones"?(u(),c("div",ae,[r("table",null,[le,r("tr",null,[r("td",ue,[(u(!0),c(v,null,w(f.value.phones,h=>(u(),c("span",{key:h.id},x(i(h)),1))),128))])])])])):F("",!0),ie,r("button",{onClick:g}," Add to list "),ce,de,he,(u(!0),c(v,null,w((L=H(e).languages)==null?void 0:L.data.words,h=>(u(),c("li",{key:h.id,class:"roman-medium"},x(n(h.entryForm)),1))),128))],64)}}}),fe={style:{position:"relative",display:"grid"}},ve=T({__name:"DashboardPage",setup(t){return(e,n)=>(u(),z(G,{class:"row items-center justify-evenly"},{default:K(()=>[r("div",fe,[M(pe)])]),_:1}))}});export{ve as default};
